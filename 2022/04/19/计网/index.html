<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.1.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"invincible-nerd.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="一、2. 网络分类个域网PAN（ Personal Area Network ）  能在便携式消费电器与通信设备之间进行短距离通信的网络 覆盖范围一般在10米半径以内，如蓝牙耳机等  局域网LAN（Local Area Network）  局部地区形成的区域网络，如企业网络 分布地区范围有限，可大可小，大到一栋建筑、小到办公室内的组网 电脑WLAN接入，打印机共享等等  城域网MAN（Metrop">
<meta property="og:type" content="article">
<meta property="og:title" content="计网学习笔记">
<meta property="og:url" content="http://invincible-nerd.github.io/2022/04/19/%E8%AE%A1%E7%BD%91/index.html">
<meta property="og:site_name" content="IVN">
<meta property="og:description" content="一、2. 网络分类个域网PAN（ Personal Area Network ）  能在便携式消费电器与通信设备之间进行短距离通信的网络 覆盖范围一般在10米半径以内，如蓝牙耳机等  局域网LAN（Local Area Network）  局部地区形成的区域网络，如企业网络 分布地区范围有限，可大可小，大到一栋建筑、小到办公室内的组网 电脑WLAN接入，打印机共享等等  城域网MAN（Metrop">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-04-19T08:48:20.000Z">
<meta property="article:modified_time" content="2022-04-28T08:09:46.897Z">
<meta property="article:author" content="invincible-nerd">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://invincible-nerd.github.io/2022/04/19/%E8%AE%A1%E7%BD%91/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>计网学习笔记 | IVN</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">IVN</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://invincible-nerd.github.io/2022/04/19/%E8%AE%A1%E7%BD%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="invincible-nerd">
      <meta itemprop="description" content="For explorer everywhere">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IVN">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          计网学习笔记
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-04-19 16:48:20" itemprop="dateCreated datePublished" datetime="2022-04-19T16:48:20+08:00">2022-04-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-04-28 16:09:46" itemprop="dateModified" datetime="2022-04-28T16:09:46+08:00">2022-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS/" itemprop="url" rel="index"><span itemprop="name">CS</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>12k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>11 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="一、"><a href="#一、" class="headerlink" title="一、"></a>一、</h1><h2 id="2-网络分类"><a href="#2-网络分类" class="headerlink" title="2. 网络分类"></a>2. 网络分类</h2><p><strong>个域网PAN（ Personal Area Network ）</strong></p>
<ul>
<li>能在便携式消费电器与通信设备之间进行短距离通信的网络</li>
<li>覆盖范围一般在10米半径以内，如蓝牙耳机等</li>
</ul>
<p><strong>局域网LAN（Local Area Network）</strong></p>
<ul>
<li>局部地区形成的区域网络，如企业网络</li>
<li>分布地区范围有限，可大可小，大到一栋建筑、小到办公室内的组网</li>
<li>电脑WLAN接入，打印机共享等等</li>
</ul>
<p><strong>城域网MAN（Metropolitan Area Network ）</strong></p>
<ul>
<li>范围覆盖一个城市的网络</li>
</ul>
<p><strong>广域网WAN（Wide Area Network）</strong></p>
<ul>
<li>覆盖很大地理区域，乃至覆盖地区和国家</li>
</ul>
<h2 id="3-接入网"><a href="#3-接入网" class="headerlink" title="3. 接入网"></a>3. 接入网</h2><p><strong>接入网的用途</strong></p>
<ul>
<li>接入网的用途是将主机连接到边缘路由器上</li>
<li>边缘路由器是端系统Host去往任何其他远程端系统的路径上的第一台路由器</li>
</ul>
<h2 id="4-网络核心两大功能"><a href="#4-网络核心两大功能" class="headerlink" title="4. 网络核心两大功能"></a>4. 网络核心两大功能</h2><ol>
<li>路由 确定数据分组从源到目标所使用的路径（全局操作）</li>
<li>转发 路由器或交换机将接收到的数据分组转发出去（即移动到该设备的某个输出接口）（本地操作）</li>
</ol>
<h1 id="二、物理层"><a href="#二、物理层" class="headerlink" title="二、物理层"></a>二、物理层</h1><ul>
<li>物理层考虑的是怎样才能<strong>在连接各种计算机的传输媒体上传输数据比特流</strong>，而不是指具体的传输媒体。</li>
<li>物理层的作用是要尽可能地<strong>屏蔽掉不同传输媒体和通信手段的差异</strong>。</li>
<li>用于物理层的协议也常称为<strong>物理层规程</strong> (procedure)。</li>
</ul>
<h2 id="1-物理介质"><a href="#1-物理介质" class="headerlink" title="1. 物理介质"></a>1. 物理介质</h2><ol>
<li><p>光纤 </p>
<p>高速点对点</p>
</li>
<li><p>双绞线 </p>
<p>电话线为1对双绞线，网线为4对双绞线，广泛用于计算机网络（以太网）双向传输</p>
</li>
<li><p>同轴电缆  </p>
<p>两根同心铜导线，双向传输</p>
</li>
<li><p>无线电（陆地无线电、卫星无线电信道) </p>
<ul>
<li><p>电磁频谱中各种“波段”携带的信号</p>
</li>
<li><p>半双工（发送方到接收方）</p>
<p>Half Duplex, 一个时间段内只有一个动作发生</p>
</li>
<li><p>无线局域网（WiFi）<br>10-100 Mbps；10米</p>
</li>
<li><p>广域（如3&#x2F;4&#x2F;5G蜂窝）<br>在~10公里范围内</p>
</li>
<li><p>蓝牙：短距离，有限速率</p>
</li>
</ul>
</li>
</ol>
<h2 id="2-数据交换方式"><a href="#2-数据交换方式" class="headerlink" title="2. 数据交换方式"></a>2. 数据交换方式</h2><ol>
<li><p>分组交换</p>
<p><strong>分组交换采用把一个个小的数据包存储转发传输来实现数据交换。</strong></p>
<p>不具有实时性</p>
<p>会丢包</p>
</li>
<li><p>电路交换</p>
<p>建立连接、数据传输、释放连接</p>
</li>
</ol>
<h1 id="三、数据链路层"><a href="#三、数据链路层" class="headerlink" title="三、数据链路层"></a>三、数据链路层</h1><h2 id="1-功能"><a href="#1-功能" class="headerlink" title="1. 功能"></a>1. 功能</h2><p><strong>成帧 （Framing）</strong><br>将比特流划分成“帧”的主要目的是为了检测和纠正物理层在比特传输中可能出现的错误，数据链路层功能需借助“帧”的各个域来实现</p>
<p><strong>差错控制 （Error Control）</strong><br>处理传输中出现的差错，如位错误、丢失等</p>
<p><strong>流量控制 （Flow Control）</strong><br>确保发送方的发送速率，不大于接收方的处理速率，避免接收缓冲区溢出</p>
<h2 id="2-数据链路层提供的服务"><a href="#2-数据链路层提供的服务" class="headerlink" title="2. 数据链路层提供的服务"></a>2. 数据链路层提供的服务</h2><p>1.无确认 无连接 服务（ Unacknowledged connectionless ）</p>
<ul>
<li>接收方不对收到的帧进行确认</li>
<li>适用场景：误码率低的可靠信道；实时通信；</li>
<li>网络实例：以太网</li>
</ul>
<p>2.有确认 无连接 服务（ Acknowledged connectionless ）</p>
<ul>
<li>每一帧都得到单独的确认</li>
<li>适用场景：不可靠的信道（无线信道）</li>
<li>网络实例：802.11</li>
</ul>
<p>3.有确认 有连接 服务（ Acknowledged connection-oriented ）</p>
<ul>
<li>适用场景：长延迟的不可靠信道</li>
</ul>
<h2 id="3-成帧（Framing）"><a href="#3-成帧（Framing）" class="headerlink" title="3. 成帧（Framing）"></a>3. 成帧（Framing）</h2><p>要解决的关键问题：如何标识一个帧的开始？</p>
<ul>
<li><p>接收方必须能从物理层接收的比特流中明确区分出一帧的开始和结束，这个问题被称为帧同步或帧定界</p>
</li>
<li><p>关键：选择何种定界符？定界符出现在数据部分如何处理？</p>
</li>
<li><p>framing方式包括：</p>
<ol>
<li><p>带比特填充的定界符法</p>
<p>定界符：两个0比特之间，连续6个1比特，即01111110，0x7E</p>
</li>
<li><p>物理层编码违例</p>
<p>核心思想：选择的定界符不会在数据部分出现</p>
</li>
</ol>
</li>
</ul>
<h2 id="4-媒体接入控制"><a href="#4-媒体接入控制" class="headerlink" title="4. 媒体接入控制"></a>4. 媒体接入控制</h2><p>数据链路层分为两个子层：<br>MAC子层：介质访问 紧挨物理层<br>LLC子层：承上启下（弱层）紧挨网络层</p>
<p>MAC (Medium Access Control)子层</p>
<h3 id="4-1-无线局域网WLAN"><a href="#4-1-无线局域网WLAN" class="headerlink" title="4.1 无线局域网WLAN"></a>4.1 无线局域网WLAN</h3><p>无线局域网（Wireless Local Area Network，WLAN)：指以无线信道作为传输介质的计算机局域网</p>
<h3 id="4-2-虚拟局域网VLAN"><a href="#4-2-虚拟局域网VLAN" class="headerlink" title="4.2 虚拟局域网VLAN"></a>4.2 虚拟局域网VLAN</h3><h4 id="4-2-1-广播域"><a href="#4-2-1-广播域" class="headerlink" title="4.2.1 广播域"></a>4.2.1 广播域</h4><p><strong>广播域（Broadcasting Domain）</strong></p>
<ul>
<li>广播域是广播帧能够到达的范围；</li>
<li>缺省情况下，交换机所有端口同属于一个广播域，无法隔离广播域；</li>
<li>广播帧在广播域中传播，占用资源，降低性能，且具有安全隐患。</li>
</ul>
<h4 id="4-2-2-概况"><a href="#4-2-2-概况" class="headerlink" title="4.2.2 概况"></a>4.2.2 概况</h4><p><strong>VLAN是一个在物理网络上根据用途，工作组、应用等来逻辑划分的局域网络，与用户的物理位置没有关系。</strong></p>
<p>将一个物理意义上的LAN划分为若干个VLAN，不同VLAN的成员不能直接进行二层通信。</p>
<p>不同VLAN成员需要通过三层设备，（通过路由器或三层交换机进行VLAN间路由，）实现VLAN间通信。</p>
<p>VLAN类型：</p>
<ol>
<li>基于端口的VLAN</li>
<li>基于MAC地址的VLAN</li>
<li>基于协议的VLAN</li>
<li>基于子网的VLAN</li>
</ol>
<h1 id="四、网络层"><a href="#四、网络层" class="headerlink" title="四、网络层"></a>四、网络层</h1><h2 id="1-网络层概述"><a href="#1-网络层概述" class="headerlink" title="1. 网络层概述"></a>1. 网络层概述</h2><p>网络层在数据链路层提供的两个相邻端点之间的数据帧的传送功能上，进一步管理网络中的数据通信，将数据设法从源端经过若干个中间节点传送到目的端，从而向运输层提供最基本的端到端的数据传送服务。</p>
<h2 id="2-网络层关键功能"><a href="#2-网络层关键功能" class="headerlink" title="2. 网络层关键功能"></a>2. 网络层关键功能</h2><ol>
<li>路由（控制面）<ul>
<li>选择数据报从源端到目的端的路径</li>
<li>核心：路由算法与协议</li>
</ul>
</li>
<li>转发（数据面）<ul>
<li>将数据报从路由器的输入接口传送到正确的输出接口</li>
</ul>
</li>
</ol>
<h2 id="3-Internet网际协议"><a href="#3-Internet网际协议" class="headerlink" title="3. Internet网际协议"></a>3. Internet网际协议</h2><h3 id="3-1-IPv4"><a href="#3-1-IPv4" class="headerlink" title="3.1 IPv4"></a>3.1 IPv4</h3><h4 id="3-1-1-概述"><a href="#3-1-1-概述" class="headerlink" title="3.1.1 概述"></a>3.1.1 概述</h4><p>IPv4协议，网际协议版本4，一种无连接的协议，是互联网的核心，也是使用最广泛的网际协议版本，其后继版本为IPv6</p>
<p>Internet协议执行<strong>两个基本功能</strong></p>
<ul>
<li>寻址(addressing)</li>
<li>分片(fragmentation)</li>
</ul>
<p>相关问题与解决思路：</p>
<ol>
<li>为解决IPv4数据报长度大于传输链路的MTU的问题，通过<strong>分片机制</strong>解决：<strong>标识、标志、片偏移</strong></li>
<li>防止循环转发浪费网络资源（路由错误、设备故障…），通过<strong>跳数限制</strong>解决：<strong>生存时间TTL</strong></li>
<li>IP报头错误导致无效传输，通过<strong>头部机校验</strong>解决：<strong>首部校验和</strong></li>
</ol>
<p>注意：</p>
<ol>
<li>分组packet是网络层的概念，帧frame是数据链路层的概念</li>
<li>帧由头标、有效载荷和尾标组成</li>
</ol>
<h4 id="3-1-2-IP数据报"><a href="#3-1-2-IP数据报" class="headerlink" title="3.1.2 IP数据报"></a>3.1.2 IP数据报</h4><p>IPv4数据报由首部和数据两部分组成，首部包含：</p>
<ul>
<li><strong>版本</strong>： 4bit ，表示采用的IP协议版本</li>
<li><strong>首部长度</strong>： 4bit，表示整个IP数据报首部的长度</li>
<li><strong>区分服务</strong>： 8bit ，该字段一般情况下不使用</li>
<li><strong>总长度</strong>： 16bit ，表示整个IP报文的长度,能表示的最大字节为2^16-1&#x3D;65535字节</li>
<li><strong>标识</strong>： 16bit ， IP软件通过计数器自动产生，每产生1个数据报计数器加1；在ip分片以后，用来标识同一片分片</li>
<li><strong>标志</strong>： 3bit，目前只有两位有意义。<br>MF，置1表示后面还有分片，置0表示这是数据报片的最后1个；<br>DF，不能分片标志，置0时表示允许分片</li>
<li><strong>片偏移</strong>： 13bit，表示IP分片后，相应的IP片在总的IP片的相对位置</li>
<li><strong>生存时间TTL(Time To Live)</strong> ：8bit,表示数据报在网络中的生命周期，用通过路由器的数量来计量，即跳数（每经过一个路由器会减1）</li>
<li><strong>协议</strong>：8bit，标识上层协议（TCP&#x2F;UDP&#x2F;ICMP…）</li>
<li><strong>首部校验和</strong>：16bit ，对数据报首部进行校验，不包括数据部分</li>
<li><strong>源地址</strong>：32bit，标识IP片的发送源IP地址</li>
<li><strong>目的地址</strong>：32bit，标识IP片的目的地IP地址</li>
<li><strong>选项</strong>：可扩充部分，具有可变长度，定义了安全性、严格源路由、松散源路由、记录路由、时间戳等选项</li>
<li><strong>填充</strong>：用全0的填充字段补齐为4字节的整数倍</li>
</ul>
<p>数据报分片的原因是数据报长度大于传输链路的MTU</p>
<p>MTU（Maximum Transmission Unit）, 最大传输单元</p>
<ul>
<li>链路MTU</li>
<li>路径MTU (Path MTU)</li>
</ul>
<h3 id="3-2-IP地址"><a href="#3-2-IP地址" class="headerlink" title="3.2 IP地址"></a>3.2 IP地址</h3><h4 id="3-2-1-概述"><a href="#3-2-1-概述" class="headerlink" title="3.2.1 概述"></a>3.2.1 概述</h4><ul>
<li><p><strong>IP地址</strong>，网络上的每一台主机（或路由器）的每一个接口都会分配一个全球唯一的32位的标识符</p>
</li>
<li><p>将IP地址划分为固定的类，每一类都由两个字段组成</p>
</li>
<li><p>网络号相同的这块连续IP地址空间称为地址的<strong>前缀</strong>，或<strong>网络前缀</strong></p>
</li>
<li><p>IP地址共分为A、B、C、D、E五类，A类、B类、C类为单播地址</p>
</li>
<li><p>IP地址的书写采用点分十进制记法，其中每一段取值范围为0到255</p>
</li>
</ul>
<p>A,B,C类单播地址由net-id和host-id构成</p>
<h4 id="3-2-2-子网划分"><a href="#3-2-2-子网划分" class="headerlink" title="3.2.2 子网划分"></a>3.2.2 子网划分</h4><ul>
<li>子网划分(subnetting)，在网络内部将一个网络块进行划分以供多个内部网络使用，对外仍是一个网络</li>
<li>子网(subnet )，一个网络进行子网划分后得到的一系列结果网络称为子网</li>
<li>子网掩码(subnet mask )，与 IP 地址一一对应，是32 bit 的二进制数，置1表示网络位，置0表示主机位</li>
<li>子网划分减少了 IP 地址的浪费、网络的组织更加灵活、便于维护和管理</li>
</ul>
<h3 id="3-3-DHCP动态主机配置协议"><a href="#3-3-DHCP动态主机配置协议" class="headerlink" title="3.3 DHCP动态主机配置协议"></a>3.3 DHCP动态主机配置协议</h3><p>DHCP ：<strong>动态主机配置协议</strong></p>
<ul>
<li><p>当主机加入IP网络，允许主机从DHCP服务器动态获取IP地址</p>
</li>
<li><p>可以有效利用IP地址，方便移动主机的地址获取</p>
</li>
</ul>
<p>工作模式：客户&#x2F;服务器模式（ C&#x2F;S ）<br>基于 UDP 工作，服务器运行在 67 号端口， 客户端运行在 68 号端口</p>
<p>DHCP服务不只返回客户机所需的IP地址，还包括缺省路由器IP地址，DNS服务器IP地址，网络掩码</p>
<h3 id="3-4-ARP地址解析协议"><a href="#3-4-ARP地址解析协议" class="headerlink" title="3.4 ARP地址解析协议"></a>3.4 ARP地址解析协议</h3><p>网络设备有数据要发送给另一台网络设备时，必须要知道对方的网络层地址（即IP地址）。</p>
<p>IP地址由网络层来提供，但是仅有IP地址是不够的，IP数据报文必须封装成帧才能通过数据链路进行发送。</p>
<p>数据帧必须要包含目的MAC地址，因此发送端还必须获取到目的MAC地址。</p>
<p>通过目的IP地址而获取的MAC地址的过程是由ARP（Address Resolution Protocol）协议来实现的。</p>
<p>IP地址放在IP数据报的首部，而硬件地址则放在MAC帧的首部</p>
<p>IP数据报经过不同链路时，IP数据报中封装的IP地址不发生改变，而MAC帧中的硬件地址发生改变</p>
<h4 id="3-4-1-路由到另一个局域网"><a href="#3-4-1-路由到另一个局域网" class="headerlink" title="3.4.1 路由到另一个局域网"></a>3.4.1 路由到另一个局域网</h4><p>由主机A经路由器R传输到E的部分过程如下：</p>
<ol>
<li>A创建IP数据包（源为A、目的为E）</li>
<li>在源主机A的路由表中找到路由器R的IP地址223.1.1.4</li>
<li>A根据R的IP地址223.1.1.4，使用ARP协议获得R的MAC地址</li>
<li>A创建数据帧（目的地址为R的MAC地址）</li>
<li>数据帧中封装A到E的IP数据包</li>
<li>A发送数据帧，R接收数据帧</li>
</ol>
<h4 id="3-4-2-工作过程"><a href="#3-4-2-工作过程" class="headerlink" title="3.4.2 工作过程"></a>3.4.2 工作过程</h4><p>ARP协议的工作过程如下：</p>
<ol>
<li><p>A已知B的IP地址，需要获得B的MAC地址（物理地址）</p>
</li>
<li><p>如果A的ARP表中缓存有B的IP地址与MAC地址的映射关系，则直接从ARP表获取</p>
</li>
<li><p>如果A的ARP表中未缓存有B的IP地址与MAC地址的映射关系，则A广播包含B的IP地址的ARP query分组</p>
<p>注意：在局域网上的所有节点都可以接收到ARP query</p>
</li>
<li><p>B接收到ARP query分组后，将自己的MAC地址发送给A</p>
</li>
<li><p>A在ARP表中缓存B的IP地址和MAC地址的映射关系</p>
<p>注意：超时时删除</p>
</li>
</ol>
<h3 id="3-5-网络地址转换（NAT）"><a href="#3-5-网络地址转换（NAT）" class="headerlink" title="3.5 网络地址转换（NAT）"></a>3.5 网络地址转换（NAT）</h3><p><strong>定义</strong><br>网络地址转换(NAT)用于解决IPv4地址不足的问题，是一种将私有（保留）地址转化为公有IP地址的转换技术</p>
<p><strong>NAT的优势</strong></p>
<ul>
<li>节省合法地址，减少地址冲突</li>
<li>灵活连接Internet</li>
<li>保护局域网的私密性</li>
</ul>
<h3 id="3-6-ICMP-互联网控制报文协议"><a href="#3-6-ICMP-互联网控制报文协议" class="headerlink" title="3.6 ICMP: 互联网控制报文协议"></a>3.6 ICMP: 互联网控制报文协议</h3><p><strong>ICMP: Internet Control Message Protocol</strong></p>
<ul>
<li>ICMP 允许主机或路由器报告差错情况和提供有关异常情况的报告</li>
<li>由主机和路由器用于网络层信息的通信</li>
<li>ICMP 报文携带在IP 数据报中： IP上层协议号为1</li>
</ul>
<p><strong>ICMP报文类型</strong></p>
<ul>
<li>ICMP 差错报告报文<ul>
<li>终点不可达：不可达主机、不可达网络，无效端口、协议</li>
</ul>
</li>
<li>ICMP 询问报文<ul>
<li>回送请求&#x2F;回答 (ping使用)</li>
</ul>
</li>
</ul>
<h2 id="4-路由算法"><a href="#4-路由算法" class="headerlink" title="4. 路由算法"></a>4. 路由算法</h2><p>距离向量路由</p>
<p>链路状态路由</p>
<p>层次路由</p>
<p>广播路由</p>
<h2 id="5-Internet路由协议"><a href="#5-Internet路由协议" class="headerlink" title="5. Internet路由协议"></a>5. Internet路由协议</h2><p>路由协议</p>
<ul>
<li>内部网关协议 IGP： 有 RIP 和、OSPF、ISIS 等多种具体的协议</li>
<li>外部网关协议 EGP：目前使用的协议就是 BGP</li>
</ul>
<h3 id="5-1-路由选择协议"><a href="#5-1-路由选择协议" class="headerlink" title="5.1 路由选择协议"></a>5.1 路由选择协议</h3><ul>
<li><p>路由选择协议RIP（ Routing Information Protocol）是基于距离矢量算法的协议</p>
</li>
<li><p>使用跳数衡量到达目的网络的距离</p>
<ul>
<li>RIP 认为一个<strong>好的路由</strong>就是它通过的路由器的数目少，即“<strong>距离短</strong>”</li>
<li>RIP 允许一条路径最多只能包含 15 个路由器</li>
</ul>
</li>
<li><p>RIP协议的基本思想</p>
<ul>
<li>仅和<strong>相邻路由器</strong>交换信息</li>
<li>路由器交换的内容是自己的<strong>路由表</strong></li>
<li>周期性更新：<strong>30s</strong></li>
</ul>
</li>
</ul>
<p>RIP协议的特点：</p>
<ul>
<li>算法简单，易于实现</li>
<li>收敛慢</li>
<li>需要交换的信息量较大</li>
</ul>
<p>RIP协议的适用场合：</p>
<ul>
<li>中小型网络</li>
</ul>
<h3 id="5-2-BGP-外部网关路由协议"><a href="#5-2-BGP-外部网关路由协议" class="headerlink" title="5.2 BGP 外部网关路由协议"></a>5.2 BGP 外部网关路由协议</h3><p>边界网关协议<strong>BGP (Border Gateway Protocol)</strong></p>
<ul>
<li>目前互联网中唯一实际运行的自治域间的路由协议</li>
</ul>
<h2 id="6-路由器的工作原理"><a href="#6-路由器的工作原理" class="headerlink" title="6. 路由器的工作原理"></a>6. 路由器的工作原理</h2><p>路由器是互联网最主要的网络设备，包含2个核心功能</p>
<ul>
<li>控制层：运行各种路由协议：BGP、OSPF、RIP，学习去往不同目的的转发路径：路由表</li>
<li>数据层：根据上述路由表，将收到的IP分组转发到正确的下一跳链路</li>
</ul>
<h2 id="7-拥塞控制"><a href="#7-拥塞控制" class="headerlink" title="7. 拥塞控制"></a>7. 拥塞控制</h2><p><strong>拥塞</strong><br>网络中存在太多的数据包导致数据包传输延迟或丢失，从而导致网络吞吐量下降</p>
<p><strong>拥塞控制（congestion control）</strong><br>需要确保通信子网能够承载用户提交的通信量，是一个全局性问题，涉及主机、路由器等多种因素</p>
<h2 id="8-服务质量"><a href="#8-服务质量" class="headerlink" title="8. 服务质量"></a>8. 服务质量</h2><p><strong>什么是网络服务质量？（QoS, Quality of Service）</strong></p>
<p>QoS是网络在传输数据流时要满足一系列服务请求，具体可以量化为<strong>带宽、时延、抖动、丢包率</strong>等性能指标</p>
<h2 id="9-三层交换"><a href="#9-三层交换" class="headerlink" title="9. 三层交换"></a>9. 三层交换</h2><h3 id="9-1-三层交换的技术背景"><a href="#9-1-三层交换的技术背景" class="headerlink" title="9.1 三层交换的技术背景"></a>9.1 三层交换的技术背景</h3><ol>
<li><p>二层交换网络中的广播，限制了网络规模的扩展</p>
<ul>
<li><p>交换机对目标地址无法匹配的数据帧进行广播转发</p>
</li>
<li><p>交换机对目标地址为广播地址的数据帧进行广播转发</p>
</li>
<li><p>交换机为维护生成树状态产生大量的桥协议数据单元(Bridge Protocol Data Unit，BPDU)</p>
</li>
<li><p>这些广播帧会大量消耗网络资源，并频繁影响用户的数据通信</p>
</li>
</ul>
</li>
<li><p>VLAN虽然可以将广播的影响限定在一定范围内，但同时也隔离了正常的用户间数据通信</p>
</li>
<li><p>传统路由器致力于解决VLAN间互联互通，但是其转发效率和拓扑复杂性带来的网络通信瓶颈无法有效应对规模扩展</p>
</li>
</ol>
<h3 id="9-2-三层交换的动机"><a href="#9-2-三层交换的动机" class="headerlink" title="9.2 三层交换的动机"></a>9.2 三层交换的动机</h3><ul>
<li>利用第三层协议中的信息来加强第二层交换功能，形成带有路由功能的交换</li>
<li>融合VLAN 间的二层隔离和三层互通，消除大规模网络中广播对性能的影响</li>
<li>简化网络配置，简化网络拓扑，优化网络管理，降低网络部署成本</li>
</ul>
<h2 id="10-VPN的原理"><a href="#10-VPN的原理" class="headerlink" title="10. VPN的原理"></a>10. VPN的原理</h2><ul>
<li>VPN指利用公用网络架设专用网络的远程访问技术</li>
<li>VPN通过隧道技术在公共网络上模拟出一条点到点的逻辑专线，从而达到安全数据传输的目的</li>
</ul>
<p>用户主机和被访问节点的网关必须都支持隧道协议</p>
<h2 id="11-IPv6协议"><a href="#11-IPv6协议" class="headerlink" title="11. IPv6协议"></a>11. IPv6协议</h2><p>初始动机：应付“32-bit地址空间耗尽”问题（CIDR和NAT都无法从根本上解决地址短缺问题），增加地址空间<br>IPv6 地址</p>
<ul>
<li><p>地址长度为128bit，是IPv4地址长度的4倍</p>
</li>
<li><p>IPv6地址空间数量约为3*1038</p>
<p>IPv6地址表示法，冒分十六进制，x : x : x : x : x : x : x : x</p>
<ul>
<li>简化方法：每个x前面的0可省略，可把连续的值为0的x表示为“::”, 且“::”只能出现1次</li>
<li>简化前地址，2001:0DA8:0000:0000:200C:0000:0000:00A5</li>
<li>简化后地址，2001:DA8:0000:0000:200C::A5</li>
</ul>
</li>
</ul>
<h1 id="五、传输层"><a href="#五、传输层" class="headerlink" title="五、传输层"></a>五、传输层</h1><h2 id="1-传输层概述"><a href="#1-传输层概述" class="headerlink" title="1. 传输层概述"></a>1. 传输层概述</h2><ul>
<li><p>传输层位于应用层和网络层之间：</p>
<ul>
<li>基于网络层提供的服务，向分布式应用程序提供通信服务</li>
</ul>
</li>
<li><p>按照因特网的“端到端”设计原则：</p>
<ul>
<li><strong>应用程序只运行在终端上</strong>，即不需要为网络设备编写程序</li>
</ul>
</li>
<li><p>站在应用程序的角度：</p>
<ul>
<li>传输层应提供<strong>进程之间本地通信的抽象</strong>：即运行在不同终端上的应用进程仿佛是直接连在一起的</li>
</ul>
</li>
</ul>
<h3 id="1-1-套接字"><a href="#1-1-套接字" class="headerlink" title="1.1 套接字"></a>1.1 套接字</h3><p>设想在应用程序和网络之间存在一扇“门”：</p>
<ul>
<li>需要发送报文时：发送进程将报文推到门外</li>
<li>门外的运输设施（因特网）将报文送到接收进程的门口</li>
<li>需要接收报文时：接收进程打开门，即可收到报文</li>
</ul>
<p>在TCP&#x2F;IP网络中，这扇“门”称为<strong>套接字（socket）</strong>，是<strong>应用层和传输层的接口</strong>，也是应用程序和网络之间的API</p>
<h3 id="1-2-传输层提供的服务"><a href="#1-2-传输层提供的服务" class="headerlink" title="1.2 传输层提供的服务"></a>1.2 传输层提供的服务</h3><p>因特网的网络层提供“<strong>尽力而为</strong>”的服务：</p>
<ul>
<li>网络层尽最大努力在终端间交付分组，但不提供任何承诺</li>
<li>具体来说，不保证交付，不保证按序交付，不保证数据完整，不保证延迟，不保证带宽等</li>
</ul>
<p>传输层的<strong>有所为、有所不为</strong>:</p>
<ul>
<li>传输层可以通过差错恢复、重排序等手段提供可靠、按序的交付服务</li>
<li>但传输层无法提供延迟保证、带宽保证等服务</li>
</ul>
<p>具体而言，传输层提供的服务有：</p>
<ol>
<li><p>最低限度的传输服务：</p>
<ul>
<li>将终端-终端的数据交付扩展到进程-进程的数据交付</li>
<li>报文检错</li>
</ul>
</li>
<li><p>增强服务：</p>
<ul>
<li>可靠数据传输</li>
<li>流量控制</li>
<li>拥塞控制</li>
</ul>
</li>
<li><p>因特网传输层通过UDP协议和TCP协议，向应用层提供两种不同的传输服务：</p>
<ul>
<li>UDP协议：仅提供最低限度的传输服务</li>
<li>TCP协议：提供基础服务和增强服务</li>
</ul>
</li>
</ol>
<h2 id="2-传输层基本服务：复用和分用"><a href="#2-传输层基本服务：复用和分用" class="headerlink" title="2. 传输层基本服务：复用和分用"></a>2. 传输层基本服务：复用和分用</h2><h3 id="2-1-概述"><a href="#2-1-概述" class="headerlink" title="2.1 概述"></a>2.1 概述</h3><p>传输层基本服务：将主机间交付扩展到进程间交付，通过复用和分用实现。</p>
<ul>
<li><p><strong>发送端复用</strong>：<br>发送方传输层从多个套接字收集数据，将套接字标识置于数据（报文段）中，交给网络层发送</p>
</li>
<li><p><strong>接收端分用</strong>：<br>接收方传输层根据报文段中的套接字标识，将从网络层收到的数据（报文段）交付到正确的套接字</p>
</li>
</ul>
<h3 id="2-2-套接字标识与端口号"><a href="#2-2-套接字标识与端口号" class="headerlink" title="2.2 套接字标识与端口号"></a>2.2 套接字标识与端口号</h3><ol>
<li><p>端口号是套接字标识的一部分：</p>
<ul>
<li><p>每个套接字在本地关联一个端口号</p>
</li>
<li><p>端口号是一个16比特的数</p>
</li>
</ul>
</li>
<li><p>端口号的分类：</p>
<ul>
<li><p>熟知端口：0～1023，由公共域协议使用</p>
</li>
<li><p>注册端口：1024～49151，需要向IANA注册才能使用</p>
</li>
<li><p>动态和&#x2F;或私有端口：49152～65535，一般程序使用</p>
<ol start="3">
<li>报文段中有两个字段携带端口号：</li>
</ol>
<ul>
<li>源端口号(source port)：与发送进程关联的本地端口号</li>
<li>目的端口号(dest port)：与接收进程关联的本地端口号</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="2-3-TCP-x2F-UDP套接字"><a href="#2-3-TCP-x2F-UDP套接字" class="headerlink" title="2.3 TCP&#x2F;UDP套接字"></a>2.3 TCP&#x2F;UDP套接字</h3><p><strong>UDP套接字</strong></p>
<ul>
<li>使用&lt;IP地址，端口号&gt;二元组标识UDP套接字</li>
<li>服务器使用一个套接字服务所有客户</li>
</ul>
<p><strong>TCP套接字</strong></p>
<ul>
<li>使用&lt;源IP地址，目的IP地址，源端口号，目的端口号&gt; 四元组标识连接套接字</li>
<li>服务器使用一个监听套接字和多个连接套接字服务多个客户，每个连接套接字服务一个客户</li>
</ul>
<h2 id="3-无连接传输：UDP"><a href="#3-无连接传输：UDP" class="headerlink" title="3. 无连接传输：UDP"></a>3. 无连接传输：UDP</h2><p><strong>为什么需要UDP？</strong></p>
<ul>
<li>应用可以尽可能快地发送报文：<ul>
<li>无建立连接的延迟</li>
<li>不限制发送速率（不进行拥塞控制和流量控制）</li>
</ul>
</li>
<li>报头开销小</li>
<li>协议处理简单</li>
</ul>
<p><strong>UDP适合哪些应用？</strong></p>
<ul>
<li>容忍丢包但对延迟敏感的应用：<br>如流媒体</li>
<li>以单次请求&#x2F;响应为主的应用：<br>如DNS</li>
<li>若应用要求基于UDP进行可靠传输：<br>由应用层实现可靠性</li>
</ul>
<h2 id="4-面向连接的传输：TCP"><a href="#4-面向连接的传输：TCP" class="headerlink" title="4. 面向连接的传输：TCP"></a>4. 面向连接的传输：TCP</h2><h3 id="4-1-可靠传输"><a href="#4-1-可靠传输" class="headerlink" title="4.1 可靠传输"></a>4.1 可靠传输</h3><p>数据包<strong>有序、无差错</strong>到达接收端</p>
<p>如何实现可靠传输，基本原则是什么？</p>
<ul>
<li>利用ACK确认</li>
<li>重传机制</li>
<li>差错检测</li>
</ul>
<p>三次握手：确定双方都同意建立连接，并初始化连接参数(seq，ack等)</p>
<p>四次挥手：目的就是确保断开连接时双方都是确认结束的状态</p>
<h3 id="4-2-流水线技术"><a href="#4-2-流水线技术" class="headerlink" title="4.2 流水线技术"></a>4.2 流水线技术</h3><h3 id="4-3-TCP报文段结构"><a href="#4-3-TCP报文段结构" class="headerlink" title="4.3 TCP报文段结构"></a>4.3 TCP报文段结构</h3><p>U,A,P,R,S,F标志位：</p>
<ul>
<li><p>ACK表示确认序号有效</p>
</li>
<li><p>SYN用于建立连接</p>
</li>
<li><p>FIN用于终止连接</p>
</li>
</ul>
<p>发送序号：数据载荷中第一个字节在字节流中的序号</p>
<p>确认序号：期望接受的下一个字节的序号</p>
<h2 id="5-TCP流量控制"><a href="#5-TCP流量控制" class="headerlink" title="5. TCP流量控制"></a>5. TCP流量控制</h2><h2 id="6-拥塞控制"><a href="#6-拥塞控制" class="headerlink" title="6. 拥塞控制"></a>6. 拥塞控制</h2><h1 id="六、应用层"><a href="#六、应用层" class="headerlink" title="六、应用层"></a>六、应用层</h1><h2 id="1-应用层概述"><a href="#1-应用层概述" class="headerlink" title="1. 应用层概述"></a>1. 应用层概述</h2><ul>
<li><p>每个应用层协议都是为了解决某一应用问题，通过位于不同主机中的多个应用进程之间的通信和协同工作来完成</p>
<ul>
<li>两台主机通信实际是其对应的两个应用进程(process)在通信</li>
<li><strong>应用进程</strong>: 为解决具体应用问题而彼此通信的进程</li>
</ul>
</li>
<li><p>应用层的具体内容就是规定应用进程在通信时所遵循的协议</p>
<ul>
<li><p>客户&#x2F;服务器（C&#x2F;S, Client&#x2F;Server）方式</p>
<ul>
<li><p>C&#x2F;S方式可以是面向连接的，也可以是无连接的</p>
</li>
<li><p><strong>面向连接时，C&#x2F;S通信关系一旦建立，通信就是双向的</strong>，双方地位平等，都可发送和接收数据</p>
</li>
<li><p>客户进程在进行通信时临时成为客户，它也可在本地进行其它的计算；在打算通信时<strong>主动</strong>向远地服务器发起通信</p>
</li>
<li><p><strong>客户方必须知道服务器进程所在主机的IP地址才能发出服务请求</strong></p>
</li>
<li><p><strong>服务器进程</strong>被动等待并接受来自多个客户的通信请求, <strong>必须始终处于运行状态才有可能提供服务</strong></p>
</li>
</ul>
</li>
<li><p>对等（P2P，Peer to Peer）方式</p>
<ul>
<li><strong>对等方式</strong>是指两个进程在通信时并不区分服务的请求方和服务的提供方</li>
<li>只要两个主机都运行P2P软件，它们就可以进行平等、对等的通信</li>
<li>双方都可以下载对方存储在硬盘中的共享文档，如果权限允许的话</li>
<li>音频&#x2F;视频应用推动了P2P对等通信方式的发展（BitTorrent）</li>
<li>P2P方式从本质上看仍然是使用了C&#x2F;S方式，但强调的是通信过程中的对等，这时<strong>每一个P2P进程既是客户同时也是服务器</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="2-域名系统"><a href="#2-域名系统" class="headerlink" title="2. 域名系统"></a>2. 域名系统</h2><h3 id="2-1-概述-1"><a href="#2-1-概述-1" class="headerlink" title="2.1 概述"></a>2.1 概述</h3><ul>
<li><strong>域名系统</strong>（DNS，Domain Name System）是互联网重要的基础设施之一，向所有需要域名解析的应用提供服务，主要负责将<strong>可读性好的域名映射成IP地址</strong></li>
<li>Internet采用<strong>层次结构的命名树</strong>作为主机的名字，并使用<strong>分布式</strong>的域名系统 DNS。Internet的DNS是一个<strong>联机分布式数据库系统</strong></li>
<li>名字到域名的解析是由<strong>若干个</strong>域名服务器程序完成的。域名服务器程序在专设的结点上运行，相应的结点也称为<strong>名字服务器</strong>(Name Server)或<strong>域名服务器</strong>(Domain Name Server)</li>
</ul>
<h3 id="2-2-层次树状结构"><a href="#2-2-层次树状结构" class="headerlink" title="2.2 层次树状结构"></a>2.2 层次树状结构</h3><ul>
<li><p>顶级域名: com, cn, org, gov, edu</p>
</li>
<li><p>二级域名: edu</p>
</li>
<li><p>三级域名: fudan, pku</p>
</li>
<li><p>四级域名: www, cs, mail</p>
</li>
</ul>
<h3 id="2-3-域名解析过程"><a href="#2-3-域名解析过程" class="headerlink" title="2.3 域名解析过程"></a>2.3 域名解析过程</h3><ol>
<li>递归查询 “我不知道，直接帮你向上查” 较少使用</li>
<li>迭代查询 “我不知道，告诉你该找谁，你自己向上查” 通常使用</li>
</ol>
<h2 id="3-电子邮件"><a href="#3-电子邮件" class="headerlink" title="3. 电子邮件"></a>3. 电子邮件</h2><h3 id="3-1-邮件发送的常用协议"><a href="#3-1-邮件发送的常用协议" class="headerlink" title="3.1 邮件发送的常用协议"></a>3.1 邮件发送的常用协议</h3><ul>
<li><strong>简单邮件传输协议SMTP</strong>（Simple Mail Transfer Protocol）——邮件服务器之间传递邮件使用的协议</li>
<li>最终交付（邮件访问）协议:从邮件服务器的邮箱中获取邮件:<ul>
<li>POP3：Post Office Protocol-Version 3，第三版邮局协议</li>
<li>IMAP：Internet Message Access Protocol，Internet邮件访问协议</li>
<li>Webmail（HTTP）：基于Web的电子邮件</li>
</ul>
</li>
</ul>
<h3 id="3-2-Webmail"><a href="#3-2-Webmail" class="headerlink" title="3.2 Webmail"></a>3.2 Webmail</h3><p>Webmail——基于Web的电子邮件</p>
<ul>
<li>Webmail——基于Web的电子邮件</li>
<li>使用Web作为界面，用户代理就是普通的浏览器</li>
<li>用户及其远程邮箱之间的通信通过HTTP进行</li>
</ul>
<h2 id="4-WWW"><a href="#4-WWW" class="headerlink" title="4. WWW"></a>4. WWW</h2><h3 id="4-1-WWW体系结构与协议"><a href="#4-1-WWW体系结构与协议" class="headerlink" title="4.1 WWW体系结构与协议"></a>4.1 WWW体系结构与协议</h3><ul>
<li>WWW&#x3D;World Wide Web&#x3D;万维网</li>
<li>HTTP服务器和客户端，以及它们之间执行的HTTP协议</li>
</ul>
<p><strong>服务器</strong>:</p>
<ul>
<li>Web页面（HTML文档）：包含多种对象或链接</li>
<li>Web对象（包括：静态对象和动态对象）：可以是 HTML文档、 图像文件、视频文件、声音文件、脚本文件等</li>
<li>对象用URL（统一资源定位符）编址：协议类型:&#x2F;&#x2F;主机名:端口&#x2F;&#x2F;路径和文件名</li>
</ul>
<p><strong>客户端</strong>：</p>
<ul>
<li>发出请求、接收响应、解释HTML文档并显示</li>
<li>有些对象需要浏览器安装插件</li>
</ul>
<p><strong>统一资源定位器URL</strong>：</p>
<p>协议类型:&#x2F;&#x2F;主机名即服务器:端口&#x2F;路径和文件名</p>
<p>WWW协议:</p>
<h3 id="4-2-HTTP"><a href="#4-2-HTTP" class="headerlink" title="4.2 HTTP"></a>4.2 HTTP</h3><h4 id="4-2-1-概述"><a href="#4-2-1-概述" class="headerlink" title="4.2.1 概述"></a>4.2.1 概述</h4><ul>
<li>超文本传输协议HTTP（ HyperText Transfer Protocol）在传输层通常使用<strong>TCP</strong>协议，<strong>缺省使用TCP的80端口</strong></li>
<li>HTTP为<strong>无状态协议</strong>，服务器端不保留之前请求的状态信息<ul>
<li><strong>无状态协议</strong>：效率低、但简单</li>
<li><strong>有状态协议</strong>：维护状态相对复杂，需要维护历史信息，在客户端或服务器出现故障时，需要保持状态的一致性等</li>
</ul>
</li>
</ul>
<ul>
<li><strong>HTTP标准</strong><ul>
<li>HTTP&#x2F;1.0: RFC 1945（1996年）：<ul>
<li>无状态，非持久连接</li>
</ul>
</li>
<li>HTTP&#x2F;1.1: RFC 2616（1999年）：<ul>
<li>支持长连接和流水线机制</li>
<li>缓存策略优化、部分资源请求及断点续传</li>
</ul>
</li>
<li>HTTP&#x2F;2: RFC 7540（2015年）、RFC 8740（2020年）：<ul>
<li>增加SSL&#x2F;TLS（TLS 1.2）层，在TCP之上提供安全机制</li>
<li>目标：提高带宽利用率、降低延迟</li>
<li>增加二进制格式、TCP多路复用、头压缩、服务端推送等功能</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="4-2-2-Web安全与隐私-Cookie"><a href="#4-2-2-Web安全与隐私-Cookie" class="headerlink" title="4.2.2 Web安全与隐私: Cookie"></a>4.2.2 Web安全与隐私: Cookie</h4><p>HTTP <strong>无状态协议</strong>，服务器 <strong>用cookies保持用户状态</strong></p>
<ul>
<li><p>HTTP在响应的首部行里使用一个关键字头set-cookie：选择的cookie号具有唯一性</p>
</li>
<li><p>后继的HTTP请求中使用服务器响应分配的cookie</p>
</li>
<li><p>Cookie文件保存在用户的主机中，内容是服务器返回的一些附加信息，由用户主机中的浏览器管理</p>
</li>
<li><p>Web服务器建立后端数据库，记录用户信息，cookie作为关键字</p>
<p>例如：<br>Set-Cookie: SID&#x3D;31d4d96e407aad42; Path&#x3D;&#x2F;; Domain&#x3D;example.com<br>Cookie: SID&#x3D;31d4d96e407aad42</p>
</li>
</ul>
<p>Cookies一般包含5个字段:</p>
<ul>
<li>域指明Cookie来自何方，每个域为每个客户分配Cookie有数量限制</li>
<li>路径标明服务器的文件树中哪些部分可以使用该Cookie</li>
<li>内容采用“名字&#x3D;值”的形式，是Cookie存放内容的地方，可以达到4K容量，内容只是字符串，不是可执行程序</li>
<li>安全指示浏览器只向使用安全传输连接的服务器返回Cookie</li>
<li>过期时间</li>
</ul>
<ol>
<li><p>Cookie技术是把双刃剑，能分析用户喜好，向用户进行个性化推荐</p>
<ul>
<li><p>用Cookie在某网站标识用户信息，查找用户以前浏览网站记录</p>
</li>
<li><p>用Cookie记录用户购物清单</p>
</li>
<li><p>用Cookie可以保存4K内容，跟踪用户浏览网站的喜好</p>
</li>
<li><p>用Cookie跨站点跟踪用户点击广告</p>
</li>
</ul>
</li>
<li><p>Cookie技术是把双刃剑，也能跟踪用户网络浏览痕迹，泄露用户隐私</p>
<ul>
<li><p>Cookie跟踪用户以前浏览过哪些网站，跟踪用户频繁浏览哪类网站</p>
</li>
<li><p>Cookie收集用户信息，用户网络交互时关注的关键词</p>
</li>
</ul>
</li>
<li><p>Cookie容易嵌入间谍程序，这是个误区，Cookie文件保存的只是文本串，没有可执行程序</p>
<ul>
<li>用户可以设置浏览器限制使用Cookie</li>
</ul>
</li>
</ol>
<h2 id="5-流媒体"><a href="#5-流媒体" class="headerlink" title="5. 流媒体"></a>5. 流媒体</h2><h3 id="5-1-概述"><a href="#5-1-概述" class="headerlink" title="5.1 概述"></a>5.1 概述</h3><p>流媒体概念</p>
<ul>
<li>连续媒体（音视频）经压缩编码、数据打包后，经过网络发送给接收方</li>
<li>接收方对数据进行重组、解码和播放</li>
</ul>
<p>流媒体特性</p>
<ul>
<li>端到端时延约束</li>
<li>时序性约束：流媒体数据必须按照一定的顺序连续播放</li>
<li>具有一定程度的容错性：丢失部分数据包也可完成基本功能</li>
</ul>
<p>流媒体面临的挑战</p>
<ul>
<li>约束条件：网络特性（带宽有限、动态变化、延迟与抖动、丢失、异构性）</li>
<li>目标：流媒体服务质量要素（画质、启动延迟、平滑、交互性）</li>
<li>如何在“尽力服务”的网络传输条件下获得良好的视频质量？</li>
</ul>
<h3 id="5-2-DASH"><a href="#5-2-DASH" class="headerlink" title="5.2 DASH"></a>5.2 DASH</h3><p> DASH (Dynamic Adaptive Streaming over HTTP)</p>
<ul>
<li>动态自适应流媒体传输协议DASH，由MPEG组织制定的标准</li>
<li>类似协议：苹果HTTP Live Streaming（HLS）； Adobe的HTTP Dynamic Streaming（HDS）；微软的Microsoft Smooth Streaming</li>
</ul>
<p>DASH 基本思想</p>
<ul>
<li>完整视频被拆分为固定时长 (2s-10s) 的视频片段(segment)， 每段提供不同码率</li>
<li>视频片段与其对应的元文件（URL）一同存放于DASH服务器</li>
<li>客户端基于网络条件、缓冲大小等，对每个视频片段，自适应选择合适的视频码率来下</li>
<li>DASH中普遍使用的自适应码率ABR（Adaptive bitrate）</li>
</ul>
<h2 id="6-CDN"><a href="#6-CDN" class="headerlink" title="6. CDN"></a>6. CDN</h2><ul>
<li>Content Delivery Network，or Content Distribution Network 内容分发网络</li>
<li>一种Web缓存系统，<strong>靠近网络边缘（用户）提供内容服务</strong></li>
<li>目前提供更丰富的服务，包括静态内容、流媒体、用户上传视频等</li>
<li>主要优点<ul>
<li>降低响应时延，避免网络拥塞</li>
<li>避免原始服务器过载及防止DDoS攻击</li>
<li>分布式架构，具有良好的可扩展性</li>
<li>对用户透明，无需用户感知</li>
</ul>
</li>
</ul>
<p>关键问题： 怎样将内容（如从百万的视频中选定的内容）分发给同时发起访问的数百万用户？</p>
<p>解决机理：</p>
<ul>
<li><strong>DNS重定向实现CDN</strong><ul>
<li>将请求调度到较近或负载较轻的CDN服务器</li>
<li><strong>HTTP重定向请求内容</strong>，服务提供者返回清单CDN</li>
</ul>
</li>
<li><strong>DNS辅助实现CDN</strong><ul>
<li>负载均衡DNS负责决策CDN服务器选择</li>
<li>负载均衡DNS需要收集CDN服务器的位置和负载情况</li>
<li>如果找不到被请求的对象，需要从原始服务器获取</li>
</ul>
</li>
</ul>
<h2 id="7-P2P网络"><a href="#7-P2P网络" class="headerlink" title="7. P2P网络"></a>7. P2P网络</h2><p><strong>P2P文件分发协议：BitTorrent</strong></p>
<ul>
<li>文件被划分为256Kb大小的块</li>
<li>具有种子(torrents)的节点发送或接收文件</li>
<li>跟踪器tracker <ul>
<li>负责帮助节点获取其他节点的信息</li>
<li>用户从跟踪器获取节点列表</li>
</ul>
</li>
<li>种子torrent<ul>
<li>交换文件块的节点</li>
<li>用户同种子节点交换文件块</li>
</ul>
</li>
</ul>
<h2 id="8-远程登录Telnet"><a href="#8-远程登录Telnet" class="headerlink" title="8. 远程登录Telnet"></a>8. 远程登录Telnet</h2><ul>
<li>Telnet协议引入网络<strong>虚拟终端NVT</strong>（Network Virtual Terminal），使用一种专门的键盘定义来屏蔽不同计算机系统对键盘输入的差异性，同时定义客户进程与远程服务器进程之间的交互过程</li>
<li>NVT是Telnet协议定义的<strong>一组通用字符集</strong>，通过这种统一的数据表示方式，来保证不同硬件、软件与数据格式的终端与主机之间通信的兼容性</li>
<li>本地终端输入的字符首先由本地Telnet客户进程转换为NVT格式，通过网络将NVT格式的字符传输到远程主机，远程Telnet服务器进程再将NVT格式的字符转换为远程主机能够识别和处理的字符格式</li>
<li>使用Telnet协议在网络中传输的数据都是NVT格式，不同的用户终端与服务器进程均与本地终端格式无关</li>
</ul>
<p><strong>Telnet的工作过程</strong> (windows自带 默认关闭)  基于TCP连接</p>
<ul>
<li>本地Telnet客户进程与远程主机上的Telnet服务器进程建立TCP连接</li>
<li>将本地终端上输入的用户名和口令及以后输入的任何命令或字符以网络虚拟终端NVT格式传输给远程主机</li>
<li>将远程主机输出的NVT格式的数据转化为本地所接受的格式送回本地终端，包括输入命令回显和命令执行结果</li>
<li>本地终端对远程主机撤销连接，从而结束 Telnet远程登录过程</li>
</ul>
<h2 id="9-FTP"><a href="#9-FTP" class="headerlink" title="9. FTP"></a>9. FTP</h2><h3 id="9-1-概述"><a href="#9-1-概述" class="headerlink" title="9.1 概述"></a>9.1 概述</h3><p><strong>文件传输协议FTP(File Transfer Protocol)</strong> 是Internet上使用最广泛的应用层协议之一</p>
<ul>
<li>FTP提供交互式的访问，允许用户指明文件的类型与格式，并允许文件具有存取权限</li>
<li>FTP屏蔽了各计算机系统的细节，适用于在异构网络中任意计算机之间传送文件</li>
<li>RFC 959早在1985年就已经成为Internet的正式标准</li>
<li>FTP使用C&#x2F;S方式实现</li>
</ul>
<h3 id="9-2-工作过程"><a href="#9-2-工作过程" class="headerlink" title="9.2 工作过程"></a>9.2 工作过程</h3><ul>
<li>服务器主进程打开TCP21端口，等待客户进程发出的连接请求</li>
<li>客户可以用分配的任意一个本地端口号与服务器进程的TCP21端口进行连接</li>
<li>客户请求到来时，服务器主进程启动从属进程来处理客户进程发来的请求</li>
<li>服务器从属进程对客户进程的请求处理完毕后即终止，但从属进程在运行期间根据需要还可能创建其他一些子进程</li>
<li>服务器主进程返回，继续等待接收其他客户进程发来的连接请求，服务器主进程与从属进程并行工作</li>
</ul>
<p><strong>FTP的两个端口与两个连接</strong></p>
<ul>
<li><strong>控制连接</strong>在整个会话期间一直保持，客户进程发出的文件传输请求通过控制连接发送给<strong>服务器控制进程（工作在TCP21端口）</strong>，但控制连接不用来传输文件</li>
<li>服务器控制进程在接收到客户进程发送来的文件传输请求后就创建<strong>数据传输进程（工作在TCP20端口）,数据连接</strong></li>
<li>数据连接用来连接客户进程和服务器数据传输进程，实际完成文件的传输。服务器数据传输进程在文件传输完毕后关闭数据连接并结束运行</li>
</ul>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>invincible-nerd
  </li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="http://invincible-nerd.github.io/2022/04/19/%E8%AE%A1%E7%BD%91/" title="计网学习笔记">http://invincible-nerd.github.io/2022/04/19/计网/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>


      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/04/19/Greedy/" rel="prev" title="Greedy">
      <i class="fa fa-chevron-left"></i> Greedy
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/04/24/ssp%E5%89%8D%E7%AB%AF/" rel="next" title="ssp前端">
      ssp前端 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%80%E3%80%81"><span class="nav-number">1.</span> <span class="nav-text">一、</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E7%BD%91%E7%BB%9C%E5%88%86%E7%B1%BB"><span class="nav-number">1.1.</span> <span class="nav-text">2. 网络分类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E6%8E%A5%E5%85%A5%E7%BD%91"><span class="nav-number">1.2.</span> <span class="nav-text">3. 接入网</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83%E4%B8%A4%E5%A4%A7%E5%8A%9F%E8%83%BD"><span class="nav-number">1.3.</span> <span class="nav-text">4. 网络核心两大功能</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E7%89%A9%E7%90%86%E5%B1%82"><span class="nav-number">2.</span> <span class="nav-text">二、物理层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E7%89%A9%E7%90%86%E4%BB%8B%E8%B4%A8"><span class="nav-number">2.1.</span> <span class="nav-text">1. 物理介质</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E6%95%B0%E6%8D%AE%E4%BA%A4%E6%8D%A2%E6%96%B9%E5%BC%8F"><span class="nav-number">2.2.</span> <span class="nav-text">2. 数据交换方式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="nav-number">3.</span> <span class="nav-text">三、数据链路层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%8A%9F%E8%83%BD"><span class="nav-number">3.1.</span> <span class="nav-text">1. 功能</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E6%8F%90%E4%BE%9B%E7%9A%84%E6%9C%8D%E5%8A%A1"><span class="nav-number">3.2.</span> <span class="nav-text">2. 数据链路层提供的服务</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E6%88%90%E5%B8%A7%EF%BC%88Framing%EF%BC%89"><span class="nav-number">3.3.</span> <span class="nav-text">3. 成帧（Framing）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E5%AA%92%E4%BD%93%E6%8E%A5%E5%85%A5%E6%8E%A7%E5%88%B6"><span class="nav-number">3.4.</span> <span class="nav-text">4. 媒体接入控制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-%E6%97%A0%E7%BA%BF%E5%B1%80%E5%9F%9F%E7%BD%91WLAN"><span class="nav-number">3.4.1.</span> <span class="nav-text">4.1 无线局域网WLAN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-%E8%99%9A%E6%8B%9F%E5%B1%80%E5%9F%9F%E7%BD%91VLAN"><span class="nav-number">3.4.2.</span> <span class="nav-text">4.2 虚拟局域网VLAN</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-1-%E5%B9%BF%E6%92%AD%E5%9F%9F"><span class="nav-number">3.4.2.1.</span> <span class="nav-text">4.2.1 广播域</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-2-%E6%A6%82%E5%86%B5"><span class="nav-number">3.4.2.2.</span> <span class="nav-text">4.2.2 概况</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="nav-number">4.</span> <span class="nav-text">四、网络层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E7%BD%91%E7%BB%9C%E5%B1%82%E6%A6%82%E8%BF%B0"><span class="nav-number">4.1.</span> <span class="nav-text">1. 网络层概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E7%BD%91%E7%BB%9C%E5%B1%82%E5%85%B3%E9%94%AE%E5%8A%9F%E8%83%BD"><span class="nav-number">4.2.</span> <span class="nav-text">2. 网络层关键功能</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Internet%E7%BD%91%E9%99%85%E5%8D%8F%E8%AE%AE"><span class="nav-number">4.3.</span> <span class="nav-text">3. Internet网际协议</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-IPv4"><span class="nav-number">4.3.1.</span> <span class="nav-text">3.1 IPv4</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-1-%E6%A6%82%E8%BF%B0"><span class="nav-number">4.3.1.1.</span> <span class="nav-text">3.1.1 概述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-2-IP%E6%95%B0%E6%8D%AE%E6%8A%A5"><span class="nav-number">4.3.1.2.</span> <span class="nav-text">3.1.2 IP数据报</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-IP%E5%9C%B0%E5%9D%80"><span class="nav-number">4.3.2.</span> <span class="nav-text">3.2 IP地址</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-1-%E6%A6%82%E8%BF%B0"><span class="nav-number">4.3.2.1.</span> <span class="nav-text">3.2.1 概述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-2-%E5%AD%90%E7%BD%91%E5%88%92%E5%88%86"><span class="nav-number">4.3.2.2.</span> <span class="nav-text">3.2.2 子网划分</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-DHCP%E5%8A%A8%E6%80%81%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE%E5%8D%8F%E8%AE%AE"><span class="nav-number">4.3.3.</span> <span class="nav-text">3.3 DHCP动态主机配置协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-ARP%E5%9C%B0%E5%9D%80%E8%A7%A3%E6%9E%90%E5%8D%8F%E8%AE%AE"><span class="nav-number">4.3.4.</span> <span class="nav-text">3.4 ARP地址解析协议</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-4-1-%E8%B7%AF%E7%94%B1%E5%88%B0%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%B1%80%E5%9F%9F%E7%BD%91"><span class="nav-number">4.3.4.1.</span> <span class="nav-text">3.4.1 路由到另一个局域网</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-4-2-%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B"><span class="nav-number">4.3.4.2.</span> <span class="nav-text">3.4.2 工作过程</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2%EF%BC%88NAT%EF%BC%89"><span class="nav-number">4.3.5.</span> <span class="nav-text">3.5 网络地址转换（NAT）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-ICMP-%E4%BA%92%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E6%8A%A5%E6%96%87%E5%8D%8F%E8%AE%AE"><span class="nav-number">4.3.6.</span> <span class="nav-text">3.6 ICMP: 互联网控制报文协议</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95"><span class="nav-number">4.4.</span> <span class="nav-text">4. 路由算法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-Internet%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE"><span class="nav-number">4.5.</span> <span class="nav-text">5. Internet路由协议</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE"><span class="nav-number">4.5.1.</span> <span class="nav-text">5.1 路由选择协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-BGP-%E5%A4%96%E9%83%A8%E7%BD%91%E5%85%B3%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE"><span class="nav-number">4.5.2.</span> <span class="nav-text">5.2 BGP 外部网关路由协议</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E8%B7%AF%E7%94%B1%E5%99%A8%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="nav-number">4.6.</span> <span class="nav-text">6. 路由器的工作原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="nav-number">4.7.</span> <span class="nav-text">7. 拥塞控制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-%E6%9C%8D%E5%8A%A1%E8%B4%A8%E9%87%8F"><span class="nav-number">4.8.</span> <span class="nav-text">8. 服务质量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-%E4%B8%89%E5%B1%82%E4%BA%A4%E6%8D%A2"><span class="nav-number">4.9.</span> <span class="nav-text">9. 三层交换</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#9-1-%E4%B8%89%E5%B1%82%E4%BA%A4%E6%8D%A2%E7%9A%84%E6%8A%80%E6%9C%AF%E8%83%8C%E6%99%AF"><span class="nav-number">4.9.1.</span> <span class="nav-text">9.1 三层交换的技术背景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-2-%E4%B8%89%E5%B1%82%E4%BA%A4%E6%8D%A2%E7%9A%84%E5%8A%A8%E6%9C%BA"><span class="nav-number">4.9.2.</span> <span class="nav-text">9.2 三层交换的动机</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-VPN%E7%9A%84%E5%8E%9F%E7%90%86"><span class="nav-number">4.10.</span> <span class="nav-text">10. VPN的原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-IPv6%E5%8D%8F%E8%AE%AE"><span class="nav-number">4.11.</span> <span class="nav-text">11. IPv6协议</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%94%E3%80%81%E4%BC%A0%E8%BE%93%E5%B1%82"><span class="nav-number">5.</span> <span class="nav-text">五、传输层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E4%BC%A0%E8%BE%93%E5%B1%82%E6%A6%82%E8%BF%B0"><span class="nav-number">5.1.</span> <span class="nav-text">1. 传输层概述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-%E5%A5%97%E6%8E%A5%E5%AD%97"><span class="nav-number">5.1.1.</span> <span class="nav-text">1.1 套接字</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-%E4%BC%A0%E8%BE%93%E5%B1%82%E6%8F%90%E4%BE%9B%E7%9A%84%E6%9C%8D%E5%8A%A1"><span class="nav-number">5.1.2.</span> <span class="nav-text">1.2 传输层提供的服务</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E4%BC%A0%E8%BE%93%E5%B1%82%E5%9F%BA%E6%9C%AC%E6%9C%8D%E5%8A%A1%EF%BC%9A%E5%A4%8D%E7%94%A8%E5%92%8C%E5%88%86%E7%94%A8"><span class="nav-number">5.2.</span> <span class="nav-text">2. 传输层基本服务：复用和分用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-%E6%A6%82%E8%BF%B0"><span class="nav-number">5.2.1.</span> <span class="nav-text">2.1 概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-%E5%A5%97%E6%8E%A5%E5%AD%97%E6%A0%87%E8%AF%86%E4%B8%8E%E7%AB%AF%E5%8F%A3%E5%8F%B7"><span class="nav-number">5.2.2.</span> <span class="nav-text">2.2 套接字标识与端口号</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-TCP-x2F-UDP%E5%A5%97%E6%8E%A5%E5%AD%97"><span class="nav-number">5.2.3.</span> <span class="nav-text">2.3 TCP&#x2F;UDP套接字</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E6%97%A0%E8%BF%9E%E6%8E%A5%E4%BC%A0%E8%BE%93%EF%BC%9AUDP"><span class="nav-number">5.3.</span> <span class="nav-text">3. 无连接传输：UDP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E9%9D%A2%E5%90%91%E8%BF%9E%E6%8E%A5%E7%9A%84%E4%BC%A0%E8%BE%93%EF%BC%9ATCP"><span class="nav-number">5.4.</span> <span class="nav-text">4. 面向连接的传输：TCP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93"><span class="nav-number">5.4.1.</span> <span class="nav-text">4.1 可靠传输</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-%E6%B5%81%E6%B0%B4%E7%BA%BF%E6%8A%80%E6%9C%AF"><span class="nav-number">5.4.2.</span> <span class="nav-text">4.2 流水线技术</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-TCP%E6%8A%A5%E6%96%87%E6%AE%B5%E7%BB%93%E6%9E%84"><span class="nav-number">5.4.3.</span> <span class="nav-text">4.3 TCP报文段结构</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-TCP%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6"><span class="nav-number">5.5.</span> <span class="nav-text">5. TCP流量控制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="nav-number">5.6.</span> <span class="nav-text">6. 拥塞控制</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%AD%E3%80%81%E5%BA%94%E7%94%A8%E5%B1%82"><span class="nav-number">6.</span> <span class="nav-text">六、应用层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%BA%94%E7%94%A8%E5%B1%82%E6%A6%82%E8%BF%B0"><span class="nav-number">6.1.</span> <span class="nav-text">1. 应用层概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F"><span class="nav-number">6.2.</span> <span class="nav-text">2. 域名系统</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-%E6%A6%82%E8%BF%B0-1"><span class="nav-number">6.2.1.</span> <span class="nav-text">2.1 概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-%E5%B1%82%E6%AC%A1%E6%A0%91%E7%8A%B6%E7%BB%93%E6%9E%84"><span class="nav-number">6.2.2.</span> <span class="nav-text">2.2 层次树状结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B"><span class="nav-number">6.2.3.</span> <span class="nav-text">2.3 域名解析过程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6"><span class="nav-number">6.3.</span> <span class="nav-text">3. 电子邮件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81%E7%9A%84%E5%B8%B8%E7%94%A8%E5%8D%8F%E8%AE%AE"><span class="nav-number">6.3.1.</span> <span class="nav-text">3.1 邮件发送的常用协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-Webmail"><span class="nav-number">6.3.2.</span> <span class="nav-text">3.2 Webmail</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-WWW"><span class="nav-number">6.4.</span> <span class="nav-text">4. WWW</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-WWW%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E4%B8%8E%E5%8D%8F%E8%AE%AE"><span class="nav-number">6.4.1.</span> <span class="nav-text">4.1 WWW体系结构与协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-HTTP"><span class="nav-number">6.4.2.</span> <span class="nav-text">4.2 HTTP</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-1-%E6%A6%82%E8%BF%B0"><span class="nav-number">6.4.2.1.</span> <span class="nav-text">4.2.1 概述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-2-Web%E5%AE%89%E5%85%A8%E4%B8%8E%E9%9A%90%E7%A7%81-Cookie"><span class="nav-number">6.4.2.2.</span> <span class="nav-text">4.2.2 Web安全与隐私: Cookie</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E6%B5%81%E5%AA%92%E4%BD%93"><span class="nav-number">6.5.</span> <span class="nav-text">5. 流媒体</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-%E6%A6%82%E8%BF%B0"><span class="nav-number">6.5.1.</span> <span class="nav-text">5.1 概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-DASH"><span class="nav-number">6.5.2.</span> <span class="nav-text">5.2 DASH</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-CDN"><span class="nav-number">6.6.</span> <span class="nav-text">6. CDN</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-P2P%E7%BD%91%E7%BB%9C"><span class="nav-number">6.7.</span> <span class="nav-text">7. P2P网络</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95Telnet"><span class="nav-number">6.8.</span> <span class="nav-text">8. 远程登录Telnet</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-FTP"><span class="nav-number">6.9.</span> <span class="nav-text">9. FTP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#9-1-%E6%A6%82%E8%BF%B0"><span class="nav-number">6.9.1.</span> <span class="nav-text">9.1 概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-2-%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B"><span class="nav-number">6.9.2.</span> <span class="nav-text">9.2 工作过程</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">invincible-nerd</p>
  <div class="site-description" itemprop="description">For explorer everywhere</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">88</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">35</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2022-04 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">invincible-nerd</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="Symbols count total">1.2m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">17:34</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
