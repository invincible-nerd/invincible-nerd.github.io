<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.1.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"invincible-nerd.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="For explorer everywhere">
<meta property="og:type" content="website">
<meta property="og:title" content="IVN">
<meta property="og:url" content="http://invincible-nerd.github.io/unusable-index/page/2/index.html">
<meta property="og:site_name" content="IVN">
<meta property="og:description" content="For explorer everywhere">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="invincible-nerd">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://invincible-nerd.github.io/unusable-index/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>IVN</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">IVN</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://invincible-nerd.github.io/2023/03/14/BQ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="invincible-nerd">
      <meta itemprop="description" content="For explorer everywhere">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IVN">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/03/14/BQ/" class="post-title-link" itemprop="url">BQ</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-03-14 15:20:48" itemprop="dateCreated datePublished" datetime="2023-03-14T15:20:48+08:00">2023-03-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-06 07:19:44" itemprop="dateModified" datetime="2023-10-06T07:19:44+08:00">2023-10-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS/" itemprop="url" rel="index"><span itemprop="name">CS</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>7.9k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>7 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Behavior-Questions"><a href="#Behavior-Questions" class="headerlink" title="Behavior Questions"></a>Behavior Questions</h1><h2 id="亚麻16条军规-Leadership-Principles"><a href="#亚麻16条军规-Leadership-Principles" class="headerlink" title="亚麻16条军规(Leadership Principles)"></a>亚麻16条军规(Leadership Principles)</h2><h3 id="Customer-Obsession"><a href="#Customer-Obsession" class="headerlink" title="Customer Obsession"></a>Customer Obsession</h3><p>Leaders start with the customer and work backwards. They work vigorously to earn and keep customer trust. Although leaders pay attention to competitors, they obsess over customers.</p>
<h3 id="Ownership"><a href="#Ownership" class="headerlink" title="Ownership"></a>Ownership</h3><p>Leaders are owners. They think long term and don’t sacrifice long-term value for short-term results. They act on behalf of the entire company, beyond just their own team. They never say “that’s not my job.”</p>
<h3 id="Invent-and-Simplify"><a href="#Invent-and-Simplify" class="headerlink" title="Invent and Simplify"></a>Invent and Simplify</h3><p>Leaders expect and require innovation and invention from their teams and always find ways to simplify. They are externally aware, look for new ideas from everywhere, and are not limited by “not invented here.” As we do new things, we accept that we may be misunderstood for long periods of time.</p>
<h3 id="Are-Right-A-Lot"><a href="#Are-Right-A-Lot" class="headerlink" title="Are Right, A Lot"></a>Are Right, A Lot</h3><p>Leaders are right a lot. They have strong judgment and good instincts. They seek diverse perspectives and work to disconfirm their beliefs.</p>
<h3 id="Learn-and-Be-Curious"><a href="#Learn-and-Be-Curious" class="headerlink" title="Learn and Be Curious"></a>Learn and Be Curious</h3><p>Leaders are never done learning and always seek to improve themselves. They are curious about new possibilities and act to explore them.</p>
<h3 id="Insist-on-the-Highest-Standards"><a href="#Insist-on-the-Highest-Standards" class="headerlink" title="Insist on the Highest Standards"></a>Insist on the Highest Standards</h3><p>Leaders have relentlessly high standards — many people may think these standards are unreasonably high. Leaders are continually raising the bar and drive their teams to deliver high quality products, services, and processes. Leaders ensure that defects do not get sent down the line and that problems are fixed so they stay fixed.</p>
<h3 id="Think-Big"><a href="#Think-Big" class="headerlink" title="Think Big"></a>Think Big</h3><p>Thinking small is a self-fulfilling prophecy. Leaders create and communicate a bold direction that inspires results. They think differently and look around corners for ways to serve customers.</p>
<h3 id="Bias-for-Action"><a href="#Bias-for-Action" class="headerlink" title="Bias for Action"></a>Bias for Action</h3><p>Speed matters in business. Many decisions and actions are reversible and do not need extensive study. We value calculated risk taking.</p>
<h3 id="Frugality"><a href="#Frugality" class="headerlink" title="Frugality"></a>Frugality</h3><p>Accomplish more with less. Constraints breed resourcefulness, self-sufficiency, and invention. There are no extra points for growing headcount, budget size, or fixed expense.</p>
<h3 id="Earn-Trust"><a href="#Earn-Trust" class="headerlink" title="Earn Trust"></a>Earn Trust</h3><p>Leaders listen attentively, speak candidly, and treat others respectfully. They are vocally self-critical, even when doing so is awkward or embarrassing. Leaders do not believe their or their team’s body odor smells of perfume. They benchmark themselves and their teams against the best.</p>
<h3 id="Dive-Deep"><a href="#Dive-Deep" class="headerlink" title="Dive Deep"></a>Dive Deep</h3><p>Leaders operate at all levels, stay connected to the details, audit frequently, and are skeptical when metrics and anecdote differ. No task is beneath them.</p>
<h3 id="Have-Backbone-Disagree-and-Commit"><a href="#Have-Backbone-Disagree-and-Commit" class="headerlink" title="Have Backbone; Disagree and Commit"></a>Have Backbone; Disagree and Commit</h3><p>Leaders are obligated to respectfully challenge decisions when they disagree, even when doing so is uncomfortable or exhausting. Leaders have conviction and are tenacious. They do not compromise for the sake of social cohesion. Once a decision is determined, they commit wholly.</p>
<h3 id="Deliver-Results"><a href="#Deliver-Results" class="headerlink" title="Deliver Results"></a>Deliver Results</h3><p>Leaders focus on the key inputs for their business and deliver them with the right quality and in a timely fashion. Despite setbacks, they rise to the occasion and never settle.</p>
<h3 id="Strive-to-be-Earth’s-Best-Employer"><a href="#Strive-to-be-Earth’s-Best-Employer" class="headerlink" title="Strive to be Earth’s Best Employer"></a>Strive to be Earth’s Best Employer</h3><p>Leaders work every day to create a safer, more productive, higher performing, more diverse, and more just work environment. They lead with empathy, have fun at work, and make it easy for others to have fun. Leaders ask themselves: Are my fellow employees growing? Are they empowered? Are they ready for what’s next? Leaders have a vision for and commitment to their employees’ personal success, whether that be at Amazon or elsewhere.</p>
<h3 id="Success-and-Scale-Bring-Broad-Responsibility"><a href="#Success-and-Scale-Bring-Broad-Responsibility" class="headerlink" title="Success and Scale Bring Broad Responsibility"></a>Success and Scale Bring Broad Responsibility</h3><p>We started in a garage, but we’re not there anymore. We are big, we impact the world, and we are far from perfect. We must be humble and thoughtful about even the secondary effects of our actions. Our local communities, planet, and future generations need us to be better every day. We must begin each day with a determination to make better, do better, and be better for our customers, our employees, our partners, and the world at large. And we must end every day knowing we can do even more tomorrow. Leaders create more than they consume and always leave things better than how they found them.</p>
<h2 id="包装故事：STAR"><a href="#包装故事：STAR" class="headerlink" title="包装故事：STAR"></a>包装故事：STAR</h2><p><a target="_blank" rel="noopener" href="https://docs.google.com/document/d/112HBiMNvu6TYbDUOfVRe_MS4A-fKaWYrpMlmnsiMNiA/edit#">https://docs.google.com/document/d/112HBiMNvu6TYbDUOfVRe_MS4A-fKaWYrpMlmnsiMNiA/edit#</a></p>
<ul>
<li>Scenario</li>
<li>Task</li>
<li>Action</li>
<li>Result</li>
<li>Learning (for negative cases)</li>
</ul>
<p>总结：</p>
<ul>
<li>positive questions: STAR</li>
<li>negative questions: STARL<ul>
<li>承认错误，量化错误的影响，改进错误</li>
<li>阐述how to link my failure to a later success</li>
</ul>
</li>
<li>量化result和impact</li>
<li>涉及interpersonal, 如conflict, push back, 则一定要说明如何与人交流。要阐述双方立场，表示我理解对方所想，明白conflict从何而来，并能提供plan来mitigate对方的concern</li>
<li>在我的故事里，不能有坏人。我不能甩锅，不能blame别人或别的team</li>
<li>在故事里，一直说I, 不能说We</li>
</ul>
<h2 id="Why-this-company"><a href="#Why-this-company" class="headerlink" title="Why this company?"></a>Why this company?</h2><p>考点：</p>
<ul>
<li>我对公司&#x2F;产品的了解程度</li>
<li>我对未来的职业规划</li>
<li>我能给公司贡献什么</li>
<li>我希望获得什么</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line">As I approach the completion of my Master&#x27;s Degree in Computer Science in June 2024, I am eagerly anticipating the opportunity to embark on my dream career as a Software Development Engineer. My aspiration has always been to contribute to the creation/maintenance of web applications and cloud platforms that have the potential to positively impact the lives of thousands, even millions, of users. For me, the idea of &quot;making this world a better place&quot; is not just a hollow slogan, but a tangible goal that I can achieve through my passion, talent, and code.</span><br><span class="line"></span><br><span class="line">I believe I am a fast self-learner with motivations. I am well aware of the ever-evolving nature of the IT industry and the imperative for every proficient software developer to keep up with in-trend technical stacks. I also understand that company is not like school, I am here to deliver results.</span><br><span class="line"></span><br><span class="line">I look forward to meeting many interesting people, so that we can learn from each other and improve together. I am also excited about handling new challenges. If succeeds, I can gain a great sense of accomplishment. If fails, I can learn from it and be better prepared for the future. </span><br><span class="line"></span><br><span class="line">//</span><br><span class="line">I eagerly anticipate the prospect of interacting with a diverse array of individuals in this dynamic field. Through these interactions, I hope to engage in mutual learning and collective growth. I am equally enthusiastic about confronting new challenges, viewing them as opportunities for personal and professional development. Successes will be met with a profound sense of accomplishment, while any setbacks will serve as valuable lessons that will better equip me for the future.</span><br></pre></td></tr></table></figure>



<h2 id="Past-experience"><a href="#Past-experience" class="headerlink" title="Past experience?"></a>Past experience?</h2><p>What is something challenging that you have worked on (technical or non technical) and what was the impact or outcome of it? What did you learn from this experience?</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">One of the challenges I&#x27;ve conquered in the past was to build my own tourist website &quot;My Lonely Planet&quot;. I&#x27;ve always been a great fan of the famous website Lonely Planet, and browsing that site is a major relief and escape for me when I am tired of the daily routines. After designing the overall structure and major features of this website, I took an on-line crash course on Node.js and kept googling while developing my website&#x27;s frontend pages and backend APIs. There were certainly setbacks and moments when I wanted to give up. Fortunately, I didn&#x27;t quit and made it in the end! </span><br><span class="line">The current users of this website consist of my family, friends and schoolmates. The community is small but cohesive. I am really happy to bring people together and provide them chances to share their love&amp;passion.</span><br><span class="line">This experience really built up my confidence about programming. Also, a major take-away from this experience for me is that, programming is not just about technical skills, but about people. A stand-out software engineer should be albe to deliver code &quot;of the people, by the people, for the people&quot;.</span><br></pre></td></tr></table></figure>





<p>Describe a project you worked on during a past internship and what you learned from it</p>
<h2 id="Customer-Obsession-1"><a href="#Customer-Obsession-1" class="headerlink" title="Customer Obsession"></a>Customer Obsession</h2><p>考点：</p>
<ul>
<li>我的故事是否体现了我能从客户的角度出发思考并解决问题</li>
<li>客户可以是真正的end user, 也可以是我下游consume我的data&#x2F;signal&#x2F;pipeline的team</li>
</ul>
<h2 id="Are-Right-A-lot"><a href="#Are-Right-A-lot" class="headerlink" title="Are Right, A lot"></a>Are Right, A lot</h2><p>考点：</p>
<ul>
<li>在信息不足又必须做决定的情况下，我如何做出正确的决定</li>
<li>当时是否有deadline压力</li>
<li>我如何从不同的角度收集重要信息</li>
<li>我如何做出相对明智的决定</li>
</ul>
<h2 id="Ownership-1"><a href="#Ownership-1" class="headerlink" title="Ownership"></a>Ownership</h2><p>考点：</p>
<ul>
<li>考察我对日常工作的负责任的态度，无论这个工作是不是我的work,我都乐意dive in，发现问题，尝试解决问题</li>
<li>我知道how to trade-off between short-term gain and long-term gain</li>
<li>我需要讲一个在我team&#x2F;scope&#x2F;responsibility之外的故事，并必须强调为什么这件事非我不可(当时事态紧急，owner又休假了，所有必须我上)</li>
<li>focus on impact, 量化impact</li>
</ul>
<h2 id="Bias-For-Action"><a href="#Bias-For-Action" class="headerlink" title="Bias For Action"></a>Bias For Action</h2><p>考点：</p>
<ul>
<li>我需要在了解potential risks的情况下迅速行动, fast iteration来验证是否可行</li>
<li>我需要明确有哪些risk,有哪些risk是值得的，能带来更高的Return of Investment</li>
<li>如果consensus不能被reach, 我了解risk并准备action, 要强调我的solution是reversible的，不会对production产生影响</li>
</ul>
<h2 id="Think-Big-1"><a href="#Think-Big-1" class="headerlink" title="Think Big"></a>Think Big</h2><p>考点：</p>
<ul>
<li>我能否挖坑，create something new</li>
<li>我的新想法是否有足够大的impact，来drive business和serve customer</li>
<li>think big, 但implement要着眼于小处，先从简单的lower hanging fruit开始做起，采用divide&amp;conquer来实现我的大目标</li>
</ul>
<h2 id="Invent-amp-Simplify"><a href="#Invent-amp-Simplify" class="headerlink" title="Invent &amp; Simplify"></a>Invent &amp; Simplify</h2><p>考点：</p>
<ul>
<li>invent: 开发工具大大简化了debug流程，或参与研发一个系统提升了用户体验</li>
<li>simplify: 怎么用existing solution来简化我的开发流程</li>
<li>不论是invent还是simplify，我的solution必须是scalable且long-term的，我要long-term gain driven, short-term hack不行</li>
</ul>
<h2 id="Learn-and-Be-Curious-1"><a href="#Learn-and-Be-Curious-1" class="headerlink" title="Learn, and Be Curious"></a>Learn, and Be Curious</h2><p>考点：</p>
<ul>
<li>平时是否在持续学习：学习tool, 打比赛，看文档，读论文，做side project, 读tech blog，学system design</li>
<li>如何用学到的新东西应用到我的工作中</li>
</ul>
<h2 id="Dive-Deep-1"><a href="#Dive-Deep-1" class="headerlink" title="Dive Deep"></a>Dive Deep</h2><p>考点：</p>
<ul>
<li>强调系统的复杂性，make educated guess</li>
<li>structurize all the possibilites, then focus on impact</li>
</ul>
<h2 id="Insist-On-The-Highest-Standards"><a href="#Insist-On-The-Highest-Standards" class="headerlink" title="Insist On The Highest Standards"></a>Insist On The Highest Standards</h2><p>考点：</p>
<ul>
<li>我如何set and achieve goals that are challenging</li>
<li>我的计划有几步，每步realistic吗？</li>
</ul>
<h2 id="Earn-Trust-1"><a href="#Earn-Trust-1" class="headerlink" title="Earn Trust"></a>Earn Trust</h2><p>考点：</p>
<ul>
<li>interpersonal skills</li>
<li>沟通，同理心，考虑各自的pros and cons</li>
<li>提出plans来resolve conflict</li>
</ul>
<h2 id="Deliver-Results-1"><a href="#Deliver-Results-1" class="headerlink" title="Deliver Results"></a>Deliver Results</h2><p>考点：</p>
<ul>
<li>如何在面对挑战和不确定时，unblock自己并deliver high quality work</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://invincible-nerd.github.io/2023/02/28/DP-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="invincible-nerd">
      <meta itemprop="description" content="For explorer everywhere">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IVN">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/28/DP-3/" class="post-title-link" itemprop="url">DP-3</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-28 19:14:16" itemprop="dateCreated datePublished" datetime="2023-02-28T19:14:16+08:00">2023-02-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-09-09 08:37:03" itemprop="dateModified" datetime="2023-09-09T08:37:03+08:00">2023-09-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index"><span itemprop="name">LeetCode</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>18k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>17 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="DP选编（3）"><a href="#DP选编（3）" class="headerlink" title="DP选编（3）"></a>DP选编（3）</h1><h2 id="265-Paint-House-II"><a href="#265-Paint-House-II" class="headerlink" title="265. Paint House II"></a>265. Paint House II</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minCostII</span><span class="params">(<span class="type">int</span>[][] costs)</span> &#123;</span><br><span class="line">    <span class="type">int</span> k=costs[<span class="number">0</span>].length;</span><br><span class="line">    <span class="type">int</span> n=costs.length;</span><br><span class="line">    <span class="type">int</span>[][] dp=<span class="keyword">new</span> <span class="title class_">int</span>[n][k];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        dp[<span class="number">0</span>][i]=costs[<span class="number">0</span>][i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; k; j++) &#123;</span><br><span class="line">            <span class="type">int</span> min=Integer.MAX_VALUE;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">p</span> <span class="operator">=</span> <span class="number">0</span>; p &lt; k; p++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(p==j)&#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                min=Math.min(min,dp[i-<span class="number">1</span>][p]);</span><br><span class="line">            &#125;</span><br><span class="line">            dp[i][j]=costs[i][j]+min;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res=Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        res=Math.min(res,dp[n-<span class="number">1</span>][i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>Follow up:</strong> Could you solve it in <code>O(nk)</code> runtime?</p>
<h2 id="276-Paint-Fence"><a href="#276-Paint-Fence" class="headerlink" title="276. Paint Fence"></a>276. Paint Fence</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numWays</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> k;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> k*k;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span>[] dp=<span class="keyword">new</span> <span class="title class_">int</span>[n+<span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">1</span>]=k;</span><br><span class="line">    dp[<span class="number">2</span>]=k*k;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">3</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="comment">//not same + same</span></span><br><span class="line">        <span class="comment">//dp[i-1]*(k-1) + not same(i-2,i-1)*1</span></span><br><span class="line">        dp[i]=(dp[i-<span class="number">1</span>]+dp[i-<span class="number">2</span>])*(k-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="651-4-Keys-Keyboard"><a href="#651-4-Keys-Keyboard" class="headerlink" title="651. 4 Keys Keyboard"></a>651. 4 Keys Keyboard</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxA</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;=<span class="number">3</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span>[] dp=<span class="keyword">new</span> <span class="title class_">int</span>[n+<span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">    dp[<span class="number">2</span>]=<span class="number">2</span>;</span><br><span class="line">    dp[<span class="number">3</span>]=<span class="number">3</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">4</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="comment">//ctrlA,ctrlC,ctrlV</span></span><br><span class="line">        dp[i]=i;</span><br><span class="line">        <span class="type">int</span> p=<span class="number">2</span>;</span><br><span class="line">        <span class="comment">//inefficient to press ctrlV more than 5 times</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i-<span class="number">3</span>; j&gt;=<span class="number">1</span>; j--) &#123;</span><br><span class="line">            dp[i]=Math.max(dp[i],dp[j]*p);</span><br><span class="line">            p++;</span><br><span class="line">            <span class="keyword">if</span>(p&gt;=<span class="number">6</span>)&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1259-Handshakes-That-Don’t-Cross"><a href="#1259-Handshakes-That-Don’t-Cross" class="headerlink" title="1259. Handshakes That Don’t Cross"></a>1259. Handshakes That Don’t Cross</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numberOfWays</span><span class="params">(<span class="type">int</span> numPeople)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] dp=<span class="keyword">new</span> <span class="title class_">int</span>[numPeople+<span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> m=(<span class="type">int</span>)<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt;= numPeople; i+=<span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt;= i-<span class="number">2</span>; j+=<span class="number">2</span>) &#123;</span><br><span class="line">            <span class="comment">//j,2,i-j-2</span></span><br><span class="line">            dp[i]+=(<span class="type">long</span>)dp[j]*dp[i-<span class="number">2</span>-j]%m;</span><br><span class="line">            dp[i]%=m;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[numPeople];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1444-Number-of-Ways-of-Cutting-a-Pizza"><a href="#1444-Number-of-Ways-of-Cutting-a-Pizza" class="headerlink" title="1444. Number of Ways of Cutting a Pizza"></a>1444. Number of Ways of Cutting a Pizza</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LeetCode1444</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> mod=(<span class="type">int</span>)<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line">    <span class="type">int</span> row;</span><br><span class="line">    <span class="type">int</span> col;</span><br><span class="line">    <span class="type">int</span>[][][] dp;</span><br><span class="line">    <span class="type">int</span>[][] sum; <span class="comment">//number of apple in (i,j,row-1,col-1)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">ways</span><span class="params">(String[] pizza, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        row=pizza.length;</span><br><span class="line">        col=pizza[<span class="number">0</span>].length();</span><br><span class="line">        sum=<span class="keyword">new</span> <span class="title class_">int</span>[row+<span class="number">1</span>][col+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> row-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> col-<span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">                sum[i][j]=sum[i+<span class="number">1</span>][j]+sum[i][j+<span class="number">1</span>]-sum[i+<span class="number">1</span>][j+<span class="number">1</span>]+</span><br><span class="line">                        (pizza[i].charAt(j)==<span class="string">&#x27;A&#x27;</span> ? <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        dp=<span class="keyword">new</span> <span class="title class_">int</span>[row][col][k+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">return</span> dfs(<span class="number">0</span>,<span class="number">0</span>,k);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j, <span class="type">int</span> k)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(sum[i][j]==<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(k==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(dp[i][j][k]!=<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> dp[i][j][k];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">        <span class="comment">//horizontal cut</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> i+<span class="number">1</span>; x &lt; row; x++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(sum[i][j]-sum[x][j]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                res=(res+dfs(x,j,k-<span class="number">1</span>))%mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//vertical cut</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> j+<span class="number">1</span>; y &lt; col; y++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(sum[i][j]-sum[i][y]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                res=(res+dfs(i,y,k-<span class="number">1</span>))%mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        dp[i][j][k]=res;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="983-Minimum-Cost-For-Tickets"><a href="#983-Minimum-Cost-For-Tickets" class="headerlink" title="983. Minimum Cost For Tickets"></a>983. Minimum Cost For Tickets</h2><h3 id="法一：dfs-with-memo"><a href="#法一：dfs-with-memo" class="headerlink" title="法一：dfs with memo"></a>法一：dfs with memo</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] days;</span><br><span class="line"><span class="type">int</span>[] costs;</span><br><span class="line">Map&lt;Integer,Integer&gt; memo=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">mincostTickets</span><span class="params">(<span class="type">int</span>[] days, <span class="type">int</span>[] costs)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.days=days;</span><br><span class="line">    <span class="built_in">this</span>.costs=costs;</span><br><span class="line">    <span class="keyword">return</span> backtracking(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">backtracking</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> nextStart)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i&gt;=days.length || nextStart&gt;days[days.length-<span class="number">1</span>])&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(memo.containsKey(i*<span class="number">365</span>+nextStart))&#123;</span><br><span class="line">        <span class="keyword">return</span> memo.get(i*<span class="number">365</span>+nextStart);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//choose 1-day</span></span><br><span class="line">    <span class="type">int</span> choose1=costs[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt; days.length; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(days[j]&lt;nextStart)&#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        choose1+=backtracking(j+<span class="number">1</span>,days[j]+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//choose 7-day</span></span><br><span class="line">    <span class="type">int</span> choose7=costs[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt; days.length; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(days[j]&lt;nextStart)&#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        choose7+=backtracking(j+<span class="number">1</span>,days[j]+<span class="number">7</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//choose 30-day</span></span><br><span class="line">    <span class="type">int</span> choose30=costs[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt; days.length; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(days[j]&lt;nextStart)&#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        choose30+=backtracking(j+<span class="number">1</span>,days[j]+<span class="number">30</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res=Math.min(Math.min(choose1,choose7),choose30);</span><br><span class="line">    memo.put(i*<span class="number">365</span>+nextStart,res)</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="法二：dp-with-queue"><a href="#法二：dp-with-queue" class="headerlink" title="法二：dp with queue"></a>法二：dp with queue</h3><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/minimum-cost-for-tickets/discuss/226659/Two-DP-solutions-with-pictures">https://leetcode.com/problems/minimum-cost-for-tickets/discuss/226659/Two-DP-solutions-with-pictures</a></p>
<p>同法一表现无异</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">mincostTickets</span><span class="params">(<span class="type">int</span>[] days, <span class="type">int</span>[] costs)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=days.length;</span><br><span class="line">    <span class="type">int</span> total=<span class="number">0</span>;</span><br><span class="line">    Deque&lt;<span class="type">int</span>[]&gt; last7=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    Deque&lt;<span class="type">int</span>[]&gt; last30=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span>(!last7.isEmpty() &amp;&amp; last7.peek()[<span class="number">0</span>]+<span class="number">7</span>&lt;=days[i])&#123;</span><br><span class="line">            last7.poll();</span><br><span class="line">        &#125;</span><br><span class="line">        last7.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;days[i],total+costs[<span class="number">1</span>]&#125;);</span><br><span class="line">        <span class="keyword">while</span>(!last30.isEmpty() &amp;&amp; last30.peek()[<span class="number">0</span>]+<span class="number">30</span>&lt;=days[i])&#123;</span><br><span class="line">            last30.poll();</span><br><span class="line">        &#125;</span><br><span class="line">        last30.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;days[i],total+costs[<span class="number">2</span>]&#125;);</span><br><span class="line">        total=Math.min(total+costs[<span class="number">0</span>],Math.min(last7.peek()[<span class="number">1</span>],last30.peek()[<span class="number">1</span>]));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> total;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="法三：dp"><a href="#法三：dp" class="headerlink" title="法三：dp"></a>法三：dp</h3><p>注意：</p>
<ul>
<li>dp数组长度并不由days数组长度决定，而是由lastday决定</li>
<li>由于只需考虑前30天，可以进一步通过 mod30 来优化</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">mincostTickets</span><span class="params">(<span class="type">int</span>[] days, <span class="type">int</span>[] costs)</span> &#123;</span><br><span class="line">            <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">30</span>];</span><br><span class="line">    <span class="type">int</span> <span class="variable">d</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// d means the index of next travel day</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">lastday</span> <span class="operator">=</span> days[days.length - <span class="number">1</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> days[<span class="number">0</span>]; i &lt;= lastday; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i != days[d]) dp[i % <span class="number">30</span>] = dp[(i - <span class="number">1</span>) % <span class="number">30</span>]; <span class="comment">// we don&#x27;t have thid day for travel, price as yesterday</span></span><br><span class="line">        <span class="keyword">else</span> &#123; <span class="comment">// i == days[d]</span></span><br><span class="line">            dp[i % <span class="number">30</span>] = Math.min(dp[(i - <span class="number">1</span>) % <span class="number">30</span>] + costs[<span class="number">0</span>], Math.min(dp[Math.max(i - <span class="number">7</span>, <span class="number">0</span>) % <span class="number">30</span>] + costs[<span class="number">1</span>], dp[Math.max(i - <span class="number">30</span>, <span class="number">0</span>) % <span class="number">30</span>] + costs[<span class="number">2</span>]));</span><br><span class="line">            d++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> dp[lastday % <span class="number">30</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="790-Domino-and-Tromino-Tiling"><a href="#790-Domino-and-Tromino-Tiling" class="headerlink" title="790. Domino and Tromino Tiling"></a>790. Domino and Tromino Tiling</h2><p>难以理解</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numTilings</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(n==<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(n==<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">mod</span> <span class="operator">=</span> <span class="number">1000000007</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> [] dp=<span class="keyword">new</span> <span class="title class_">int</span>[n+<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">dp[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">dp[<span class="number">2</span>]=<span class="number">2</span>;</span><br><span class="line">dp[<span class="number">3</span>]=<span class="number">5</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span><span class="number">4</span>;i&lt;=n;i++)&#123;</span><br><span class="line">    dp[i]=(<span class="number">2</span>*dp[i-<span class="number">1</span>]%mod+dp[i-<span class="number">3</span>]%mod)%mod;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>勉强可以理解</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numTilings</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="comment">//f(k)=f(k-1)+f(k-2)+2*p(k-1)</span></span><br><span class="line">    <span class="comment">//p(k)=p(k-1)+f(k-2)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> mod=(<span class="type">int</span>)<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line">    <span class="type">long</span>[] f=<span class="keyword">new</span> <span class="title class_">long</span>[n+<span class="number">1</span>];</span><br><span class="line">    <span class="type">long</span>[] p=<span class="keyword">new</span> <span class="title class_">long</span>[n+<span class="number">1</span>];</span><br><span class="line">    f[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">    f[<span class="number">2</span>]=<span class="number">2</span>;</span><br><span class="line">    p[<span class="number">2</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">3</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        p[i]=(p[i-<span class="number">1</span>]%mod+f[i-<span class="number">2</span>]%mod)%mod;</span><br><span class="line">        f[i]=(f[i-<span class="number">1</span>]%mod+f[i-<span class="number">2</span>]%mod+<span class="number">2</span>*p[i-<span class="number">1</span>]%mod)%mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="type">int</span>)f[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2218-Maximum-Value-of-K-Coins-From-Piles"><a href="#2218-Maximum-Value-of-K-Coins-From-Piles" class="headerlink" title="2218. Maximum Value of K Coins From Piles"></a>2218. Maximum Value of K Coins From Piles</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span>[][] dp;</span><br><span class="line">List&lt;List&lt;Integer&gt;&gt; piles;</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxValueOfCoins</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; piles, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    n=piles.size();</span><br><span class="line">    <span class="built_in">this</span>.piles=piles;</span><br><span class="line">    dp=<span class="keyword">new</span> <span class="title class_">int</span>[n][k+<span class="number">1</span>];</span><br><span class="line">    <span class="comment">//use pile [i,n-1] to build max k elements</span></span><br><span class="line">    <span class="keyword">return</span> dp(<span class="number">0</span>,k);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">dp</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> k)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i&gt;=n || k==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dp[i][k]!=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> dp[i][k];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> max=dp(i+<span class="number">1</span>,k);</span><br><span class="line">    <span class="type">int</span> cur=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>; j&lt;Math.min(k,piles.get(i).size()); j++)&#123;</span><br><span class="line">        cur+=piles.get(i).get(j);</span><br><span class="line">        <span class="comment">//j,k-j</span></span><br><span class="line">        max=Math.max(max,cur+dp(i+<span class="number">1</span>,k-j-<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[i][k]=max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2140-Solving-Questions-With-Brainpower"><a href="#2140-Solving-Questions-With-Brainpower" class="headerlink" title="2140. Solving Questions With Brainpower"></a>2140. Solving Questions With Brainpower</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">mostPoints</span><span class="params">(<span class="type">int</span>[][] questions)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=questions.length;</span><br><span class="line">    <span class="comment">//most points starting from i</span></span><br><span class="line">    <span class="type">long</span>[] dp=<span class="keyword">new</span> <span class="title class_">long</span>[n];</span><br><span class="line">    dp[n-<span class="number">1</span>]=questions[n-<span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n-<span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="type">int</span> next=i+questions[i][<span class="number">1</span>]+<span class="number">1</span>;</span><br><span class="line">        dp[i]=Math.max(dp[i+<span class="number">1</span>],</span><br><span class="line">                questions[i][<span class="number">0</span>]+(next&lt;n? dp[next] : <span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1547-Minimum-Cost-to-Cut-a-Stick"><a href="#1547-Minimum-Cost-to-Cut-a-Stick" class="headerlink" title="1547. Minimum Cost to Cut a Stick"></a>1547. Minimum Cost to Cut a Stick</h2><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/minimum-cost-to-cut-a-stick/discuss/781074/JavaC%2B%2BPython-Merge-Stones">https://leetcode.com/problems/minimum-cost-to-cut-a-stick/discuss/781074/JavaC%2B%2BPython-Merge-Stones</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minCost</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[] cuts)</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; list=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    list.add(<span class="number">0</span>);</span><br><span class="line">    list.add(n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> cut : cuts) &#123;</span><br><span class="line">        list.add(cut);</span><br><span class="line">    &#125;</span><br><span class="line">    Collections.sort(list);</span><br><span class="line">    <span class="type">int</span> k=list.size();</span><br><span class="line">    <span class="type">int</span>[][] dp=<span class="keyword">new</span> <span class="title class_">int</span>[k][k];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> d=<span class="number">2</span>; d&lt;k; d++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i+d&lt;k; i++)&#123;</span><br><span class="line">            dp[i][i+d]=Integer.MAX_VALUE;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> m=i+<span class="number">1</span>; m&lt;i+d; m++)&#123;</span><br><span class="line">                dp[i][i+d]=Math.min(dp[i][i+d],</span><br><span class="line">                        dp[i][m]+dp[m][i+d]+list.get(i+d)-list.get(i));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[<span class="number">0</span>][k-<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2328-Number-of-Increasing-Paths-in-a-Grid"><a href="#2328-Number-of-Increasing-Paths-in-a-Grid" class="headerlink" title="2328. Number of Increasing Paths in a Grid"></a>2328. Number of Increasing Paths in a Grid</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countPaths</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">    <span class="type">int</span> row=grid.length;</span><br><span class="line">    <span class="type">int</span> col=grid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="type">int</span> mod=(<span class="type">int</span>)<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line">    <span class="type">int</span>[] dx=<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,-<span class="number">1</span>&#125;;</span><br><span class="line">    <span class="type">int</span>[] dy=<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">1</span>,-<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="type">long</span>[][] dp=<span class="keyword">new</span> <span class="title class_">long</span>[row][col]; <span class="comment">//path ending with [i,j]</span></span><br><span class="line">    TreeMap&lt;Integer, List&lt;<span class="type">int</span>[]&gt;&gt; map=<span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">            map.putIfAbsent(grid[i][j],<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">            map.get(grid[i][j]).add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;i,j&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">long</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (Integer val : map.keySet()) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] arr : map.get(val)) &#123;</span><br><span class="line">            <span class="type">int</span> i=arr[<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> j=arr[<span class="number">1</span>];</span><br><span class="line">            dp[i][j]=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; <span class="number">4</span>; k++) &#123;</span><br><span class="line">                <span class="type">int</span> x=i+dx[k];</span><br><span class="line">                <span class="type">int</span> y=j+dy[k];</span><br><span class="line">                <span class="keyword">if</span>(x&gt;=<span class="number">0</span> &amp;&amp; x&lt;row &amp;&amp; y&gt;=<span class="number">0</span> &amp;&amp; y&lt;col</span><br><span class="line">                        &amp;&amp; grid[x][y]&lt;val)&#123;</span><br><span class="line">                    dp[i][j]+=dp[x][y];</span><br><span class="line">                    dp[i][j]%=mod;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            res+=dp[i][j];</span><br><span class="line">            res%=mod;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="type">int</span>)res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2742-Painting-the-Walls"><a href="#2742-Painting-the-Walls" class="headerlink" title="2742. Painting the Walls"></a>2742. Painting the Walls</h2><p>0&#x2F;1 knapsack</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">paintWalls</span><span class="params">(<span class="type">int</span>[] cost, <span class="type">int</span>[] time)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=cost.length;</span><br><span class="line">    <span class="type">int</span>[] dp=<span class="keyword">new</span> <span class="title class_">int</span>[n+<span class="number">1</span>]; <span class="comment">//minimum cost to paint n walls</span></span><br><span class="line">    Arrays.fill(dp,(<span class="type">int</span>)<span class="number">1e9</span>);</span><br><span class="line">    <span class="comment">//use cost[0,i] to paint n walls</span></span><br><span class="line">    <span class="comment">//choose, not choose</span></span><br><span class="line">    <span class="comment">//dp[i][n] = Math.min(dp[i-1][n], cost[i]+dp[i-1][n-time[i]-1])</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> n; j &gt; <span class="number">0</span>; j--) &#123;</span><br><span class="line">            dp[j]=Math.min(dp[j],</span><br><span class="line">                    cost[i] + (j-time[i]-<span class="number">1</span>&gt;<span class="number">0</span> ? dp[j-time[i]-<span class="number">1</span>] :<span class="number">0</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1575-Count-All-Possible-Routes"><a href="#1575-Count-All-Possible-Routes" class="headerlink" title="1575. Count All Possible Routes"></a>1575. Count All Possible Routes</h2><p>What’s the state of each sub problem?</p>
<p>What’s the base case?</p>
<p>What’s the state transfer equation?</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> mod=(<span class="type">int</span>)<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="type">int</span>[][] dp;</span><br><span class="line"><span class="type">int</span> finish;</span><br><span class="line"><span class="type">int</span>[] locations;</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countRoutes</span><span class="params">(<span class="type">int</span>[] locations, <span class="type">int</span> start, <span class="type">int</span> finish, <span class="type">int</span> fuel)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=locations.length;</span><br><span class="line">    dp=<span class="keyword">new</span> <span class="title class_">int</span>[n][fuel+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        Arrays.fill(dp[i],-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    dp[finish][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">this</span>.locations=locations;</span><br><span class="line">    <span class="built_in">this</span>.finish=finish;</span><br><span class="line">    <span class="keyword">return</span> dfs(start,fuel);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> start, <span class="type">int</span> fuel)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(fuel&lt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dp[start][fuel]!=-<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> dp[start][fuel];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(fuel==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res= start==finish ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; locations.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(i==start)&#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        res=(res+dfs(i,fuel-Math.abs(locations[start]-locations[i])))%mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[start][fuel]=res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1723-Find-Minimum-Time-to-Finish-All-Jobs"><a href="#1723-Find-Minimum-Time-to-Finish-All-Jobs" class="headerlink" title="1723. Find Minimum Time to Finish All Jobs"></a>1723. Find Minimum Time to Finish All Jobs</h2><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/find-minimum-time-to-finish-all-jobs/discuss/1009817/One-branch-cutting-trick-to-solve-three-LeetCode-questions">https://leetcode.com/problems/find-minimum-time-to-finish-all-jobs/discuss/1009817/One-branch-cutting-trick-to-solve-three-LeetCode-questions</a></p>
<p>思路：</p>
<ul>
<li>similar to <strong>698. Partition to K Equal Sum Subsets</strong></li>
<li>DFS + optimization(branch cutting)<ul>
<li>assign the most time consuming job first</li>
<li>avoid duplicated search (same scenario)</li>
<li>avoid meaningless search (&gt;&#x3D;res)</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> res=Integer.MAX_VALUE;</span><br><span class="line"><span class="type">int</span>[] workers;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> k;</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minimumTimeRequired</span><span class="params">(<span class="type">int</span>[] jobs, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    Arrays.sort(jobs);</span><br><span class="line">    workers=<span class="keyword">new</span> <span class="title class_">int</span>[k];</span><br><span class="line">    n=jobs.length;</span><br><span class="line">    <span class="built_in">this</span>.k=k;</span><br><span class="line">    dfs(jobs,n-<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[] jobs, <span class="type">int</span> cur, <span class="type">int</span> preMax)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(cur==-<span class="number">1</span>)&#123;</span><br><span class="line">        res=Math.min(res,preMax);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        <span class="type">boolean</span> skip=<span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(workers[i]==workers[j])&#123;</span><br><span class="line">                skip=<span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!skip &amp;&amp; workers[i]+jobs[cur]&lt;res)&#123;</span><br><span class="line">            workers[i]+=jobs[cur];</span><br><span class="line">            dfs(jobs,cur-<span class="number">1</span>,Math.max(preMax,workers[i]));</span><br><span class="line">            workers[i]-=jobs[cur];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1751-Maximum-Number-of-Events-That-Can-Be-Attended-II"><a href="#1751-Maximum-Number-of-Events-That-Can-Be-Attended-II" class="headerlink" title="1751. Maximum Number of Events That Can Be Attended II"></a>1751. Maximum Number of Events That Can Be Attended II</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span>[][] dp;</span><br><span class="line"><span class="type">int</span>[][] events;</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxValue</span><span class="params">(<span class="type">int</span>[][] events, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.events=events;</span><br><span class="line">    n=events.length;</span><br><span class="line">    dp=<span class="keyword">new</span> <span class="title class_">int</span>[n][k+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span>[] arr : dp) &#123;</span><br><span class="line">        Arrays.fill(arr,-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    Arrays.sort(events,(a,b)-&gt;(a[<span class="number">0</span>]!=b[<span class="number">0</span>] ? a[<span class="number">0</span>]-b[<span class="number">0</span>] : a[<span class="number">1</span>]-b[<span class="number">1</span>]));</span><br><span class="line">    <span class="keyword">return</span> dfs(<span class="number">0</span>,k);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> k)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i==-<span class="number">1</span> || i==n || k==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dp[i][k]!=-<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> dp[i][k];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//not choose</span></span><br><span class="line">    <span class="type">int</span> c1=dfs(i+<span class="number">1</span>,k);</span><br><span class="line">    <span class="comment">//choose</span></span><br><span class="line">    <span class="type">int</span> next=binarySearch(i);</span><br><span class="line">    <span class="type">int</span> c2=events[i][<span class="number">2</span>]+dfs(next,k-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> dp[i][k]=Math.max(c1,c2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">binarySearch</span><span class="params">(<span class="type">int</span> cur)</span>&#123;</span><br><span class="line">    <span class="comment">//next available event</span></span><br><span class="line">    <span class="comment">//first(smallest) event with start &gt;= curEnd</span></span><br><span class="line">    <span class="type">int</span> left=cur+<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> right=n;</span><br><span class="line">    <span class="type">int</span> mid=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> curEnd=events[cur][<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="comment">//[left,right)</span></span><br><span class="line">        mid=(left+right)/<span class="number">2</span>;</span><br><span class="line">        <span class="comment">//not valid</span></span><br><span class="line">        <span class="keyword">if</span>(events[mid][<span class="number">0</span>]&lt;=curEnd)&#123;</span><br><span class="line">            left=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            right=mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2361-Minimum-Costs-Using-the-Train-Line"><a href="#2361-Minimum-Costs-Using-the-Train-Line" class="headerlink" title="2361. Minimum Costs Using the Train Line"></a>2361. Minimum Costs Using the Train Line</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">long</span>[] minimumCosts(<span class="type">int</span>[] regular, <span class="type">int</span>[] express, <span class="type">int</span> expressCost) &#123;</span><br><span class="line">    <span class="type">int</span> n=regular.length;</span><br><span class="line">    <span class="type">long</span>[] res=<span class="keyword">new</span> <span class="title class_">long</span>[n];</span><br><span class="line">    <span class="comment">//min cost to reach i-1 by regular/express</span></span><br><span class="line">    <span class="type">long</span>[][] dp=<span class="keyword">new</span> <span class="title class_">long</span>[n][<span class="number">2</span>];</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>]=regular[<span class="number">0</span>];</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">1</span>]=expressCost+express[<span class="number">0</span>];</span><br><span class="line">    res[<span class="number">0</span>]=Math.min(dp[<span class="number">0</span>][<span class="number">0</span>],dp[<span class="number">0</span>][<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="comment">//regular -&gt; regular</span></span><br><span class="line">        <span class="comment">//regular -&gt; express</span></span><br><span class="line">        <span class="comment">//express -&gt; regular</span></span><br><span class="line">        <span class="comment">//express -&gt; express</span></span><br><span class="line">        dp[i][<span class="number">0</span>]=Math.min(dp[i-<span class="number">1</span>][<span class="number">0</span>]+regular[i],dp[i-<span class="number">1</span>][<span class="number">1</span>]+regular[i]);</span><br><span class="line">        dp[i][<span class="number">1</span>]=Math.min(dp[i-<span class="number">1</span>][<span class="number">0</span>]+expressCost+express[i],dp[i-<span class="number">1</span>][<span class="number">1</span>]+express[i]);</span><br><span class="line">        res[i]=Math.min(dp[i][<span class="number">0</span>],dp[i][<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="664-Strange-Printer"><a href="#664-Strange-Printer" class="headerlink" title="664. Strange Printer"></a>664. Strange Printer</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span>[][] dp;</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">strangePrinter</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    n=s.length();</span><br><span class="line">    dp=<span class="keyword">new</span> <span class="title class_">int</span>[n][n];<span class="comment">//minimum number of turns</span></span><br><span class="line">    <span class="comment">// to solve s[l,r] difference</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        Arrays.fill(dp[i],-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dfs(s,<span class="number">0</span>,n-<span class="number">1</span>)+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(String s, <span class="type">int</span> l, <span class="type">int</span> r)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(dp[l][r]!=-<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> dp[l][r];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res=n;</span><br><span class="line">    <span class="type">int</span> j=-<span class="number">1</span>;<span class="comment">//first different element than s[r]</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=l;i&lt;r; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s.charAt(i)!=s.charAt(r) &amp;&amp; j==-<span class="number">1</span>)&#123;</span><br><span class="line">            j=i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(j!=-<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">//s[l,j-1] is the same as s[r], no need to solve</span></span><br><span class="line">            <span class="comment">//need 1 extra move to print all to s[r]</span></span><br><span class="line">            <span class="comment">//try all possible i</span></span><br><span class="line">            res=Math.min(res,dfs(s,j,i)+dfs(s,i+<span class="number">1</span>,r)+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(j==-<span class="number">1</span>)&#123;</span><br><span class="line">        res=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[l][r]=res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="808-Soup-Servings"><a href="#808-Soup-Servings" class="headerlink" title="808. Soup Servings"></a>808. Soup Servings</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;Integer, Map&lt;Integer,Double&gt;&gt; map;</span><br><span class="line"><span class="keyword">public</span> <span class="type">double</span> <span class="title function_">soupServings</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="comment">//edge case, when n is large enough, p is almost 1</span></span><br><span class="line">    <span class="keyword">if</span>(n&gt;=<span class="number">5000</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">return</span> dfs(n,n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">double</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a&lt;=<span class="number">0</span> &amp;&amp; b&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0.5</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(a&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(b&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(map.containsKey(a) &amp;&amp; map.get(a).containsKey(b))&#123;</span><br><span class="line">        <span class="keyword">return</span> map.get(a).get(b);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">double</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">//100 0</span></span><br><span class="line">    res+=<span class="number">0.25</span>*dfs(a-<span class="number">100</span>,b);</span><br><span class="line">    <span class="comment">//75 25</span></span><br><span class="line">    res+=<span class="number">0.25</span>*dfs(a-<span class="number">75</span>,b-<span class="number">25</span>);</span><br><span class="line">    <span class="comment">//50 50</span></span><br><span class="line">    res+=<span class="number">0.25</span>*dfs(a-<span class="number">50</span>,b-<span class="number">50</span>);</span><br><span class="line">    <span class="comment">//25 75</span></span><br><span class="line">    res+=<span class="number">0.25</span>*dfs(a-<span class="number">25</span>,b-<span class="number">75</span>);</span><br><span class="line">    map.putIfAbsent(a,<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;());</span><br><span class="line">    map.get(a).put(b,res);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="920-Number-of-Music-Playlists"><a href="#920-Number-of-Music-Playlists" class="headerlink" title="920. Number of Music Playlists"></a>920. Number of Music Playlists</h2><p>思路：</p>
<ul>
<li>fill i spots with j unique songs<ul>
<li>option 1: already know i-1, j-1, can simply choose another song from other n-j+1 songs, and append it</li>
<li>option 2: try to append an old song, and this song cannot appear in interval [i-k,i-1] &#x3D;&gt; k old songs in this interval should not be considered</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> k;</span><br><span class="line"><span class="type">int</span>[][] dp;</span><br><span class="line"><span class="type">int</span> mod=(<span class="type">int</span>)<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numMusicPlaylists</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> goal, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.n=n;</span><br><span class="line">    <span class="built_in">this</span>.k=k;</span><br><span class="line">    dp=<span class="keyword">new</span> <span class="title class_">int</span>[goal+<span class="number">1</span>][n+<span class="number">1</span>];<span class="comment">//fill goal spots with exactly n songs</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= goal; i++) &#123;</span><br><span class="line">        Arrays.fill(dp[i],-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="type">int</span>)dfs(goal,n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">long</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> spots, <span class="type">int</span> songs)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(spots==<span class="number">0</span> &amp;&amp; songs==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="comment">//one way to fill 0 spot using exactly 0 song</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(spots==<span class="number">0</span> || songs==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="comment">//no way to fill some with exactly 0,</span></span><br><span class="line">        <span class="comment">// nor fill 0 with exactly some</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dp[spots][songs]!=-<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> dp[spots][songs];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//already fill spots-1 with exactly songs-1, only need to append</span></span><br><span class="line">    <span class="comment">//one other song</span></span><br><span class="line">    <span class="type">long</span> res=dfs(spots-<span class="number">1</span>,songs-<span class="number">1</span>)*(n-songs+<span class="number">1</span>)%mod;</span><br><span class="line">    <span class="keyword">if</span>(songs-k&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="comment">//append an old song, choosing from songs except k</span></span><br><span class="line">        <span class="comment">//because songs in [i-k,i-1] must be unique and must not be chosen</span></span><br><span class="line">        res+=dfs(spots-<span class="number">1</span>,songs)*(songs-k)%mod;</span><br><span class="line">        res%=mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[spots][songs]=(<span class="type">int</span>)res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2369-Check-if-There-is-a-Valid-Partition-For-The-Array"><a href="#2369-Check-if-There-is-a-Valid-Partition-For-The-Array" class="headerlink" title="2369. Check if There is a Valid Partition For The Array"></a>2369. Check if There is a Valid Partition For The Array</h2><p>每个子问题只考察开头即可，开头不符合直接剪枝</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span>[] dp; <span class="comment">//[i,n-1] is valid or not</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">validPartition</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    n=nums.length;</span><br><span class="line">    dp=<span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    <span class="keyword">return</span> dfs(nums,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> start)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(start==n)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dp[start]!=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> start==<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">boolean</span> res=<span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(start+<span class="number">2</span>&lt;n &amp;&amp; nums[start]==nums[start+<span class="number">1</span>] &amp;&amp; nums[start]==nums[start+<span class="number">2</span>])&#123;</span><br><span class="line">        res|=dfs(nums,start+<span class="number">3</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(start+<span class="number">1</span>&lt;n &amp;&amp; nums[start]==nums[start+<span class="number">1</span>])&#123;</span><br><span class="line">        res|=dfs(nums,start+<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(start+<span class="number">2</span>&lt;n &amp;&amp; nums[start]+<span class="number">1</span>==nums[start+<span class="number">1</span>] &amp;&amp; nums[start]+<span class="number">2</span>==nums[start+<span class="number">2</span>])&#123;</span><br><span class="line">        res|=dfs(nums,start+<span class="number">3</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    dp[start]=res ? <span class="number">1</span> : -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2707-Extra-Characters-in-a-String"><a href="#2707-Extra-Characters-in-a-String" class="headerlink" title="2707. Extra Characters in a String"></a>2707. Extra Characters in a String</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span>[] dp; <span class="comment">//min extra char number in [i,n-1]</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minExtraChar</span><span class="params">(String s, String[] dictionary)</span> &#123;</span><br><span class="line">    Set&lt;String&gt; set=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (String s1 : dictionary) &#123;</span><br><span class="line">        set.add(s1);</span><br><span class="line">    &#125;</span><br><span class="line">    n=s.length();</span><br><span class="line">    dp=<span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    Arrays.fill(dp,-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> dfs(s,set,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(String s, Set&lt;String&gt; set, <span class="type">int</span> start)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(start==n)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dp[start]!=-<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> dp[start];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res=Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="comment">//[start,i] [i+1,n-1]</span></span><br><span class="line">        <span class="type">int</span> sub=dfs(s,set,i+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(set.contains(s.substring(start,i+<span class="number">1</span>)))&#123;</span><br><span class="line">            res=Math.min(res,sub);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            res=Math.min(res,sub+i-start+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[start]=res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="403-Frog-Jump"><a href="#403-Frog-Jump" class="headerlink" title="403. Frog Jump"></a>403. Frog Jump</h2><h3 id="法一："><a href="#法一：" class="headerlink" title="法一："></a>法一：</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] stones;</span><br><span class="line"><span class="type">int</span>[][] dp=<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2000</span>][<span class="number">2000</span>];<span class="comment">//curIdx, preStep</span></span><br><span class="line">Map&lt;Integer,Integer&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(); <span class="comment">//stonePos to idx</span></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canCross</span><span class="params">(<span class="type">int</span>[] stones)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.stones=stones;</span><br><span class="line">    n=stones.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        map.put(stones[i],i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span>[] arr : dp) &#123;</span><br><span class="line">        Arrays.fill(arr,-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dfs(<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> curIdx, <span class="type">int</span> preStep)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(curIdx==n-<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dp[curIdx][preStep]!=-<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> dp[curIdx][preStep]==<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> curPos=stones[curIdx];</span><br><span class="line">    <span class="type">boolean</span> res=<span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=preStep-<span class="number">1</span>; i&lt;=preStep+<span class="number">1</span>; i++)&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(i&gt;<span class="number">0</span> &amp;&amp; map.containsKey(curPos+i))&#123;</span><br><span class="line">            res|=dfs(map.get(curPos+i),i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dp[curIdx][preStep]=(res?<span class="number">1</span>:<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="法二："><a href="#法二：" class="headerlink" title="法二："></a>法二：</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canCross</span><span class="params">(<span class="type">int</span>[] stones)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=stones.length;</span><br><span class="line">    <span class="keyword">if</span>(stones[<span class="number">1</span>]!=<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Map&lt;Integer,Set&lt;Integer&gt;&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> stone : stones) &#123;</span><br><span class="line">        map.put(stone,<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Deque&lt;<span class="type">int</span>[]&gt; q=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    map.remove(<span class="number">0</span>);</span><br><span class="line">    map.remove(<span class="number">1</span>);</span><br><span class="line">    q.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">1</span>,<span class="number">1</span>&#125;);</span><br><span class="line">    <span class="keyword">while</span>(!q.isEmpty())&#123;</span><br><span class="line">        <span class="type">int</span>[] cur=q.poll();</span><br><span class="line">        <span class="type">int</span> idx=cur[<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> k=cur[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span>(idx==stones[n-<span class="number">1</span>])&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> p=-<span class="number">1</span>; p&lt;=<span class="number">1</span>; p++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(k+p&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(map.containsKey(idx+k+p) &amp;&amp; !map.get(idx+k+p).contains(k+p))&#123;</span><br><span class="line">                    q.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;idx+k+p,k+p&#125;);</span><br><span class="line">                    map.get(idx+k+p).add(k+p);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="377-Combination-Sum-IV"><a href="#377-Combination-Sum-IV" class="headerlink" title="377. Combination Sum IV"></a>377. Combination Sum IV</h2><h3 id="法一：top-down"><a href="#法一：top-down" class="headerlink" title="法一：top-down"></a>法一：top-down</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> n;</span><br><span class="line">Map&lt;Integer,Integer&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">combinationSum4</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    n=nums.length;</span><br><span class="line">    <span class="keyword">return</span> dfs(nums,target);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[] nums,  <span class="type">int</span> target)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(target&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(target==<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(map.containsKey(target))&#123;</span><br><span class="line">        <span class="keyword">return</span> map.get(target);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(target-nums[i]&lt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        res+=dfs(nums,target-nums[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    map.put(target,res);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="法二：bottom-up"><a href="#法二：bottom-up" class="headerlink" title="法二：bottom-up"></a>法二：bottom-up</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">combinationSum4</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="type">int</span>[] dp=<span class="keyword">new</span> <span class="title class_">int</span>[target+<span class="number">1</span>]; <span class="comment">//how many ways to reach target</span></span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    dp[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=target; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> num: nums)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i-num&lt;<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            dp[i]+=dp[i-num];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[target];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://invincible-nerd.github.io/2023/02/23/Git/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="invincible-nerd">
      <meta itemprop="description" content="For explorer everywhere">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IVN">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/23/Git/" class="post-title-link" itemprop="url">Git</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-24 12:16:10" itemprop="dateCreated datePublished" datetime="2023-02-24T12:16:10+08:00">2023-02-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-22 01:03:40" itemprop="dateModified" datetime="2023-07-22T01:03:40+08:00">2023-07-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS/" itemprop="url" rel="index"><span itemprop="name">CS</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Git笔记"><a href="#Git笔记" class="headerlink" title="Git笔记"></a>Git笔记</h1><h2 id="Git结构"><a href="#Git结构" class="headerlink" title="Git结构"></a>Git结构</h2><ol>
<li>工作目录 work directory</li>
<li>暂存区 stage</li>
<li>本地仓库 repository<ul>
<li>每台电脑都有一个</li>
</ul>
</li>
<li>远程仓库 remote<ul>
<li>多台电脑共用一个，位于服务器</li>
</ul>
</li>
</ol>
<p>注意：</p>
<ul>
<li>文件提交时，必须1-&gt;2-&gt;3-&gt;4逐步提交</li>
<li>文件可以依次检出，也可以直接从remote检出到work directory</li>
<li>内置小的linux系统，支持linux命令</li>
</ul>
<h2 id="基本命令"><a href="#基本命令" class="headerlink" title="基本命令"></a>基本命令</h2><h3 id="config"><a href="#config" class="headerlink" title="config"></a>config</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global -l</span><br><span class="line">git config --global user.name <span class="string">&quot;My name&quot;</span></span><br><span class="line">git config --global <span class="built_in">unset</span> user.name</span><br></pre></td></tr></table></figure>



<h3 id="init-add"><a href="#init-add" class="headerlink" title="init, add"></a>init, add</h3><p>位于任意文件夹，创建本地仓库.git</p>
<p>外面即为work directory, 所创建文件默认处于未追踪 untracked 状态，需要add，进入暂存区stage</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line"></span><br><span class="line">git status</span><br><span class="line"></span><br><span class="line">git add hello.txt</span><br><span class="line"></span><br><span class="line">git add .	<span class="comment">#一次性添加目录下所有文件</span></span><br><span class="line"></span><br><span class="line">git commit -m <span class="string">&quot;message&quot;</span> <span class="comment">#提交至本地仓库repository</span></span><br><span class="line"></span><br><span class="line">git <span class="built_in">log</span>		<span class="comment">#查看提交记录</span></span><br><span class="line">git <span class="built_in">log</span> --oneline</span><br><span class="line">git <span class="built_in">log</span> --oneline --graph --all</span><br></pre></td></tr></table></figure>



<p>每次文件修改后，都需要再次add和comit</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git add hello.txt</span><br><span class="line">git commit </span><br><span class="line"></span><br><span class="line">git commit -a -m <span class="string">&quot;Modify&quot;</span>	<span class="comment">#只适用于修改</span></span><br><span class="line"></span><br><span class="line">git show </span><br><span class="line">git show 5121</span><br></pre></td></tr></table></figure>



<h3 id="gitignore"><a href="#gitignore" class="headerlink" title=".gitignore"></a>.gitignore</h3><p>直接写入文件名</p>
<p>支持正则匹配</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 匹配所有txt文件</span></span><br><span class="line">*.txt</span><br><span class="line"><span class="comment"># 除了这个txt</span></span><br><span class="line">!666.txt</span><br><span class="line"><span class="comment"># 排除某个文件夹</span></span><br><span class="line"><span class="built_in">test</span>/</span><br><span class="line"><span class="comment"># 目录中所有以txt结尾的文件，但不包括子目录</span></span><br><span class="line">xxx/*.txt</span><br><span class="line"><span class="comment"># 目录中所有以txt结尾的文件，包括子目录</span></span><br><span class="line">xxx/**/*.txt</span><br></pre></td></tr></table></figure>





<h3 id="rollback"><a href="#rollback" class="headerlink" title="rollback"></a>rollback</h3><p>将work directory恢复到指定的提交状态</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard commitID</span><br><span class="line"></span><br><span class="line">git reflog	<span class="comment">#显示所有commitID</span></span><br></pre></td></tr></table></figure>





<h2 id="branch"><a href="#branch" class="headerlink" title="branch"></a>branch</h2><p>不同分支下文件内容相互隔离</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">git branch</span><br><span class="line"></span><br><span class="line">git branch <span class="built_in">test</span></span><br><span class="line">git branch yyds</span><br><span class="line"></span><br><span class="line">git <span class="built_in">log</span> --all --graph --online</span><br><span class="line"></span><br><span class="line">git branch -d yyds	<span class="comment">#删除</span></span><br><span class="line"></span><br><span class="line">git chechout <span class="built_in">test</span>	<span class="comment">#切换/签出</span></span><br><span class="line">git commit -a -m <span class="string">&quot;Modify on test&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#合并分支</span></span><br><span class="line">git chechout master</span><br><span class="line">git merge <span class="built_in">test</span></span><br><span class="line">git diff</span><br><span class="line"><span class="comment">#解决冲突后再次提交</span></span><br><span class="line">git commit -a -m <span class="string">&quot;Merge on conflict&quot;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 首先切换到staging</span></span><br><span class="line">git checkout staging</span><br><span class="line"></span><br><span class="line"><span class="comment"># 根据staging分支创建新分支</span></span><br><span class="line">git branch ivn/newModification</span><br></pre></td></tr></table></figure>



<p>注意：</p>
<ul>
<li>merge并不改变另一个分支，只是把另一分支的修改合到当前分支上（提交的合并，非分支的合并）</li>
</ul>
<h3 id="rebase"><a href="#rebase" class="headerlink" title="rebase"></a>rebase</h3><p>变基</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git chechout <span class="built_in">test</span></span><br><span class="line">git rebase master</span><br></pre></td></tr></table></figure>



<h3 id="cherry-pick"><a href="#cherry-pick" class="headerlink" title="cherry-pick"></a>cherry-pick</h3><p>优选，灵活选取其他branch的某些更新</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git cherry-pick commitID	<span class="comment">#单独合并一个提交</span></span><br></pre></td></tr></table></figure>





<h2 id="远程仓库GitHub"><a href="#远程仓库GitHub" class="headerlink" title="远程仓库GitHub"></a>远程仓库GitHub</h2><p>本地推远程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin https://github.com/.../...</span><br><span class="line">git push origin master</span><br><span class="line">git push 远程仓库名称 本地分支名称[:远程分支名称]</span><br></pre></td></tr></table></figure>



<p>远程克隆本地</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/.../...</span><br></pre></td></tr></table></figure>



<p>解决不同步</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">git fetch origin</span><br><span class="line">git <span class="built_in">log</span> --all --graph --oneline</span><br><span class="line">git merge origin/master</span><br><span class="line"></span><br><span class="line"><span class="comment">#pull = fetch + merge</span></span><br><span class="line">git pull origin</span><br><span class="line"></span><br><span class="line"><span class="comment">#解决冲突后，再次提交</span></span><br><span class="line">git commit -a -m <span class="string">&quot;Modify by B finally&quot;</span></span><br><span class="line">git push origin</span><br></pre></td></tr></table></figure>



<h2 id="实战"><a href="#实战" class="headerlink" title="实战"></a>实战</h2><p>远程本地均多分支</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#根据远程拉本地: 先建新分支，</span></span><br><span class="line">git branch ivn/newBranch</span><br><span class="line">git pull origin staging</span><br><span class="line"></span><br><span class="line"><span class="comment">#检查本地分支和远程分支是否同步</span></span><br><span class="line">git status</span><br><span class="line"></span><br><span class="line"><span class="comment">#强制本地和远程一样</span></span><br><span class="line">git reset --hard origin/staging</span><br></pre></td></tr></table></figure>



<p>原理：</p>
<ul>
<li>github看似是同步file，其实是基于node，同步node</li>
<li>因此需要确保要同步的branch不能有divergence，即dev branch必须修改于staging branch的最新状态，而不是之前的旧状态</li>
<li>为此，需要在每次commit前先pull，保证同步</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://invincible-nerd.github.io/2023/02/22/String%E5%A5%BD%E9%A2%98-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="invincible-nerd">
      <meta itemprop="description" content="For explorer everywhere">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IVN">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/22/String%E5%A5%BD%E9%A2%98-3/" class="post-title-link" itemprop="url">String好题(3)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-22 19:35:13" itemprop="dateCreated datePublished" datetime="2023-02-22T19:35:13+08:00">2023-02-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-03-28 12:00:10" itemprop="dateModified" datetime="2023-03-28T12:00:10+08:00">2023-03-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index"><span itemprop="name">LeetCode</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>14k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>13 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="String好题（3）"><a href="#String好题（3）" class="headerlink" title="String好题（3）"></a>String好题（3）</h1><h2 id="1268-Search-Suggestions-System"><a href="#1268-Search-Suggestions-System" class="headerlink" title="1268. Search Suggestions System"></a>1268. Search Suggestions System</h2><p>三吃，好题</p>
<h3 id="Brute-force"><a href="#Brute-force" class="headerlink" title="Brute force"></a>Brute force</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; <span class="title function_">suggestedProducts</span><span class="params">(String[] products, String searchWord)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=searchWord.length();</span><br><span class="line">    List&lt;List&lt;String&gt;&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    Arrays.sort(products);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        String cur=searchWord.substring(<span class="number">0</span>,i+<span class="number">1</span>);</span><br><span class="line">        List&lt;String&gt; list=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (String p : products) &#123;</span><br><span class="line">            <span class="keyword">if</span>(p.startsWith(cur))&#123;</span><br><span class="line">                list.add(p);</span><br><span class="line">                count++;</span><br><span class="line">                <span class="keyword">if</span>(count==<span class="number">3</span>)&#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        res.add(list);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Binary-Search"><a href="#Binary-Search" class="headerlink" title="Binary Search"></a>Binary Search</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; <span class="title function_">suggestedProducts</span><span class="params">(String[] products, String searchWord)</span> &#123;</span><br><span class="line">    Arrays.sort(products);</span><br><span class="line">    List&lt;List&lt;String&gt;&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> start=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> bStart=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> n=products.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; searchWord.length(); i++) &#123;</span><br><span class="line">        String prefix=searchWord.substring(<span class="number">0</span>,i+<span class="number">1</span>);</span><br><span class="line">        bStart=binary_search(products,prefix,start,n-<span class="number">1</span>);</span><br><span class="line">        List&lt;String&gt; list=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> bStart; j &lt; n &amp;&amp; list.size()&lt;<span class="number">3</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(products[j].startsWith(prefix))&#123;</span><br><span class="line">                list.add(products[j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        start=bStart;</span><br><span class="line">        res.add(list);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">binary_search</span><span class="params">(String[] products, String prefix, <span class="type">int</span> left, <span class="type">int</span> right)</span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="type">int</span> mid=(left+right)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(products[mid].compareTo(prefix)&lt;<span class="number">0</span>)&#123;</span><br><span class="line">            left=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            right=mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="Trie"><a href="#Trie" class="headerlink" title="Trie"></a>Trie</h3><p>反而最慢</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; <span class="title function_">suggestedProducts</span><span class="params">(String[] products, String searchWord)</span> &#123;</span><br><span class="line">    Trie trie=<span class="keyword">new</span> <span class="title class_">Trie</span>();</span><br><span class="line">    <span class="keyword">for</span> (String product : products) &#123;</span><br><span class="line">        trie.insert(product);</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;List&lt;String&gt;&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; searchWord.length(); i++) &#123;</span><br><span class="line">        res.add(trie.search(searchWord.substring(<span class="number">0</span>,i+<span class="number">1</span>)));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Trie</span>&#123;</span><br><span class="line">    Node root;</span><br><span class="line">    <span class="type">boolean</span> finished;</span><br><span class="line">    Trie()&#123;</span><br><span class="line">        root=<span class="keyword">new</span> <span class="title class_">Node</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    List&lt;String&gt; <span class="title function_">search</span><span class="params">(String prefix)</span>&#123;</span><br><span class="line">        List&lt;String&gt; list=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        finished=<span class="literal">false</span>;</span><br><span class="line">        Node node=root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; prefix.length(); i++) &#123;</span><br><span class="line">            <span class="type">char</span> c=prefix.charAt(i);</span><br><span class="line">            <span class="keyword">if</span>(!node.children.containsKey(c))&#123;</span><br><span class="line">                <span class="keyword">return</span> list;</span><br><span class="line">            &#125;</span><br><span class="line">            node=node.children.get(c);</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(list,node);</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(List&lt;String&gt; list, Node cur)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(finished)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(cur.word!=<span class="literal">null</span>)&#123;</span><br><span class="line">            list.add(cur.word);</span><br><span class="line">            <span class="keyword">if</span>(list.size()==<span class="number">3</span>)&#123;</span><br><span class="line">                finished=<span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (Character c : cur.children.keySet()) &#123;</span><br><span class="line">            dfs(list,cur.children.get(c));</span><br><span class="line">            <span class="keyword">if</span>(finished)&#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">insert</span><span class="params">(String s)</span>&#123;</span><br><span class="line">        Node node=root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="type">char</span> c=s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span>(!node.children.containsKey(c))&#123;</span><br><span class="line">                node.children.put(c,<span class="keyword">new</span> <span class="title class_">Node</span>());</span><br><span class="line">            &#125;</span><br><span class="line">            node=node.children.get(c);</span><br><span class="line">        &#125;</span><br><span class="line">        node.word=s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span>&#123;</span><br><span class="line">    String word;</span><br><span class="line">    TreeMap&lt;Character,Node&gt; children;</span><br><span class="line">    Node()&#123;</span><br><span class="line">        children=<span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="1152-Analyze-User-Website-Visit-Pattern"><a href="#1152-Analyze-User-Website-Visit-Pattern" class="headerlink" title="1152. Analyze User Website Visit Pattern"></a>1152. Analyze User Website Visit Pattern</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">mostVisitedPattern</span><span class="params">(String[] username, <span class="type">int</span>[] timestamp, String[] website)</span> &#123;</span><br><span class="line">    Map&lt;String,TreeMap&lt;Integer,String&gt;&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> n=username.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        String user=username[i];</span><br><span class="line">        String web=website[i];</span><br><span class="line">        <span class="type">int</span> time=timestamp[i];</span><br><span class="line">        map.putIfAbsent(user,<span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;());</span><br><span class="line">        map.get(user).put(time,web);</span><br><span class="line">    &#125;</span><br><span class="line">    Map&lt;String,Integer&gt; count=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (String user : map.keySet()) &#123;</span><br><span class="line">        HashSet&lt;String&gt; set=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        List&lt;String&gt; list=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(map.get(user).values());</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i+<span class="number">1</span>; j &lt; list.size(); j++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> j+<span class="number">1</span>; k &lt; list.size(); k++) &#123;</span><br><span class="line">                    String s=list.get(i)+<span class="string">&quot;,&quot;</span>+list.get(j)+<span class="string">&quot;,&quot;</span>+list.get(k);</span><br><span class="line">                    <span class="keyword">if</span>(set.contains(s))&#123;</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    set.add(s);</span><br><span class="line">                    count.put(s,count.getOrDefault(s,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> max=<span class="number">0</span>;</span><br><span class="line">    String res=<span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">for</span> (String s : count.keySet()) &#123;</span><br><span class="line">        <span class="type">int</span> val=count.get(s);</span><br><span class="line">        <span class="keyword">if</span>(val&gt;max)&#123;</span><br><span class="line">            max=val;</span><br><span class="line">            res=s;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(val==max &amp;&amp; res.compareTo(s)&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            res=s;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    String[] split = res.split(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">    List&lt;String&gt; list=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">        list.add(split[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2193-Minimum-Number-of-Moves-to-Make-Palindrome"><a href="#2193-Minimum-Number-of-Moves-to-Make-Palindrome" class="headerlink" title="2193. Minimum Number of Moves to Make Palindrome"></a>2193. Minimum Number of Moves to Make Palindrome</h2><p>太神了</p>
<p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/minimum-number-of-moves-to-make-palindrome/discuss/1847011/c%2B%2B-2-pointers-with-detail-proof-and-explanation">https://leetcode.com/problems/minimum-number-of-moves-to-make-palindrome/discuss/1847011/c%2B%2B-2-pointers-with-detail-proof-and-explanation</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minMovesToMakePalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="type">char</span>[] chars = s.toCharArray();</span><br><span class="line">    <span class="type">int</span> n=chars.length;</span><br><span class="line">    <span class="type">int</span> l=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> r=n-<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> center=-<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(l&lt;r)&#123;</span><br><span class="line">        <span class="keyword">if</span>(chars[l]==chars[r])&#123;</span><br><span class="line">            l++;</span><br><span class="line">            r--;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> k=l+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(; k&lt;r; k++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(chars[k]==chars[r])&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(k==r)&#123;</span><br><span class="line">            center=r;</span><br><span class="line">            r--;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=k; j&gt;l; j--)&#123;</span><br><span class="line">            swap(chars,j,j-<span class="number">1</span>);</span><br><span class="line">            res++;</span><br><span class="line">        &#125;</span><br><span class="line">        l++;</span><br><span class="line">        r--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(center!=-<span class="number">1</span>)&#123;</span><br><span class="line">        res+=center-n/<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">char</span>[] chars, <span class="type">int</span> i, <span class="type">int</span> j)</span>&#123;</span><br><span class="line">    <span class="type">char</span> temp=chars[i];</span><br><span class="line">    chars[i]=chars[j];</span><br><span class="line">    chars[j]=temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2222-Number-of-Ways-to-Select-Buildings"><a href="#2222-Number-of-Ways-to-Select-Buildings" class="headerlink" title="2222. Number of Ways to Select Buildings"></a>2222. Number of Ways to Select Buildings</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">numberOfWays</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="type">long</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="type">char</span>[] chars = s.toCharArray();</span><br><span class="line">    <span class="type">int</span> n=s.length();</span><br><span class="line">    <span class="type">long</span>[] zos=<span class="keyword">new</span> <span class="title class_">long</span>[n];   <span class="comment">//number of &quot;10&quot;s in [0,i]</span></span><br><span class="line">    <span class="type">long</span>[] ozs=<span class="keyword">new</span> <span class="title class_">long</span>[n];   <span class="comment">//number of &quot;01&quot;s in [0,i]</span></span><br><span class="line">    <span class="type">int</span>[] zs=<span class="keyword">new</span> <span class="title class_">int</span>[n];    <span class="comment">//number of &quot;0&quot;s in [0,i]</span></span><br><span class="line">    <span class="type">int</span>[] os=<span class="keyword">new</span> <span class="title class_">int</span>[n];    <span class="comment">//number of &quot;1&quot;s in [0,i]</span></span><br><span class="line">    zs[<span class="number">0</span>]=chars[<span class="number">0</span>]==<span class="string">&#x27;0&#x27;</span> ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    os[<span class="number">0</span>]=chars[<span class="number">0</span>]==<span class="string">&#x27;1&#x27;</span> ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(chars[i]==<span class="string">&#x27;0&#x27;</span>)&#123;</span><br><span class="line">            zs[i]=zs[i-<span class="number">1</span>]+<span class="number">1</span>;</span><br><span class="line">            os[i]=os[i-<span class="number">1</span>];</span><br><span class="line">            <span class="comment">//111 0</span></span><br><span class="line">            ozs[i]=os[i-<span class="number">1</span>]+ozs[i-<span class="number">1</span>];</span><br><span class="line">            zos[i]=zos[i-<span class="number">1</span>];</span><br><span class="line">            <span class="comment">//01 0</span></span><br><span class="line">            res+=zos[i-<span class="number">1</span>];</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            zs[i]=zs[i-<span class="number">1</span>];</span><br><span class="line">            os[i]=os[i-<span class="number">1</span>]+<span class="number">1</span>;</span><br><span class="line">            <span class="comment">//000 1</span></span><br><span class="line">            zos[i]=zs[i-<span class="number">1</span>]+zos[i-<span class="number">1</span>];</span><br><span class="line">            ozs[i]=ozs[i-<span class="number">1</span>];</span><br><span class="line">            <span class="comment">//10 1</span></span><br><span class="line">            res+=ozs[i-<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2268-Minimum-Number-of-Keypresses"><a href="#2268-Minimum-Number-of-Keypresses" class="headerlink" title="2268. Minimum Number of Keypresses"></a>2268. Minimum Number of Keypresses</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minimumKeypresses</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=s.length();</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span>[] arr=<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        arr[s.charAt(i)-<span class="string">&#x27;a&#x27;</span>]++;</span><br><span class="line">    &#125;</span><br><span class="line">    PriorityQueue&lt;Integer&gt; pq=<span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((a,b)-&gt;(b-a));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">26</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            pq.offer(arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> idx=<span class="number">0</span>;  <span class="comment">//[1.9], [10,18]</span></span><br><span class="line">    <span class="keyword">while</span>(!pq.isEmpty())&#123;</span><br><span class="line">        <span class="type">int</span> cur=pq.poll();</span><br><span class="line">        idx++;</span><br><span class="line">        <span class="keyword">if</span>(idx&lt;=<span class="number">9</span>)&#123;</span><br><span class="line">            res+=cur;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(idx&lt;=<span class="number">18</span>)&#123;</span><br><span class="line">            res+=cur*<span class="number">2</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            res+=cur*<span class="number">3</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="856-Score-of-Parentheses"><a href="#856-Score-of-Parentheses" class="headerlink" title="856. Score of Parentheses"></a>856. Score of Parentheses</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">scoreOfParentheses</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> depth=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        <span class="type">char</span> c=s.charAt(i);</span><br><span class="line">        <span class="keyword">if</span>(c==<span class="string">&#x27;(&#x27;</span>)&#123;</span><br><span class="line">            depth++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            depth--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(c==<span class="string">&#x27;)&#x27;</span> &amp;&amp; s.charAt(i-<span class="number">1</span>)==<span class="string">&#x27;(&#x27;</span>)&#123;</span><br><span class="line">            res+=Math.pow(<span class="number">2</span>,depth);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">scoreOfParentheses</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">int</span> n=s.length();</span><br><span class="line">        <span class="type">int</span> cur=<span class="number">0</span>;</span><br><span class="line">        Deque&lt;Integer&gt; stack=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//(()())</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">char</span> c=s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span>(c==<span class="string">&#x27;(&#x27;</span>)&#123;</span><br><span class="line">                stack.push(cur);</span><br><span class="line">                cur=<span class="number">0</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="type">int</span> val=stack.pop();</span><br><span class="line">                cur=val+Math.max(cur*<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cur;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>





<h2 id="422-Valid-Word-Square"><a href="#422-Valid-Word-Square" class="headerlink" title="422. Valid Word Square"></a>422. Valid Word Square</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">validWordSquare</span><span class="params">(List&lt;String&gt; words)</span> &#123;</span><br><span class="line">    <span class="type">int</span> max=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (String word : words) &#123;</span><br><span class="line">        max=Math.max(max,word.length());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(max!=words.size())&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">char</span>[][] chars=<span class="keyword">new</span> <span class="title class_">char</span>[max][max];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; max; i++) &#123;</span><br><span class="line">        String word=words.get(i);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; max; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(j==word.length())&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            chars[i][j]=word.charAt(j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; max; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i+<span class="number">1</span>; j &lt; max; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(chars[i][j]!=chars[j][i])&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="439-Ternary-Expression-Parser"><a href="#439-Ternary-Expression-Parser" class="headerlink" title="439. Ternary Expression Parser"></a>439. Ternary Expression Parser</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">parseTernary</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    Deque&lt;Character&gt; stack=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> s.length()-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="type">char</span> c=s.charAt(i);</span><br><span class="line">        <span class="keyword">if</span>(!stack.isEmpty() &amp;&amp; stack.peek()==<span class="string">&#x27;?&#x27;</span>)&#123;</span><br><span class="line">            stack.pop();</span><br><span class="line">            <span class="type">char</span> a=stack.pop();</span><br><span class="line">            <span class="type">char</span> b=stack.pop();</span><br><span class="line">            <span class="keyword">if</span>(c==<span class="string">&#x27;T&#x27;</span>)&#123;</span><br><span class="line">                stack.push(a);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                stack.push(b);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(c!=<span class="string">&#x27;:&#x27;</span>)&#123;</span><br><span class="line">            stack.push(c);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>+stack.pop();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="727-Minimum-Window-Subsequence"><a href="#727-Minimum-Window-Subsequence" class="headerlink" title="727. Minimum Window Subsequence"></a>727. Minimum Window Subsequence</h2><h3 id="Brute-force-1"><a href="#Brute-force-1" class="headerlink" title="Brute force"></a>Brute force</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">minWindow</span><span class="params">(String s1, String s2)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n1=s1.length();</span><br><span class="line">    <span class="type">int</span> n2=s2.length();</span><br><span class="line">    <span class="type">char</span>[] arr1 = s1.toCharArray();</span><br><span class="line">    <span class="type">char</span>[] arr2 = s2.toCharArray();</span><br><span class="line">    <span class="type">int</span> min=Integer.MAX_VALUE;</span><br><span class="line">    String res=<span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n1; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(arr1[i]==arr2[<span class="number">0</span>])&#123;</span><br><span class="line">            <span class="type">int</span> idx=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt; n1; j++) &#123;</span><br><span class="line">                <span class="comment">//[i,j]</span></span><br><span class="line">                <span class="keyword">if</span>(arr1[j]==arr2[idx])&#123;</span><br><span class="line">                    idx++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(idx==n2)&#123;</span><br><span class="line">                    String sub=s1.substring(i,j+<span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span>(sub.length()&lt;min)&#123;</span><br><span class="line">                        res=sub;</span><br><span class="line">                        min=sub.length();</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="DP"><a href="#DP" class="headerlink" title="DP"></a>DP</h3><h3 id="Two-Pointers"><a href="#Two-Pointers" class="headerlink" title="Two Pointers"></a>Two Pointers</h3><h2 id="750-Number-Of-Corner-Rectangles"><a href="#750-Number-Of-Corner-Rectangles" class="headerlink" title="750. Number Of Corner Rectangles"></a>750. Number Of Corner Rectangles</h2><h3 id="TLE-87-x2F-94"><a href="#TLE-87-x2F-94" class="headerlink" title="TLE 87&#x2F;94"></a>TLE 87&#x2F;94</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countCornerRectangles</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">    <span class="type">int</span> row=grid.length;</span><br><span class="line">    <span class="type">int</span> col=grid[<span class="number">0</span>].length;</span><br><span class="line">    Set&lt;String&gt; set=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">            <span class="comment">//[i,j], [i1,j], [i1,j1], [i,j1]</span></span><br><span class="line">            <span class="keyword">if</span>(grid[i][j]==<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i1</span> <span class="operator">=</span> i+<span class="number">1</span>; i1 &lt; row; i1++) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(grid[i1][j]==<span class="number">1</span>)&#123;</span><br><span class="line">                        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j1</span> <span class="operator">=</span> j+<span class="number">1</span>; j1 &lt; col; j1++) &#123;</span><br><span class="line">                            <span class="keyword">if</span>(grid[i1][j1]==<span class="number">1</span> &amp;&amp; grid[i][j1]==<span class="number">1</span>)&#123;</span><br><span class="line">                                String s=convert(i,j)+convert(i1,j)+convert(i1,j1)+convert(i,j1);</span><br><span class="line">                                <span class="keyword">if</span>(!set.contains(s))&#123;</span><br><span class="line">                                    set.add(s);</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> set.size();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">String <span class="title function_">convert</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> i+<span class="string">&quot;,&quot;</span>+j+<span class="string">&quot;;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="count-pairs"><a href="#count-pairs" class="headerlink" title="count pairs"></a>count pairs</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countCornerRectangles</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">    <span class="type">int</span> row=grid.length;</span><br><span class="line">    <span class="type">int</span> col=grid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    Map&lt;Integer,Integer&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span>[] r : grid) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; col; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(r[i]==<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i+<span class="number">1</span>; j &lt; col; j++) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(r[j]==<span class="number">1</span>)&#123;</span><br><span class="line">                        <span class="type">int</span> key=i*<span class="number">200</span>+j;</span><br><span class="line">                        <span class="type">int</span> c=map.getOrDefault(key,<span class="number">0</span>);</span><br><span class="line">                        res+=c;</span><br><span class="line">                        map.put(key,c+<span class="number">1</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1055-Shortest-Way-to-Form-String"><a href="#1055-Shortest-Way-to-Form-String" class="headerlink" title="1055. Shortest Way to Form String"></a>1055. Shortest Way to Form String</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">shortestWay</span><span class="params">(String source, String target)</span> &#123;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="type">char</span>[] arr1 = source.toCharArray();</span><br><span class="line">    <span class="type">char</span>[] arr2 = target.toCharArray();</span><br><span class="line">    <span class="type">int</span> j=<span class="number">0</span>;</span><br><span class="line">    <span class="type">boolean</span>[] chars1=<span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">26</span>];</span><br><span class="line">    <span class="type">boolean</span>[] chars2=<span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">26</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">char</span> c : arr1) &#123;</span><br><span class="line">        chars1[c-<span class="string">&#x27;a&#x27;</span>]=<span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">char</span> c : arr2) &#123;</span><br><span class="line">        chars2[c-<span class="string">&#x27;a&#x27;</span>]=<span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">26</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(chars2[i] &amp;&amp; !chars1[i])&#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">        res++;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr1.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(arr1[i]==arr2[j])&#123;</span><br><span class="line">                j++;</span><br><span class="line">                <span class="keyword">if</span>(j==arr2.length)&#123;</span><br><span class="line">                    <span class="keyword">return</span> res;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1087-Brace-Expansion"><a href="#1087-Brace-Expansion" class="headerlink" title="1087. Brace Expansion"></a>1087. Brace Expansion</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String[] expand(String s) &#123;</span><br><span class="line">    List&lt;StringBuilder&gt; list=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    list.add(<span class="keyword">new</span> <span class="title class_">StringBuilder</span>());</span><br><span class="line">    <span class="type">int</span> n=s.length();</span><br><span class="line">    StringBuilder sb=<span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">char</span> c=s.charAt(i);</span><br><span class="line">        <span class="keyword">if</span>(c==<span class="string">&#x27;&#123;&#x27;</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span> (StringBuilder old : list) &#123;</span><br><span class="line">                old.append(sb);</span><br><span class="line">            &#125;</span><br><span class="line">            sb=<span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">            List&lt;StringBuilder&gt; next=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">            <span class="type">int</span> j=s.indexOf(<span class="string">&quot;&#125;&quot;</span>,i);</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> p=i+<span class="number">1</span>; p&lt;j; p++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(s.charAt(p)==<span class="string">&#x27;,&#x27;</span>)&#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span> (StringBuilder old : list) &#123;</span><br><span class="line">                    StringBuilder neo=<span class="keyword">new</span> <span class="title class_">StringBuilder</span>(old);</span><br><span class="line">                    neo.append(s.charAt(p));</span><br><span class="line">                    next.add(neo);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            list=next;</span><br><span class="line">            i=j;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            sb.append(c);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (StringBuilder old : list) &#123;</span><br><span class="line">        old.append(sb);</span><br><span class="line">    &#125;</span><br><span class="line">    String[] arr=<span class="keyword">new</span> <span class="title class_">String</span>[list.size()];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class="line">        arr[i]=list.get(i).toString();</span><br><span class="line">    &#125;</span><br><span class="line">    Arrays.sort(arr);</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1153-String-Transforms-Into-Another-String"><a href="#1153-String-Transforms-Into-Another-String" class="headerlink" title="1153. String Transforms Into Another String"></a>1153. String Transforms Into Another String</h2><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/string-transforms-into-another-string/discuss/355382/JavaC%2B%2BPython-Need-One-Unused-Character">https://leetcode.com/problems/string-transforms-into-another-string/discuss/355382/JavaC%2B%2BPython-Need-One-Unused-Character</a></p>
<p>结果中不能26个字母全出现！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canConvert</span><span class="params">(String str1, String str2)</span> &#123;</span><br><span class="line">    <span class="comment">//abc</span></span><br><span class="line">    <span class="comment">//cba</span></span><br><span class="line">    <span class="keyword">if</span>(str1.equals(str2))&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Map&lt;Character,Character&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; str1.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(map.getOrDefault(str1.charAt(i),str2.charAt(i))!=str2.charAt(i))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        map.put(str1.charAt(i),str2.charAt(i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;Character&gt;(map.values()).size()&lt;<span class="number">26</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1216-Valid-Palindrome-III"><a href="#1216-Valid-Palindrome-III" class="headerlink" title="1216. Valid Palindrome III"></a>1216. Valid Palindrome III</h2><p>常做常新</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValidPalindrome</span><span class="params">(String s, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=s.length();</span><br><span class="line">    <span class="type">int</span>[][] dp=<span class="keyword">new</span> <span class="title class_">int</span>[n][n];</span><br><span class="line">    <span class="comment">//dp[i][j]: longest palindrome subsequence length in [i,j]</span></span><br><span class="line">    <span class="comment">//dp[i][j] = dp[i+1][j-1] + 2, if s[i]=s[j]</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        dp[i][i]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i+<span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(s.charAt(i)==s.charAt(j))&#123;</span><br><span class="line">                dp[i][j]=dp[i+<span class="number">1</span>][j-<span class="number">1</span>]+<span class="number">2</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                dp[i][j]=Math.max(dp[i+<span class="number">1</span>][j],dp[i][j-<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> n-dp[<span class="number">0</span>][n-<span class="number">1</span>]&lt;=k;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="680-Valid-Palindrome-II"><a href="#680-Valid-Palindrome-II" class="headerlink" title="680. Valid Palindrome II"></a>680. Valid Palindrome II</h2><p>传统dp : Memory Limit Exceeded</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">validPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=s.length();</span><br><span class="line">    <span class="type">int</span>[][] dp=<span class="keyword">new</span> <span class="title class_">int</span>[n][n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        dp[i][i]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i+<span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(s.charAt(i)==s.charAt(j))&#123;</span><br><span class="line">                dp[i][j]=dp[i+<span class="number">1</span>][j-<span class="number">1</span>]+<span class="number">2</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                dp[i][j]=Math.max(dp[i+<span class="number">1</span>][j],dp[i][j-<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[<span class="number">0</span>][n-<span class="number">1</span>]&gt;=n-<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>杀鸡焉用牛刀？</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">validPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=s.length();</span><br><span class="line">    <span class="type">int</span> left=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> right=n-<span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span>[] chars=s.toCharArray();</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="keyword">if</span>(chars[left]!=chars[right])&#123;</span><br><span class="line">            <span class="keyword">return</span> valid(chars,left,right-<span class="number">1</span>) || valid(chars,left+<span class="number">1</span>,right);</span><br><span class="line">        &#125;</span><br><span class="line">        left++;</span><br><span class="line">        right--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">valid</span><span class="params">(<span class="type">char</span>[] chars, <span class="type">int</span> lo, <span class="type">int</span> hi)</span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(lo&lt;hi)&#123;</span><br><span class="line">        <span class="keyword">if</span>(chars[lo]!=chars[hi])&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        lo++;</span><br><span class="line">        hi--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1328-Break-a-Palindrome"><a href="#1328-Break-a-Palindrome" class="headerlink" title="1328. Break a Palindrome"></a>1328. Break a Palindrome</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">breakPalindrome</span><span class="params">(String palindrome)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(palindrome.length()==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">char</span>[] chars=palindrome.toCharArray();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; chars.length/<span class="number">2</span>; i++) &#123;</span><br><span class="line">        <span class="type">char</span> c=chars[i];</span><br><span class="line">        <span class="keyword">if</span>(c!=<span class="string">&#x27;a&#x27;</span>)&#123;</span><br><span class="line">            chars[i]=<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>(chars);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    chars[chars.length-<span class="number">1</span>]=<span class="string">&#x27;b&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>(chars);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://invincible-nerd.github.io/2023/02/16/Design%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="invincible-nerd">
      <meta itemprop="description" content="For explorer everywhere">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IVN">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/16/Design%E9%A2%98/" class="post-title-link" itemprop="url">Design题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-16 22:56:37" itemprop="dateCreated datePublished" datetime="2023-02-16T22:56:37+08:00">2023-02-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-06-11 10:02:35" itemprop="dateModified" datetime="2023-06-11T10:02:35+08:00">2023-06-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index"><span itemprop="name">LeetCode</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>25k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>23 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Design题选编"><a href="#Design题选编" class="headerlink" title="Design题选编"></a>Design题选编</h1><h2 id="251-Flatten-2D-Vector"><a href="#251-Flatten-2D-Vector" class="headerlink" title="251. Flatten 2D Vector"></a>251. Flatten 2D Vector</h2><p><strong>Follow up:</strong> As an added challenge, try to code it using only <a target="_blank" rel="noopener" href="http://www.cplusplus.com/reference/iterator/iterator/">iterators in C++</a> or <a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html">iterators in Java</a>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Vector2D</span> &#123;</span><br><span class="line"></span><br><span class="line">    List&lt;Integer&gt; list;</span><br><span class="line">    Iterator&lt;Integer&gt; iterator;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Vector2D</span><span class="params">(<span class="type">int</span>[][] vec)</span> &#123;</span><br><span class="line">        list=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] arrs : vec) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> arr : arrs) &#123;</span><br><span class="line">                list.add(arr);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        iterator=list.iterator();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">next</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> iterator.next();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> iterator.hasNext();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="295-Find-Median-from-Data-Stream"><a href="#295-Find-Median-from-Data-Stream" class="headerlink" title="295. Find Median from Data Stream"></a>295. Find Median from Data Stream</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MedianFinder</span> &#123;</span><br><span class="line"></span><br><span class="line">    PriorityQueue&lt;Integer&gt; firstHalf;</span><br><span class="line">    PriorityQueue&lt;Integer&gt; secondHalf;</span><br><span class="line">    <span class="type">int</span> size;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MedianFinder</span><span class="params">()</span> &#123;</span><br><span class="line">        firstHalf=<span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((a,b)-&gt;(b-a));    <span class="comment">//2 1 0</span></span><br><span class="line">        secondHalf=<span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;();               <span class="comment">//3 4</span></span><br><span class="line">        size=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addNum</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>((size&amp;<span class="number">1</span>)==<span class="number">0</span>)&#123;</span><br><span class="line">            firstHalf.offer(num);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            secondHalf.offer(num);</span><br><span class="line">        &#125;</span><br><span class="line">        size++;</span><br><span class="line">        <span class="keyword">while</span>(!secondHalf.isEmpty() &amp;&amp; secondHalf.peek()&lt;firstHalf.peek())&#123;</span><br><span class="line">            <span class="type">int</span> second=secondHalf.poll();</span><br><span class="line">            <span class="type">int</span> first=firstHalf.poll();</span><br><span class="line">            secondHalf.offer(first);</span><br><span class="line">            firstHalf.offer(second);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">findMedian</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>((size&amp;<span class="number">1</span>)==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> firstHalf.peek();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (firstHalf.peek()+secondHalf.peek())/<span class="number">2.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="308-Range-Sum-Query-2D-Mutable"><a href="#308-Range-Sum-Query-2D-Mutable" class="headerlink" title="308. Range Sum Query 2D - Mutable"></a>308. Range Sum Query 2D - Mutable</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">NumMatrix</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span>[][] sum;</span><br><span class="line">    <span class="type">int</span> row;</span><br><span class="line">    <span class="type">int</span> col;</span><br><span class="line">    <span class="type">int</span>[][] matrix;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">NumMatrix</span><span class="params">(<span class="type">int</span>[][] matrix)</span> &#123;</span><br><span class="line">        row=matrix.length;</span><br><span class="line">        col=matrix[<span class="number">0</span>].length;</span><br><span class="line">        <span class="built_in">this</span>.matrix=matrix;</span><br><span class="line">        sum=<span class="keyword">new</span> <span class="title class_">int</span>[row][col];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">                sum[i][j]=sumRec(i-<span class="number">1</span>,j)+sumRec(i,j-<span class="number">1</span>)+matrix[i][j]-sumRec(i-<span class="number">1</span>,j-<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(<span class="type">int</span> r, <span class="type">int</span> c, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="type">int</span> delta=val-matrix[r][c];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=r; i&lt;row; i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=c; j&lt;col; j++)&#123;</span><br><span class="line">                sum[i][j]+=delta;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        matrix[r][c]=val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sumRegion</span><span class="params">(<span class="type">int</span> row1, <span class="type">int</span> col1, <span class="type">int</span> row2, <span class="type">int</span> col2)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sumRec(row2,col2)+sumRec(row1-<span class="number">1</span>,col1-<span class="number">1</span>)-sumRec(row1-<span class="number">1</span>,col2)-sumRec(row2,col1-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">sumRec</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(i&lt;<span class="number">0</span> || i&gt;=row || j&lt;<span class="number">0</span> || j&gt;=col)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum[i][j];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="348-Design-Tic-Tac-Toe"><a href="#348-Design-Tic-Tac-Toe" class="headerlink" title="348. Design Tic-Tac-Toe"></a>348. Design Tic-Tac-Toe</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TicTacToe</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span>[] row;</span><br><span class="line">    <span class="type">int</span>[] col;</span><br><span class="line">    <span class="type">int</span> diagonal;</span><br><span class="line">    <span class="type">int</span> anti_diagonal;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TicTacToe</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        row=<span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        col=<span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        diagonal=<span class="number">0</span>;</span><br><span class="line">        anti_diagonal=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">this</span>.n=n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">move</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j, <span class="type">int</span> player)</span> &#123;</span><br><span class="line">        <span class="type">int</span> val=player==<span class="number">2</span> ? -<span class="number">1</span> : <span class="number">1</span>;</span><br><span class="line">        row[i]+=val;</span><br><span class="line">        col[j]+=val;</span><br><span class="line">        <span class="comment">//diagonal : top-left to bottom-right</span></span><br><span class="line">        <span class="comment">//anti-diagonal: top-right to bottom-left</span></span><br><span class="line">        <span class="keyword">if</span>(i==j)&#123;</span><br><span class="line">            diagonal+=val;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(i+j==n-<span class="number">1</span>)&#123;</span><br><span class="line">            anti_diagonal+=val;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(row[i]==n || col[j]==n || diagonal==n || anti_diagonal==n)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(row[i]==-n || col[j]==-n ||diagonal==-n || anti_diagonal==-n)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="384-Shuffle-an-Array"><a href="#384-Shuffle-an-Array" class="headerlink" title="384. Shuffle an Array"></a>384. Shuffle an Array</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span>[] nums;</span><br><span class="line">    <span class="type">int</span>[] origin;</span><br><span class="line">    Random rand=<span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Solution</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.nums=nums;</span><br><span class="line">        <span class="built_in">this</span>.origin=nums.clone();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] reset() &#123;</span><br><span class="line">        <span class="built_in">this</span>.nums=<span class="built_in">this</span>.origin;</span><br><span class="line">        <span class="built_in">this</span>.origin=<span class="built_in">this</span>.origin.clone();</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] shuffle() &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            swap(i,pick(i,nums.length));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">pick</span><span class="params">(<span class="type">int</span> min, <span class="type">int</span> max)</span>&#123;</span><br><span class="line">        <span class="comment">//[min,max)</span></span><br><span class="line">        <span class="keyword">return</span> rand.nextInt(max-min)+min;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>&#123;</span><br><span class="line">        <span class="type">int</span> temp=nums[a];</span><br><span class="line">        nums[a]=nums[b];</span><br><span class="line">        nums[b]=temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="588-Design-In-Memory-File-System"><a href="#588-Design-In-Memory-File-System" class="headerlink" title="588. Design In-Memory File System"></a>588. Design In-Memory File System</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">FileSystem</span> &#123;</span><br><span class="line"></span><br><span class="line">    Node root;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FileSystem</span><span class="params">()</span> &#123;</span><br><span class="line">        root=<span class="keyword">new</span> <span class="title class_">Node</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">ls</span><span class="params">(String path)</span> &#123;</span><br><span class="line">        String[] split = path.split(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        <span class="comment">//skip split[0] &quot;&quot;</span></span><br><span class="line">        Node node=root;</span><br><span class="line">        String s=<span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; split.length; i++) &#123;</span><br><span class="line">            s=split[i];</span><br><span class="line">            node=node.children.get(s);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(node.content!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(Arrays.asList(s));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(node.children.keySet());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">mkdir</span><span class="params">(String path)</span> &#123;</span><br><span class="line">        getNode(path);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addContentToFile</span><span class="params">(String filePath, String content)</span> &#123;</span><br><span class="line">        Node node=getNode(filePath);</span><br><span class="line">        <span class="keyword">if</span>(node.content==<span class="literal">null</span>)&#123;</span><br><span class="line">            node.content=content;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            node.content+=content;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">readContentFromFile</span><span class="params">(String filePath)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> getNode(filePath).content;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Node <span class="title function_">getNode</span><span class="params">(String path)</span>&#123;</span><br><span class="line">        String[] split = path.split(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        <span class="comment">//skip split[0] &quot;&quot;</span></span><br><span class="line">        Node node=root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; split.length; i++) &#123;</span><br><span class="line">            String s=split[i];</span><br><span class="line">            <span class="keyword">if</span>(!node.children.containsKey(s))&#123;</span><br><span class="line">                node.children.put(s,<span class="keyword">new</span> <span class="title class_">Node</span>());</span><br><span class="line">            &#125;</span><br><span class="line">            node=node.children.get(s);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span>&#123;</span><br><span class="line">    String content;</span><br><span class="line">    TreeMap&lt;String,Node&gt; children;</span><br><span class="line">    Node()&#123;</span><br><span class="line">        children=<span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1603-Design-Parking-System"><a href="#1603-Design-Parking-System" class="headerlink" title="1603. Design Parking System"></a>1603. Design Parking System</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ParkingSystem</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span>[] lots;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ParkingSystem</span><span class="params">(<span class="type">int</span> big, <span class="type">int</span> medium, <span class="type">int</span> small)</span> &#123;</span><br><span class="line">        lots=<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">4</span>];</span><br><span class="line">        lots[<span class="number">1</span>]=big;</span><br><span class="line">        lots[<span class="number">2</span>]=medium;</span><br><span class="line">        lots[<span class="number">3</span>]=small;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">addCar</span><span class="params">(<span class="type">int</span> carType)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(lots[carType]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            lots[carType]--;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2102-Sequentially-Ordinal-Rank-Tracker"><a href="#2102-Sequentially-Ordinal-Rank-Tracker" class="headerlink" title="2102. Sequentially Ordinal Rank Tracker"></a>2102. Sequentially Ordinal Rank Tracker</h2><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/sequentially-ordinal-rank-tracker/discuss/1632156/Two-Heaps">https://leetcode.com/problems/sequentially-ordinal-rank-tracker/discuss/1632156/Two-Heaps</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SORTracker</span> &#123;</span><br><span class="line">    PriorityQueue&lt;Pair&lt;String,Integer&gt;&gt; maxHeap;</span><br><span class="line">    PriorityQueue&lt;Pair&lt;String,Integer&gt;&gt; minHeap;</span><br><span class="line">    <span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SORTracker</span><span class="params">()</span> &#123;</span><br><span class="line">        maxHeap=<span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((a,b)-&gt;(!a.getValue().equals(b.getValue()) ? b.getValue()-a.getValue() : a.getKey().compareTo(b.getKey())));</span><br><span class="line">        minHeap=<span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((a,b)-&gt;(!a.getValue().equals(b.getValue()) ? a.getValue()-b.getValue() : b.getKey().compareTo(a.getKey())));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//minHeap : largest i elements</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(String name, <span class="type">int</span> score)</span> &#123;</span><br><span class="line">        minHeap.offer(<span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(name,score));</span><br><span class="line">        maxHeap.offer(minHeap.poll());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//i = number of get()</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">        Pair pair=maxHeap.poll();</span><br><span class="line">        minHeap.offer(pair);</span><br><span class="line">        <span class="keyword">return</span> (String)pair.getKey();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="901-Online-Stock-Span"><a href="#901-Online-Stock-Span" class="headerlink" title="901. Online Stock Span"></a>901. Online Stock Span</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">StockSpanner</span> &#123;</span><br><span class="line"></span><br><span class="line">    Deque&lt;<span class="type">int</span>[]&gt; stack; <span class="comment">//date,value</span></span><br><span class="line">    <span class="type">int</span> date;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">StockSpanner</span><span class="params">()</span> &#123;</span><br><span class="line">        stack=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        date=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//100,80,60,70,60,75,85</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">next</span><span class="params">(<span class="type">int</span> price)</span> &#123;</span><br><span class="line">        date++;</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; stack.peek()[<span class="number">1</span>]&lt;=price)&#123;</span><br><span class="line">            stack.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> pre=stack.isEmpty() ? <span class="number">0</span> : stack.peek()[<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> res=date-pre;</span><br><span class="line">        stack.push(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;date,price&#125;);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="170-Two-Sum-III-Data-structure-design"><a href="#170-Two-Sum-III-Data-structure-design" class="headerlink" title="170. Two Sum III - Data structure design"></a>170. Two Sum III - Data structure design</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TwoSum</span> &#123;</span><br><span class="line">    Map&lt;Integer,Integer&gt; map;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TwoSum</span><span class="params">()</span> &#123;</span><br><span class="line">        map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> number)</span> &#123;</span><br><span class="line">        map.put(number,map.getOrDefault(number,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> key : map.keySet()) &#123;</span><br><span class="line">            <span class="keyword">if</span>(map.containsKey(value-key) &amp;&amp; key*<span class="number">2</span>!=value || key*<span class="number">2</span>==value &amp;&amp; map.get(key)&gt;<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="281-Zigzag-Iterator"><a href="#281-Zigzag-Iterator" class="headerlink" title="281. Zigzag Iterator"></a>281. Zigzag Iterator</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ZigzagIterator</span> &#123;</span><br><span class="line"></span><br><span class="line">    Iterator&lt;Integer&gt; i1;</span><br><span class="line">    Iterator&lt;Integer&gt; i2;</span><br><span class="line">    <span class="type">int</span> turn=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ZigzagIterator</span><span class="params">(List&lt;Integer&gt; v1, List&lt;Integer&gt; v2)</span> &#123;</span><br><span class="line">        i1=v1.listIterator();</span><br><span class="line">        i2=v2.listIterator();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">next</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(turn==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i1.hasNext())&#123;</span><br><span class="line">                turn=<span class="number">2</span>;</span><br><span class="line">                <span class="keyword">return</span> i1.next();</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> i2.next();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(i2.hasNext())&#123;</span><br><span class="line">                turn=<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">return</span> i2.next();</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> i1.next();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> i1.hasNext() || i2.hasNext();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>Follow up:</strong> What if you are given <code>k</code> vectors? How well can your code be extended to such cases?</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ZigzagIterator</span> &#123;</span><br><span class="line"></span><br><span class="line">    Deque&lt;Iterator&gt; list;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ZigzagIterator</span><span class="params">(List&lt;Integer&gt; v1, List&lt;Integer&gt; v2)</span> &#123;</span><br><span class="line">        list = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;Iterator&gt;();</span><br><span class="line">        <span class="keyword">if</span>(!v1.isEmpty()) list.offer(v1.iterator());</span><br><span class="line">        <span class="keyword">if</span>(!v2.isEmpty()) list.offer(v2.iterator());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">next</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">poll</span> <span class="operator">=</span> list.poll();</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> (Integer)poll.next();</span><br><span class="line">        <span class="keyword">if</span>(poll.hasNext()) list.offer(poll);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> !list.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="346-Moving-Average-from-Data-Stream"><a href="#346-Moving-Average-from-Data-Stream" class="headerlink" title="346. Moving Average from Data Stream"></a>346. Moving Average from Data Stream</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MovingAverage</span> &#123;</span><br><span class="line"></span><br><span class="line">    Deque&lt;Integer&gt; q;</span><br><span class="line">    <span class="type">double</span> sum;</span><br><span class="line">    <span class="type">int</span> size;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MovingAverage</span><span class="params">(<span class="type">int</span> size)</span> &#123;</span><br><span class="line">        q=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        sum=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">this</span>.size=size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">next</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">        q.offer(val);</span><br><span class="line">        sum+=val;</span><br><span class="line">        <span class="keyword">if</span>(q.size()&gt;size)&#123;</span><br><span class="line">            sum-=q.poll();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum/q.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="359-Logger-Rate-Limiter"><a href="#359-Logger-Rate-Limiter" class="headerlink" title="359. Logger Rate Limiter"></a>359. Logger Rate Limiter</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Logger</span> &#123;</span><br><span class="line"></span><br><span class="line">    Map&lt;String,Integer&gt; map;    <span class="comment">//nextAllowedTime</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Logger</span><span class="params">()</span> &#123;</span><br><span class="line">        map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">shouldPrintMessage</span><span class="params">(<span class="type">int</span> timestamp, String message)</span> &#123;</span><br><span class="line">        <span class="type">boolean</span> res=<span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(message) &amp;&amp; map.get(message)&gt;timestamp)&#123;</span><br><span class="line">            res=<span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(res)&#123;</span><br><span class="line">            map.put(message,timestamp+<span class="number">10</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="362-Design-Hit-Counter"><a href="#362-Design-Hit-Counter" class="headerlink" title="362. Design Hit Counter"></a>362. Design Hit Counter</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">HitCounter</span> &#123;</span><br><span class="line">    Deque&lt;Integer&gt; q;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">HitCounter</span><span class="params">()</span> &#123;</span><br><span class="line">        q=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hit</span><span class="params">(<span class="type">int</span> timestamp)</span> &#123;</span><br><span class="line">        q.offer(timestamp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getHits</span><span class="params">(<span class="type">int</span> timestamp)</span> &#123;</span><br><span class="line">        <span class="comment">//[t-299,t]</span></span><br><span class="line">        <span class="keyword">while</span>(!q.isEmpty() &amp;&amp; q.peek()&lt;timestamp-<span class="number">299</span>)&#123;</span><br><span class="line">            q.poll();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> q.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>Follow up:</strong> What if the number of hits per second could be huge? Does your design scale?</p>
<h2 id="716-Max-Stack"><a href="#716-Max-Stack" class="headerlink" title="716. Max Stack"></a>716. Max Stack</h2><p>并非手撸大根堆</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MaxStack</span> &#123;</span><br><span class="line">    Deque&lt;<span class="type">int</span>[]&gt; stack;</span><br><span class="line">    PriorityQueue&lt;<span class="type">int</span>[]&gt; pq;</span><br><span class="line">    Set&lt;Integer&gt; removed;</span><br><span class="line">    <span class="type">int</span> idx;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MaxStack</span><span class="params">()</span> &#123;</span><br><span class="line">        stack=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        pq=<span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((a,b)-&gt;(a[<span class="number">0</span>]!=b[<span class="number">0</span>] ? b[<span class="number">0</span>]-a[<span class="number">0</span>] : b[<span class="number">1</span>]-a[<span class="number">1</span>]));</span><br><span class="line">        removed=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        idx=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        stack.push(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;x,idx&#125;);</span><br><span class="line">        pq.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;x,idx&#125;);</span><br><span class="line">        idx++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(removed.contains(stack.peek()[<span class="number">1</span>]))&#123;</span><br><span class="line">            stack.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span>[] cur=stack.pop();</span><br><span class="line">        removed.add(cur[<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">return</span> cur[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">top</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(removed.contains(stack.peek()[<span class="number">1</span>]))&#123;</span><br><span class="line">            stack.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stack.peek()[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">peekMax</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(removed.contains(pq.peek()[<span class="number">1</span>]))&#123;</span><br><span class="line">            pq.poll();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> pq.peek()[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">popMax</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(removed.contains(pq.peek()[<span class="number">1</span>]))&#123;</span><br><span class="line">            pq.poll();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span>[] cur=pq.poll();</span><br><span class="line">        removed.add(cur[<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">return</span> cur[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1166-Design-File-System"><a href="#1166-Design-File-System" class="headerlink" title="1166. Design File System"></a>1166. Design File System</h2><p>注意审题：</p>
<ul>
<li>value不可修改</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">FileSystem</span> &#123;</span><br><span class="line">    Node root;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FileSystem</span><span class="params">()</span> &#123;</span><br><span class="line">        root=<span class="keyword">new</span> <span class="title class_">Node</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">createPath</span><span class="params">(String path, <span class="type">int</span> value)</span> &#123;</span><br><span class="line">        String[] split = path.split(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        Node node=root;</span><br><span class="line">        <span class="type">int</span> n=split.length;</span><br><span class="line">        <span class="comment">//[&quot;&quot;,&quot;leetcode&quot;]</span></span><br><span class="line">        <span class="comment">//can not modify</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            String s=split[i];</span><br><span class="line">            <span class="keyword">if</span>(node.children.containsKey(s))&#123;</span><br><span class="line">                node=node.children.get(s);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(i==n-<span class="number">1</span>)&#123;</span><br><span class="line">                    node.children.put(s,<span class="keyword">new</span> <span class="title class_">Node</span>());</span><br><span class="line">                    node=node.children.get(s);</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(node.val!=<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        node.val=value;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">get</span><span class="params">(String path)</span> &#123;</span><br><span class="line">        String[] split = path.split(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        Node node=root;</span><br><span class="line">        <span class="type">int</span> n=split.length;</span><br><span class="line">        <span class="comment">//[&quot;&quot;,&quot;leetcode&quot;]</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            String s=split[i];</span><br><span class="line">            <span class="keyword">if</span>(node.children.containsKey(s))&#123;</span><br><span class="line">                node=node.children.get(s);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> node.val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span>&#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    Map&lt;String,Node&gt; children;</span><br><span class="line">    Node()&#123;</span><br><span class="line">        children=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="353-Design-Snake-Game"><a href="#353-Design-Snake-Game" class="headerlink" title="353. Design Snake Game"></a>353. Design Snake Game</h2><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/design-snake-game/discuss/82668/Java-Deque-and-HashSet-design-with-detailed-comments">https://leetcode.com/problems/design-snake-game/discuss/82668/Java-Deque-and-HashSet-design-with-detailed-comments</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SnakeGame</span> &#123;</span><br><span class="line"></span><br><span class="line">    Deque&lt;Integer&gt; snake;</span><br><span class="line">    Set&lt;Integer&gt; set;</span><br><span class="line">    <span class="type">int</span>[][] food;</span><br><span class="line">    <span class="type">int</span> row;</span><br><span class="line">    <span class="type">int</span> col;</span><br><span class="line">    <span class="type">int</span> foodIdx;</span><br><span class="line">    <span class="type">int</span> score;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SnakeGame</span><span class="params">(<span class="type">int</span> width, <span class="type">int</span> height, <span class="type">int</span>[][] food)</span> &#123;</span><br><span class="line">        snake=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        set=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="built_in">this</span>.row=height;</span><br><span class="line">        <span class="built_in">this</span>.col=width;</span><br><span class="line">        <span class="built_in">this</span>.food=food;</span><br><span class="line">        foodIdx=<span class="number">0</span>;</span><br><span class="line">        score=<span class="number">0</span>;</span><br><span class="line">        snake.offerFirst(<span class="number">0</span>);</span><br><span class="line">        set.add(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">move</span><span class="params">(String direction)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(score==-<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> head=snake.isEmpty() ? <span class="number">0</span> : snake.peekFirst();</span><br><span class="line">        <span class="type">int</span> i=head/col;</span><br><span class="line">        <span class="type">int</span> j=head%col;</span><br><span class="line">        <span class="keyword">switch</span> (direction)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;U&quot;</span>:</span><br><span class="line">                i--;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;D&quot;</span>:</span><br><span class="line">                i++;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;L&quot;</span>:</span><br><span class="line">                j--;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                j++;</span><br><span class="line">        &#125;</span><br><span class="line">        set.remove(snake.peekLast());</span><br><span class="line">        <span class="type">int</span> next=i*col+j;</span><br><span class="line">        <span class="keyword">if</span>(i&lt;<span class="number">0</span> || i&gt;=row || j&lt;<span class="number">0</span> || j&gt;=col || set.contains(next))&#123;</span><br><span class="line">            score=-<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        set.add(next);</span><br><span class="line">        snake.offerFirst(next);</span><br><span class="line">        <span class="keyword">if</span>(foodIdx&lt;food.length)&#123;</span><br><span class="line">            <span class="type">int</span> x=food[foodIdx][<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> y=food[foodIdx][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span>(x==i &amp;&amp; y==j)&#123;</span><br><span class="line">                set.add(snake.peekLast());</span><br><span class="line">                foodIdx++;</span><br><span class="line">                <span class="keyword">return</span> ++score;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        snake.pollLast();</span><br><span class="line">        <span class="keyword">return</span> score;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="489-Robot-Room-Cleaner"><a href="#489-Robot-Room-Cleaner" class="headerlink" title="489. Robot Room Cleaner"></a>489. Robot Room Cleaner</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LeetCode489</span> &#123;</span><br><span class="line">     <span class="keyword">interface</span> <span class="title class_">Robot</span> &#123;</span><br><span class="line">      <span class="comment">// Returns true if the cell in front is open and robot moves into the cell.</span></span><br><span class="line">              <span class="comment">// Returns false if the cell in front is blocked and robot stays in the current cell.</span></span><br><span class="line">              <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">move</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">              <span class="comment">// Robot will stay in the same cell after calling turnLeft/turnRight.</span></span><br><span class="line">              <span class="comment">// Each turn will be 90 degrees.</span></span><br><span class="line">              <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">turnLeft</span><span class="params">()</span>;</span><br><span class="line">      <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">turnRight</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">              <span class="comment">// Clean the current cell.</span></span><br><span class="line">              <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clean</span><span class="params">()</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    Set&lt;String&gt; visited=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">     <span class="comment">//clockwise: u, r, d, l</span></span><br><span class="line">     <span class="type">int</span>[][] dirs=<span class="keyword">new</span> <span class="title class_">int</span>[][]&#123;&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;&#125;;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">goBack</span><span class="params">(Robot robot)</span>&#123;</span><br><span class="line">        robot.turnRight();</span><br><span class="line">        robot.turnRight();</span><br><span class="line">        robot.move();</span><br><span class="line">        robot.turnRight();</span><br><span class="line">        robot.turnRight();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(Robot robot, <span class="type">int</span> i, <span class="type">int</span> j, <span class="type">int</span> d)</span>&#123;</span><br><span class="line">        visited.add(i+<span class="string">&quot;,&quot;</span>+j);</span><br><span class="line">        robot.clean();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; <span class="number">4</span>; k++) &#123;</span><br><span class="line">            <span class="type">int</span> idx=(d+k)%<span class="number">4</span>;</span><br><span class="line">            <span class="type">int</span> x=i+dirs[idx][<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> y=j+dirs[idx][<span class="number">1</span>];</span><br><span class="line">            String s=x+<span class="string">&quot;,&quot;</span>+y;</span><br><span class="line">            <span class="keyword">if</span>(!visited.contains(s) &amp;&amp; robot.move())&#123;</span><br><span class="line">                dfs(robot,x,y,idx);</span><br><span class="line">                goBack(robot);</span><br><span class="line">            &#125;</span><br><span class="line">            robot.turnRight();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cleanRoom</span><span class="params">(Robot robot)</span> &#123;</span><br><span class="line">        dfs(robot,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1265-Print-Immutable-Linked-List-in-Reverse"><a href="#1265-Print-Immutable-Linked-List-in-Reverse" class="headerlink" title="1265. Print Immutable Linked List in Reverse"></a>1265. Print Immutable Linked List in Reverse</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">interface</span> <span class="title class_">ImmutableListNode</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printValue</span><span class="params">()</span>; <span class="comment">// print the value of this node.</span></span><br><span class="line">  <span class="keyword">public</span> ImmutableListNode <span class="title function_">getNext</span><span class="params">()</span>; <span class="comment">// return the next node.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printLinkedListInReverse</span><span class="params">(ImmutableListNode head)</span> &#123;</span><br><span class="line">    ImmutableListNode p=head;</span><br><span class="line">    Deque&lt;ImmutableListNode&gt; stack=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span>(p!=<span class="literal">null</span>)&#123;</span><br><span class="line">        stack.push(p);</span><br><span class="line">        p=p.getNext();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())&#123;</span><br><span class="line">        stack.pop().printValue();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>Could you solve this problem in:</p>
<ul>
<li>Constant space complexity?<ul>
<li>O(n^2) time complexity, for loop, each time print ith Node</li>
</ul>
</li>
<li>Linear time complexity and less than linear space complexity?<ul>
<li>split into sub linklists</li>
</ul>
</li>
</ul>
<h2 id="1429-First-Unique-Number"><a href="#1429-First-Unique-Number" class="headerlink" title="1429. First Unique Number"></a>1429. First Unique Number</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">FirstUnique</span> &#123;</span><br><span class="line"></span><br><span class="line">    Set&lt;Integer&gt; past;</span><br><span class="line">    LinkedHashSet&lt;Integer&gt; set;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FirstUnique</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        past=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        set=<span class="keyword">new</span> <span class="title class_">LinkedHashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!set.contains(num))&#123;</span><br><span class="line">                <span class="keyword">if</span>(!past.contains(num))&#123;</span><br><span class="line">                    set.add(num);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                set.remove(num);</span><br><span class="line">                past.add(num);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">showFirstUnique</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(set.size()&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> set.iterator().next();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(!set.contains(num))&#123;</span><br><span class="line">            <span class="keyword">if</span>(!past.contains(num))&#123;</span><br><span class="line">                set.add(num);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            set.remove(num);</span><br><span class="line">            past.add(num);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="715-Range-Module"><a href="#715-Range-Module" class="headerlink" title="715. Range Module"></a>715. Range Module</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">RangeModule</span> &#123;</span><br><span class="line">    TreeMap&lt;Integer,Integer&gt; map;   <span class="comment">//&lt;start,end&gt;</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">RangeModule</span><span class="params">()</span> &#123;</span><br><span class="line">        map=<span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addRange</span><span class="params">(<span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        <span class="comment">//no overlaps</span></span><br><span class="line">        Integer start=map.floorKey(left);</span><br><span class="line">        <span class="keyword">if</span>(start!=<span class="literal">null</span> &amp;&amp; map.get(start)&gt;=left)&#123;</span><br><span class="line">            left=start;</span><br><span class="line">        &#125;</span><br><span class="line">        Integer end=map.floorKey(right);</span><br><span class="line">        <span class="keyword">if</span>(end!=<span class="literal">null</span> &amp;&amp; map.get(end)&gt;right)&#123;</span><br><span class="line">            right=map.get(end);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//expand the range as far as possible</span></span><br><span class="line">        map.put(left,right);</span><br><span class="line">        <span class="comment">//remove any subrange in between</span></span><br><span class="line">        map.subMap(left,<span class="literal">false</span>,right,<span class="literal">true</span>).clear();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">queryRange</span><span class="params">(<span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        Integer start=map.floorKey(left);</span><br><span class="line">        <span class="keyword">return</span> start==<span class="literal">null</span> ? <span class="literal">false</span> : map.get(start)&gt;=right;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">removeRange</span><span class="params">(<span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        Integer start=map.floorKey(left);</span><br><span class="line">        Integer end=map.floorKey(right);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//can not reverse order</span></span><br><span class="line">        <span class="keyword">if</span>(end!=<span class="literal">null</span> &amp;&amp; map.get(end)&gt;right)&#123;</span><br><span class="line">            map.put(right,map.get(end));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(start!=<span class="literal">null</span> &amp;&amp; map.get(start)&gt;left)&#123;</span><br><span class="line">            map.put(start,left);</span><br><span class="line">        &#125;</span><br><span class="line">        map.subMap(left,<span class="literal">true</span>,right,<span class="literal">false</span>).clear();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1352-Product-of-the-Last-K-Numbers"><a href="#1352-Product-of-the-Last-K-Numbers" class="headerlink" title="1352. Product of the Last K Numbers"></a>1352. Product of the Last K Numbers</h2><p>思路：</p>
<ul>
<li>与prefix sum不同，0之前的所有prefix product无意义，遇0则清</li>
<li>队头设初值1,便于计算</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ProductOfNumbers</span> &#123;</span><br><span class="line"></span><br><span class="line">    List&lt;Integer&gt; prefix;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ProductOfNumbers</span><span class="params">()</span> &#123;</span><br><span class="line">        prefix=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        prefix.add(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(num==<span class="number">0</span>)&#123;</span><br><span class="line">            prefix.clear();</span><br><span class="line">            prefix.add(<span class="number">1</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            prefix.add(prefix.get(prefix.size()-<span class="number">1</span>)*num);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getProduct</span><span class="params">(<span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="type">int</span> n=prefix.size();</span><br><span class="line">        <span class="comment">//last k: [n-k,n-1]</span></span><br><span class="line">        <span class="keyword">return</span> n&gt;k ? prefix.get(n-<span class="number">1</span>)/prefix.get(n-k-<span class="number">1</span>) : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="895-Maximum-Frequency-Stack"><a href="#895-Maximum-Frequency-Stack" class="headerlink" title="895. Maximum Frequency Stack"></a>895. Maximum Frequency Stack</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">FreqStack</span> &#123;</span><br><span class="line"></span><br><span class="line">    Map&lt;Integer,Integer&gt; numToFreq;</span><br><span class="line">    Map&lt;Integer, Deque&lt;Integer&gt;&gt; freqToStack;</span><br><span class="line">    <span class="type">int</span> maxFreq;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FreqStack</span><span class="params">()</span> &#123;</span><br><span class="line">        numToFreq=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        freqToStack=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        maxFreq=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="type">int</span> f=numToFreq.getOrDefault(val,<span class="number">0</span>);</span><br><span class="line">        f++;</span><br><span class="line">        maxFreq=Math.max(maxFreq,f);</span><br><span class="line">        freqToStack.putIfAbsent(f,<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;());</span><br><span class="line">        numToFreq.put(val,f);</span><br><span class="line">        freqToStack.get(f).push(val);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> x=freqToStack.get(maxFreq).pop();</span><br><span class="line">        numToFreq.put(x,maxFreq-<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(freqToStack.get(maxFreq).isEmpty())&#123;</span><br><span class="line">            maxFreq--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1628-Design-an-Expression-Tree-With-Evaluate-Function"><a href="#1628-Design-an-Expression-Tree-With-Evaluate-Function" class="headerlink" title="1628. Design an Expression Tree With Evaluate Function"></a>1628. Design an Expression Tree With Evaluate Function</h2><p> <strong><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Binary_expression_tree">binary expression tree</a></strong></p>
<p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/design-an-expression-tree-with-evaluate-function/discuss/1209901/Java-Factory-method-pattern">https://leetcode.com/problems/design-an-expression-tree-with-evaluate-function/discuss/1209901/Java-Factory-method-pattern</a></p>
<p>factory pattern</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Deque;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * This is the interface for the expression tree Node.</span></span><br><span class="line"><span class="comment"> * You should not remove it, and you can define some classes to implement it.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="type">int</span> <span class="title function_">evaluate</span><span class="params">()</span>;</span><br><span class="line">    <span class="comment">// define your fields here</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Node <span class="title function_">from</span><span class="params">(String s)</span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (s)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;+&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">AddNode</span>();</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;-&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">SubtractNode</span>();</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;*&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MultiplyNode</span>();</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;/&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">DivideNode</span>();</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">NumberNode</span>(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">OperatorNode</span> <span class="keyword">extends</span> <span class="title class_">Node</span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> Node left;</span><br><span class="line">    <span class="keyword">protected</span> Node right;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setLeft</span><span class="params">(Node left)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.left=left;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setRight</span><span class="params">(Node right)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.right=right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AddNode</span> <span class="keyword">extends</span> <span class="title class_">OperatorNode</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">evaluate</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> left.evaluate()+right.evaluate();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SubtractNode</span> <span class="keyword">extends</span> <span class="title class_">OperatorNode</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">evaluate</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> left.evaluate()-right.evaluate();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MultiplyNode</span> <span class="keyword">extends</span> <span class="title class_">OperatorNode</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">evaluate</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> left.evaluate()*right.evaluate();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DivideNode</span> <span class="keyword">extends</span> <span class="title class_">OperatorNode</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">evaluate</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> left.evaluate()/ right.evaluate();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NumberNode</span> <span class="keyword">extends</span> <span class="title class_">Node</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String val;</span><br><span class="line"></span><br><span class="line">    NumberNode(String val)&#123;</span><br><span class="line">        <span class="built_in">this</span>.val=val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">evaluate</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.valueOf(val);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * This is the TreeBuilder class.</span></span><br><span class="line"><span class="comment"> * You can treat it as the driver code that takes the postinfix input</span></span><br><span class="line"><span class="comment"> * and returns the expression tree represnting it as a Node.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TreeBuilder</span> &#123;</span><br><span class="line">    Node <span class="title function_">buildTree</span><span class="params">(String[] postfix)</span> &#123;</span><br><span class="line">        Deque&lt;Node&gt; stack=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (String s : postfix) &#123;</span><br><span class="line">            Node n=Node.from(s);</span><br><span class="line">            <span class="keyword">if</span>(n <span class="keyword">instanceof</span> NumberNode)&#123;</span><br><span class="line">                stack.push(n);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(n <span class="keyword">instanceof</span> OperatorNode)&#123;</span><br><span class="line">                OperatorNode op=(OperatorNode)n;</span><br><span class="line">                op.setRight(stack.pop());</span><br><span class="line">                op.setLeft(stack.pop());</span><br><span class="line">                stack.push(op);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stack.pop();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your TreeBuilder object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * TreeBuilder obj = new TreeBuilder();</span></span><br><span class="line"><span class="comment"> * Node expTree = obj.buildTree(postfix);</span></span><br><span class="line"><span class="comment"> * int ans = expTree.evaluate();</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>





<h2 id="2336-Smallest-Number-in-Infinite-Set"><a href="#2336-Smallest-Number-in-Infinite-Set" class="headerlink" title="2336. Smallest Number in Infinite Set"></a>2336. Smallest Number in Infinite Set</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SmallestInfiniteSet</span> &#123;</span><br><span class="line"></span><br><span class="line">    Set&lt;Integer&gt; poped;</span><br><span class="line">    <span class="type">int</span> smallest;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SmallestInfiniteSet</span><span class="params">()</span> &#123;</span><br><span class="line">        poped=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        smallest=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">popSmallest</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(poped.contains(smallest))&#123;</span><br><span class="line">            smallest++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> p=smallest;</span><br><span class="line">        poped.add(smallest);</span><br><span class="line">        smallest++;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addBack</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(poped.contains(num))&#123;</span><br><span class="line">            poped.remove(num);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(num&lt;smallest)&#123;</span><br><span class="line">            smallest=num;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="981-Time-Based-Key-Value-Store"><a href="#981-Time-Based-Key-Value-Store" class="headerlink" title="981. Time Based Key-Value Store"></a>981. Time Based Key-Value Store</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TimeMap</span> &#123;</span><br><span class="line"></span><br><span class="line">    Map&lt;String, TreeMap&lt;Integer,String&gt;&gt; keyToMap;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TimeMap</span><span class="params">()</span> &#123;</span><br><span class="line">        keyToMap=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(String key, String value, <span class="type">int</span> timestamp)</span> &#123;</span><br><span class="line">        keyToMap.putIfAbsent(key,<span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;());</span><br><span class="line">        keyToMap.get(key).put(timestamp,value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">get</span><span class="params">(String key, <span class="type">int</span> timestamp)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(!keyToMap.containsKey(key))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">k</span> <span class="operator">=</span> keyToMap.get(key).floorKey(timestamp);</span><br><span class="line">        <span class="keyword">return</span> k==<span class="literal">null</span> ? <span class="string">&quot;&quot;</span> : keyToMap.get(key).get(k);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2034-Stock-Price-Fluctuation"><a href="#2034-Stock-Price-Fluctuation" class="headerlink" title="2034. Stock Price Fluctuation"></a>2034. Stock Price Fluctuation</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">StockPrice</span> &#123;</span><br><span class="line"></span><br><span class="line">    TreeMap&lt;Integer,Integer&gt; map;</span><br><span class="line">    TreeMap&lt;Integer,Integer&gt; count;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">StockPrice</span><span class="params">()</span> &#123;</span><br><span class="line">        map=<span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">        count=<span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(<span class="type">int</span> timestamp, <span class="type">int</span> price)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(timestamp))&#123;</span><br><span class="line">            <span class="type">int</span> old=map.get(timestamp);</span><br><span class="line">            <span class="type">int</span> c=count.get(old);</span><br><span class="line">            <span class="keyword">if</span>(c==<span class="number">1</span>)&#123;</span><br><span class="line">                count.remove(old);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                count.put(old,c-<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        map.put(timestamp,price);</span><br><span class="line">        count.put(price,count.getOrDefault(price,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">current</span><span class="params">()</span> &#123;</span><br><span class="line">        Integer last=map.lastKey();</span><br><span class="line">        <span class="keyword">return</span> map.get(last);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maximum</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> count.lastKey();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minimum</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> count.firstKey();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="729-My-Calendar-I"><a href="#729-My-Calendar-I" class="headerlink" title="729. My Calendar I"></a>729. My Calendar I</h2><p>Google似乎很喜欢考TreeMap</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyCalendar</span> &#123;</span><br><span class="line"></span><br><span class="line">    TreeMap&lt;Integer,Integer&gt; map;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyCalendar</span><span class="params">()</span> &#123;</span><br><span class="line">        map=<span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">book</span><span class="params">(<span class="type">int</span> start, <span class="type">int</span> end)</span> &#123;</span><br><span class="line">        <span class="type">int</span> st=start;</span><br><span class="line">        <span class="type">int</span> ed=end;</span><br><span class="line">        Integer floor=map.floorKey(st);</span><br><span class="line">        Integer ceil=map.ceilingKey(st);</span><br><span class="line">        <span class="keyword">if</span>(floor!=<span class="literal">null</span> &amp;&amp; map.get(floor)&gt;st ||</span><br><span class="line">            ceil!=<span class="literal">null</span> &amp;&amp; ceil&lt;ed)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(floor!=<span class="literal">null</span> &amp;&amp; map.get(floor)==st)&#123;</span><br><span class="line">            start=floor;</span><br><span class="line">            map.remove(floor);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(ceil!=<span class="literal">null</span> &amp;&amp; ceil==ed)&#123;</span><br><span class="line">            end=map.get(ceil);</span><br><span class="line">            map.remove(ceil);</span><br><span class="line">        &#125;</span><br><span class="line">        map.put(start,end);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1570-Dot-Product-of-Two-Sparse-Vectors"><a href="#1570-Dot-Product-of-Two-Sparse-Vectors" class="headerlink" title="1570. Dot Product of Two Sparse Vectors"></a>1570. Dot Product of Two Sparse Vectors</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SparseVector</span> &#123;</span><br><span class="line"></span><br><span class="line">    Map&lt;Integer,Integer&gt; map;</span><br><span class="line">    SparseVector(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">        map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i]!=<span class="number">0</span>)&#123;</span><br><span class="line">                map.put(i,nums[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Return the dotProduct of two sparse vectors</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">dotProduct</span><span class="params">(SparseVector vec)</span> &#123;</span><br><span class="line">        <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (Integer i : vec.map.keySet()) &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">this</span>.map.containsKey(i))&#123;</span><br><span class="line">                res+=vec.map.get(i)*<span class="built_in">this</span>.map.get(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1396-Design-Underground-System"><a href="#1396-Design-Underground-System" class="headerlink" title="1396. Design Underground System"></a>1396. Design Underground System</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UndergroundSystem</span> &#123;</span><br><span class="line">    Map&lt;Integer,String&gt; startStation;<span class="comment">// &lt;id,startStation&gt;</span></span><br><span class="line">    Map&lt;Integer,Integer&gt; startTime;<span class="comment">//&lt;id,time&gt;</span></span><br><span class="line">    Map&lt;String,<span class="type">double</span>[]&gt; map;<span class="comment">//&lt;path,[total,count]&gt;</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UndergroundSystem</span><span class="params">()</span> &#123;</span><br><span class="line">        startStation=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        startTime=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">checkIn</span><span class="params">(<span class="type">int</span> id, String stationName, <span class="type">int</span> t)</span> &#123;</span><br><span class="line">        startStation.put(id,stationName);</span><br><span class="line">        startTime.put(id,t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">checkOut</span><span class="params">(<span class="type">int</span> id, String stationName, <span class="type">int</span> t)</span> &#123;</span><br><span class="line">        <span class="type">int</span> t1=startTime.get(id);</span><br><span class="line">        String s1=startStation.get(id);</span><br><span class="line">        String s=s1+<span class="string">&quot;,&quot;</span>+stationName;</span><br><span class="line">        <span class="type">double</span>[] arr=<span class="keyword">new</span> <span class="title class_">double</span>[<span class="number">2</span>];</span><br><span class="line">        arr[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">        arr[<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(s))&#123;</span><br><span class="line">            arr=map.get(s);</span><br><span class="line">        &#125;</span><br><span class="line">        arr[<span class="number">0</span>]+=t-t1;</span><br><span class="line">        arr[<span class="number">1</span>]++;</span><br><span class="line">        map.put(s,arr);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getAverageTime</span><span class="params">(String startStation, String endStation)</span> &#123;</span><br><span class="line">        String s=startStation+<span class="string">&quot;,&quot;</span>+endStation;</span><br><span class="line">        <span class="type">double</span>[] arr=map.get(s);</span><br><span class="line">        <span class="keyword">return</span> arr[<span class="number">0</span>]/arr[<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1146-Snapshot-Array"><a href="#1146-Snapshot-Array" class="headerlink" title="1146. Snapshot Array"></a>1146. Snapshot Array</h2><h3 id="TLE-67-x2F-74"><a href="#TLE-67-x2F-74" class="headerlink" title="TLE: 67&#x2F;74"></a>TLE: 67&#x2F;74</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SnapshotArray</span> &#123;</span><br><span class="line"></span><br><span class="line">    Map&lt;Integer,Integer&gt;[] map;</span><br><span class="line">    <span class="type">int</span>[] arr;</span><br><span class="line">    <span class="type">int</span> snap=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SnapshotArray</span><span class="params">(<span class="type">int</span> length)</span> &#123;</span><br><span class="line">        map=<span class="keyword">new</span> <span class="title class_">Map</span>[length];</span><br><span class="line">        arr=<span class="keyword">new</span> <span class="title class_">int</span>[length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">            map[i]=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(<span class="type">int</span> index, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        arr[index]=val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">snap</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; map.length; i++) &#123;</span><br><span class="line">            map[i].put(snap,arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> snap++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">get</span><span class="params">(<span class="type">int</span> index, <span class="type">int</span> snap_id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> map[index].get(snap_id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="TLE-69-x2F-74"><a href="#TLE-69-x2F-74" class="headerlink" title="TLE: 69&#x2F;74"></a>TLE: 69&#x2F;74</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SnapshotArray</span> &#123;</span><br><span class="line"></span><br><span class="line">    TreeMap&lt;Integer,Integer&gt;[] map;</span><br><span class="line">    <span class="type">int</span>[] arr;</span><br><span class="line">    <span class="type">int</span> snap=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SnapshotArray</span><span class="params">(<span class="type">int</span> length)</span> &#123;</span><br><span class="line">        map=<span class="keyword">new</span> <span class="title class_">TreeMap</span>[length];</span><br><span class="line">        arr=<span class="keyword">new</span> <span class="title class_">int</span>[length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">            map[i]=<span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(<span class="type">int</span> index, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        arr[index]=val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">snap</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; map.length; i++) &#123;</span><br><span class="line">            Integer pre=map[i].floorKey(snap);</span><br><span class="line">            <span class="keyword">if</span>(pre==<span class="literal">null</span> || map[i].get(pre)!=arr[i])&#123;</span><br><span class="line">                map[i].put(snap,arr[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> snap++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">get</span><span class="params">(<span class="type">int</span> index, <span class="type">int</span> snap_id)</span> &#123;</span><br><span class="line">        <span class="type">int</span> key=map[index].floorKey(snap_id);</span><br><span class="line">        <span class="keyword">return</span> map[index].get(key);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SnapshotArray</span> &#123;</span><br><span class="line"></span><br><span class="line">    TreeMap&lt;Integer,Integer&gt;[] map;</span><br><span class="line">    <span class="type">int</span> snap=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SnapshotArray</span><span class="params">(<span class="type">int</span> length)</span> &#123;</span><br><span class="line">        map=<span class="keyword">new</span> <span class="title class_">TreeMap</span>[length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">            map[i]=<span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">            map[i].put(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(<span class="type">int</span> index, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        map[index].put(snap,val);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">snap</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> snap++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">get</span><span class="params">(<span class="type">int</span> index, <span class="type">int</span> snap_id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> map[index].floorEntry(snap_id).getValue();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://invincible-nerd.github.io/2023/02/13/Array-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="invincible-nerd">
      <meta itemprop="description" content="For explorer everywhere">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IVN">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/13/Array-3/" class="post-title-link" itemprop="url">Array-3</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-13 17:28:34" itemprop="dateCreated datePublished" datetime="2023-02-13T17:28:34+08:00">2023-02-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-08-01 14:18:45" itemprop="dateModified" datetime="2023-08-01T14:18:45+08:00">2023-08-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index"><span itemprop="name">LeetCode</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>23k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>21 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Array选编（3）"><a href="#Array选编（3）" class="headerlink" title="Array选编（3）"></a>Array选编（3）</h1><h2 id="163-Missing-Ranges"><a href="#163-Missing-Ranges" class="headerlink" title="163. Missing Ranges"></a>163. Missing Ranges</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">findMissingRanges</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> lower, <span class="type">int</span> upper)</span> &#123;</span><br><span class="line">    List&lt;String&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="type">int</span> curStart=lower;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(curStart==nums[i])&#123;</span><br><span class="line">            curStart=nums[i]+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//curStart&lt;nums[i]</span></span><br><span class="line">            <span class="comment">//[curStart,nums[i]-1]</span></span><br><span class="line">            <span class="type">int</span> end=nums[i]-<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(curStart==end)&#123;</span><br><span class="line">                res.add(curStart+<span class="string">&quot;&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                res.add(curStart+<span class="string">&quot;-&gt;&quot;</span>+end);</span><br><span class="line">            &#125;</span><br><span class="line">            curStart=nums[i]+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(curStart&lt;upper)&#123;</span><br><span class="line">        res.add(curStart+<span class="string">&quot;-&gt;&quot;</span>+upper);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(curStart==upper)&#123;</span><br><span class="line">        res.add(curStart+<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="238-Product-of-Array-Except-Self"><a href="#238-Product-of-Array-Except-Self" class="headerlink" title="238. Product of Array Except Self"></a>238. Product of Array Except Self</h2><p>You must write an algorithm that runs in <code>O(n)</code> time and without using the division operation.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] productExceptSelf(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="type">int</span>[] fromLeft=<span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    <span class="type">int</span>[] fromRight=<span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    fromLeft[<span class="number">0</span>]=nums[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        fromLeft[i]=fromLeft[i-<span class="number">1</span>]*nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    fromRight[n-<span class="number">1</span>]=nums[n-<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n-<span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        fromRight[i]=fromRight[i+<span class="number">1</span>]*nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span>[] res=<span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    res[<span class="number">0</span>]=fromRight[<span class="number">1</span>];</span><br><span class="line">    res[n-<span class="number">1</span>]=fromLeft[n-<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n-<span class="number">1</span>; i++) &#123;</span><br><span class="line">        res[i]=fromLeft[i-<span class="number">1</span>]*fromRight[i+<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>Follow up:</strong> Can you solve the problem in <code>O(1) </code>extra space complexity? (The output array <strong>does not</strong> count as extra space for space complexity analysis.)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] productExceptSelf(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="comment">//[0,i-1] [i+1,n-1]</span></span><br><span class="line">    <span class="type">int</span>[] res=<span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    res[n-<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n-<span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        res[i]=nums[i+<span class="number">1</span>]*res[i+<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> fromLeft=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        res[i]*=fromLeft;</span><br><span class="line">        fromLeft*=nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1383-Maximum-Performance-of-a-Team"><a href="#1383-Maximum-Performance-of-a-Team" class="headerlink" title="1383. Maximum Performance of a Team"></a>1383. Maximum Performance of a Team</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxPerformance</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[] speed, <span class="type">int</span>[] efficiency, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="type">int</span> mod=(<span class="type">int</span>)<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line">    <span class="type">int</span>[][] arr=<span class="keyword">new</span> <span class="title class_">int</span>[n][<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        arr[i][<span class="number">0</span>]=efficiency[i];</span><br><span class="line">        arr[i][<span class="number">1</span>]=speed[i];</span><br><span class="line">    &#125;</span><br><span class="line">    Arrays.sort(arr,(a,b)-&gt;(b[<span class="number">0</span>]-a[<span class="number">0</span>]));</span><br><span class="line">    PriorityQueue&lt;Integer&gt; pq=<span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;();</span><br><span class="line">    <span class="type">long</span> max=<span class="number">0</span>;</span><br><span class="line">    <span class="type">long</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span>[] cur=arr[i];</span><br><span class="line">        <span class="type">int</span> curEff=cur[<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> curSpeed=cur[<span class="number">1</span>];</span><br><span class="line">        sum+=curSpeed;</span><br><span class="line">        pq.offer(curSpeed);</span><br><span class="line">        <span class="keyword">if</span>(pq.size()&gt;k)&#123;</span><br><span class="line">            sum-=pq.poll();</span><br><span class="line">        &#125;</span><br><span class="line">        max=Math.max(max,sum*curEff);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="type">int</span>)(max%mod);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h2 id="1710-Maximum-Units-on-a-Truck"><a href="#1710-Maximum-Units-on-a-Truck" class="headerlink" title="1710. Maximum Units on a Truck"></a>1710. Maximum Units on a Truck</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maximumUnits</span><span class="params">(<span class="type">int</span>[][] boxTypes, <span class="type">int</span> truckSize)</span> &#123;</span><br><span class="line">    Arrays.sort(boxTypes,(a,b)-&gt;(b[<span class="number">1</span>]-a[<span class="number">1</span>]));</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span>[] box : boxTypes) &#123;</span><br><span class="line">        <span class="keyword">while</span>(truckSize&gt;<span class="number">0</span> &amp;&amp; box[<span class="number">0</span>]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            res+=box[<span class="number">1</span>];</span><br><span class="line">            box[<span class="number">0</span>]--;</span><br><span class="line">            truckSize--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2055-Plates-Between-Candles"><a href="#2055-Plates-Between-Candles" class="headerlink" title="2055. Plates Between Candles"></a>2055. Plates Between Candles</h2><p>新知识：</p>
<ul>
<li>TreeMap.ceilingKey()</li>
<li>TreeMap.floorKey()</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] platesBetweenCandles(String s, <span class="type">int</span>[][] queries) &#123;</span><br><span class="line">    <span class="type">int</span> n=queries.length;</span><br><span class="line">    <span class="type">int</span>[] res=<span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    TreeMap&lt;Integer,Integer&gt; map=<span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> idx=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(s.charAt(i)==<span class="string">&#x27;|&#x27;</span>)&#123;</span><br><span class="line">            map.put(i,idx++);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> start=queries[i][<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> end=queries[i][<span class="number">1</span>];</span><br><span class="line">        Integer left=map.ceilingKey(start);</span><br><span class="line">        Integer right=map.floorKey(end);</span><br><span class="line">        <span class="keyword">if</span>(left==<span class="literal">null</span> || right==<span class="literal">null</span> || left&gt;=right)&#123;</span><br><span class="line">            res[i]=<span class="number">0</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            res[i]=right-left-(map.get(right)-map.get(left));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2104-Sum-of-Subarray-Ranges"><a href="#2104-Sum-of-Subarray-Ranges" class="headerlink" title="2104. Sum of Subarray Ranges"></a>2104. Sum of Subarray Ranges</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">subArrayRanges</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="type">long</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> min=nums[i];</span><br><span class="line">        <span class="type">int</span> max=nums[i];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i+<span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">            min=Math.min(min,nums[j]);</span><br><span class="line">            max=Math.max(max,nums[j]);</span><br><span class="line">            res+=max-min;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/sum-of-subarray-ranges/discuss/1624222/JavaC%2B%2BPython-O(n)-solution-detailed-explanation">https://leetcode.com/problems/sum-of-subarray-ranges/discuss/1624222/JavaC%2B%2BPython-O(n)-solution-detailed-explanation</a></p>
<p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/sum-of-subarray-minimums/solution/">https://leetcode.com/problems/sum-of-subarray-minimums/solution/</a></p>
<p>三步走：</p>
<ol>
<li><p>In the given range, find the count of subarrays which contain 2</p>
<p>[3,4,5,2,3,4]</p>
</li>
<li><p>how to get the range in which each element is the smallest</p>
<ol>
<li><p>find the nearest element on the left, which is less than itself</p>
</li>
<li><p>find the closest element on the right, which is less than itself.</p>
<p>[i+1,j-1]</p>
</li>
</ol>
</li>
<li><p>edge case: duplicate elements</p>
<ol>
<li>look for elements that are <em>strictly less than</em> the current element on the left.</li>
<li>look for the elements which are <em>less than or equal to</em> the current element</li>
</ol>
</li>
</ol>
<h2 id="2214-Minimum-Health-to-Beat-Game"><a href="#2214-Minimum-Health-to-Beat-Game" class="headerlink" title="2214. Minimum Health to Beat Game"></a>2214. Minimum Health to Beat Game</h2><p>binary search？杀鸡焉用牛刀！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">minimumHealth</span><span class="params">(<span class="type">int</span>[] damage, <span class="type">int</span> armor)</span> &#123;</span><br><span class="line">    Arrays.sort(damage);</span><br><span class="line">    <span class="type">long</span> left=<span class="number">0</span>;</span><br><span class="line">    <span class="type">long</span> right=(<span class="type">long</span>)<span class="number">1e10</span>+<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> n=damage.length;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="type">long</span> mid=(left+right)/<span class="number">2</span>;</span><br><span class="line">        <span class="type">long</span> hp=mid;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i==n-<span class="number">1</span>)&#123;</span><br><span class="line">                hp-=Math.max(damage[i]-armor,<span class="number">0</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                hp-=damage[i];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(hp&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(hp&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">            left=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            right=mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">minimumHealth</span><span class="params">(<span class="type">int</span>[] damage, <span class="type">int</span> armor)</span> &#123;</span><br><span class="line">    <span class="type">long</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> maxD=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> d : damage) &#123;</span><br><span class="line">        res+=d;</span><br><span class="line">        maxD=Math.max(d,maxD);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res-Math.min(armor,maxD)+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2221-Find-Triangular-Sum-of-an-Array"><a href="#2221-Find-Triangular-Sum-of-an-Array" class="headerlink" title="2221. Find Triangular Sum of an Array"></a>2221. Find Triangular Sum of an Array</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">triangularSum</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    List&lt;Integer&gt; list=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        list.add(nums[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(list.size()&gt;<span class="number">1</span>)&#123;</span><br><span class="line">        List&lt;Integer&gt; next=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; list.size()-<span class="number">1</span>; i++) &#123;</span><br><span class="line">            next.add((list.get(i)+list.get(i+<span class="number">1</span>))%<span class="number">10</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        list=next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list.get(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2272-Substring-With-Largest-Variance"><a href="#2272-Substring-With-Largest-Variance" class="headerlink" title="2272. Substring With Largest Variance"></a>2272. Substring With Largest Variance</h2><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/substring-with-largest-variance/discuss/2038222/Kadanes-algorithm-solution-(Java)">https://leetcode.com/problems/substring-with-largest-variance/discuss/2038222/Kadanes-algorithm-solution-(Java)</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">largestVariance</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=s.length();</span><br><span class="line">    <span class="type">char</span>[] chars = s.toCharArray();</span><br><span class="line">    <span class="type">int</span>[] arr=<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        arr[chars[i]-<span class="string">&#x27;a&#x27;</span>]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> curA,curB,resB; <span class="comment">//max(A-B),B&gt;0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">26</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i]==<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">26</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(j==i || arr[j]==<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            curA=<span class="number">0</span>;</span><br><span class="line">            curB=<span class="number">0</span>;</span><br><span class="line">            resB=arr[j];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> <span class="number">0</span>; t &lt; n; t++) &#123;</span><br><span class="line">                <span class="type">int</span> cur=chars[t]-<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">                <span class="keyword">if</span>(cur!=i &amp;&amp; cur!=j)&#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(cur==i)&#123;</span><br><span class="line">                    curA++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(cur==j)&#123;</span><br><span class="line">                    curB++;</span><br><span class="line">                    resB--;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(curB&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                    res=Math.max(res,curA-curB);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(curA-curB&lt;<span class="number">0</span> &amp;&amp; resB&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                    curA=<span class="number">0</span>;</span><br><span class="line">                    curB=<span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2281-Sum-of-Total-Strength-of-Wizards"><a href="#2281-Sum-of-Total-Strength-of-Wizards" class="headerlink" title="2281. Sum of Total Strength of Wizards"></a>2281. Sum of Total Strength of Wizards</h2><h3 id="brute-force-still-TLE"><a href="#brute-force-still-TLE" class="headerlink" title="brute force (still TLE)"></a>brute force (still TLE)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] nums;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">totalStrength</span><span class="params">(<span class="type">int</span>[] strength)</span> &#123;</span><br><span class="line">       <span class="built_in">this</span>.nums=strength;</span><br><span class="line"></span><br><span class="line">       <span class="type">int</span> n=strength.length;</span><br><span class="line">       <span class="type">long</span> res=<span class="number">0</span>;</span><br><span class="line">       <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt;= i; j++) &#123;</span><br><span class="line">               res+=strength(j,i);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="type">int</span> r=(<span class="type">int</span>)(res%((<span class="type">int</span>)Math.pow(<span class="number">10</span>,<span class="number">9</span>)+<span class="number">7</span>));</span><br><span class="line">       <span class="keyword">return</span> r;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="type">long</span> <span class="title function_">strength</span><span class="params">(<span class="type">int</span> start,<span class="type">int</span> end)</span>&#123;</span><br><span class="line"></span><br><span class="line">       <span class="type">int</span> min=Integer.MAX_VALUE;</span><br><span class="line">       <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">       <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start; i &lt;= end; i++) &#123;</span><br><span class="line">           min=Math.min(min,nums[i]);</span><br><span class="line">           sum+=nums[i];</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="type">long</span> res=min*sum;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">return</span> res;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>



<h3 id="prefix-sum-still-TLE"><a href="#prefix-sum-still-TLE" class="headerlink" title="prefix sum (still TLE)"></a>prefix sum (still TLE)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">totalStrength</span><span class="params">(<span class="type">int</span>[] strength)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=strength.length;</span><br><span class="line">    <span class="type">long</span>[] prefix=<span class="keyword">new</span> <span class="title class_">long</span>[n];</span><br><span class="line">    prefix[<span class="number">0</span>]=strength[<span class="number">0</span>];  <span class="comment">//[0,i]</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        prefix[i]=prefix[i-<span class="number">1</span>]+strength[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> min;</span><br><span class="line">    <span class="type">long</span> sum;</span><br><span class="line">    <span class="type">long</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        min=strength[i];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">            min=Math.min(min,strength[j]);</span><br><span class="line">            <span class="comment">//[j,i] = [0,i] -[0,j-1]</span></span><br><span class="line">            sum=j==<span class="number">0</span> ? prefix[i] : prefix[i]-prefix[j-<span class="number">1</span>];</span><br><span class="line">            res+=sum*min;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    res%=(<span class="type">int</span>)<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line">    <span class="keyword">return</span> (<span class="type">int</span>)res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="monotonic-stack"><a href="#monotonic-stack" class="headerlink" title="monotonic stack"></a>monotonic stack</h3><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/sum-of-total-strength-of-wizards/discuss/2061985/JavaC%2B%2BPython-One-Pass-Solution">https://leetcode.com/problems/sum-of-total-strength-of-wizards/discuss/2061985/JavaC%2B%2BPython-One-Pass-Solution</a></p>
<h2 id="1074-Number-of-Submatrices-That-Sum-to-Target"><a href="#1074-Number-of-Submatrices-That-Sum-to-Target" class="headerlink" title="1074. Number of Submatrices That Sum to Target"></a>1074. Number of Submatrices That Sum to Target</h2><h3 id="法一："><a href="#法一：" class="headerlink" title="法一："></a>法一：</h3><p>暴力，很慢</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> row;</span><br><span class="line"><span class="type">int</span> col;</span><br><span class="line"><span class="type">long</span>[][] sum;</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numSubmatrixSumTarget</span><span class="params">(<span class="type">int</span>[][] matrix, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="comment">//sum(x1,y1,x2,y2)=rect(x2,y2)-rect(x2,y1-1)</span></span><br><span class="line">    <span class="comment">// -rect(x1-1,y2)+rect(x1-1,y1-1)</span></span><br><span class="line">    row=matrix.length;</span><br><span class="line">    col=matrix[<span class="number">0</span>].length;</span><br><span class="line">    sum=<span class="keyword">new</span> <span class="title class_">long</span>[row][col];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">            sum[i][j]=sum(i-<span class="number">1</span>,j)+sum(i,j-<span class="number">1</span>)+matrix[i][j]-sum(i-<span class="number">1</span>,j-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">x2</span> <span class="operator">=</span> <span class="number">0</span>; x2 &lt; row; x2++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">y2</span> <span class="operator">=</span> <span class="number">0</span>; y2 &lt; col; y2++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">x1</span> <span class="operator">=</span> <span class="number">0</span>; x1 &lt;= x2; x1++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">y1</span> <span class="operator">=</span> <span class="number">0</span>; y1 &lt;= y2; y1++) &#123;</span><br><span class="line">                    <span class="type">long</span> s=sum(x2,y2)-sum(x2,y1-<span class="number">1</span>)-sum(x1-<span class="number">1</span>,y2)+sum(x1-<span class="number">1</span>,y1-<span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span>(s==target)&#123;</span><br><span class="line">                        res++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">long</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x&lt;<span class="number">0</span> || y&lt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum[x][y];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="法二："><a href="#法二：" class="headerlink" title="法二："></a>法二：</h3><p>转换，快多了</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numSubmatrixSumTarget</span><span class="params">(<span class="type">int</span>[][] A, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>, m = A.length, n = A[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; n; j++)</span><br><span class="line">            A[i][j] += A[i][j - <span class="number">1</span>];</span><br><span class="line">    Map&lt;Integer, Integer&gt; counter = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt; n; j++) &#123;</span><br><span class="line">            counter.clear();</span><br><span class="line">            counter.put(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; m; k++) &#123;</span><br><span class="line">                cur += A[k][j] - (i &gt; <span class="number">0</span> ? A[k][i - <span class="number">1</span>] : <span class="number">0</span>);</span><br><span class="line">                res += counter.getOrDefault(cur - target, <span class="number">0</span>);</span><br><span class="line">                counter.put(cur, counter.getOrDefault(cur, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="853-Car-Fleet"><a href="#853-Car-Fleet" class="headerlink" title="853. Car Fleet"></a>853. Car Fleet</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">carFleet</span><span class="params">(<span class="type">int</span> target, <span class="type">int</span>[] position, <span class="type">int</span>[] speed)</span> &#123;</span><br><span class="line">    TreeMap&lt;Integer,Double&gt; map=<span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;(Collections.reverseOrder());</span><br><span class="line">    <span class="type">int</span> n=position.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        map.put(position[i],(<span class="type">double</span>)(target-position[i])/speed[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="type">double</span> cur=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (Integer pos : map.keySet()) &#123;</span><br><span class="line">        <span class="type">double</span> curTime=map.get(pos);</span><br><span class="line">        <span class="keyword">if</span>(curTime&gt;cur)&#123;</span><br><span class="line">            cur=curTime;</span><br><span class="line">            res++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2340-Minimum-Adjacent-Swaps-to-Make-a-Valid-Array"><a href="#2340-Minimum-Adjacent-Swaps-to-Make-a-Valid-Array" class="headerlink" title="2340. Minimum Adjacent Swaps to Make a Valid Array"></a>2340. Minimum Adjacent Swaps to Make a Valid Array</h2><p>注意：</p>
<ol>
<li>找leftmost min 和 rightmost max, 只需要one pass即可</li>
<li>若left most min 比 rightmost max 还靠右，则有一次swap可以两用</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minimumSwaps</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">            <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="type">int</span> min=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> max=n-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[i]&lt;nums[min])&#123;</span><br><span class="line">            min=i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(nums[n-<span class="number">1</span>-i]&gt;nums[max])&#123;</span><br><span class="line">            max=n-<span class="number">1</span>-i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> min-<span class="number">0</span>+n-<span class="number">1</span>-max-(min&gt;max ? <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2357-Make-Array-Zero-by-Subtracting-Equal-Amounts"><a href="#2357-Make-Array-Zero-by-Subtracting-Equal-Amounts" class="headerlink" title="2357. Make Array Zero by Subtracting Equal Amounts"></a>2357. Make Array Zero by Subtracting Equal Amounts</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minimumOperations</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] arr=<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">101</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">        arr[num]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            res++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="531-Lonely-Pixel-I"><a href="#531-Lonely-Pixel-I" class="headerlink" title="531. Lonely Pixel I"></a>531. Lonely Pixel I</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findLonelyPixel</span><span class="params">(<span class="type">char</span>[][] picture)</span> &#123;</span><br><span class="line">    <span class="type">int</span> row=picture.length;</span><br><span class="line">    <span class="type">int</span> col=picture[<span class="number">0</span>].length;</span><br><span class="line">    <span class="type">int</span>[] rows=<span class="keyword">new</span> <span class="title class_">int</span>[row];</span><br><span class="line">    <span class="type">int</span>[] cols=<span class="keyword">new</span> <span class="title class_">int</span>[col];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(picture[i][j]==<span class="string">&#x27;B&#x27;</span>)&#123;</span><br><span class="line">                rows[i]++;</span><br><span class="line">                cols[j]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(picture[i][j]==<span class="string">&#x27;B&#x27;</span> &amp;&amp; rows[i]==<span class="number">1</span> &amp;&amp; cols[j]==<span class="number">1</span>)&#123;</span><br><span class="line">                res++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="562-Longest-Line-of-Consecutive-One-in-Matrix"><a href="#562-Longest-Line-of-Consecutive-One-in-Matrix" class="headerlink" title="562. Longest Line of Consecutive One in Matrix"></a>562. Longest Line of Consecutive One in Matrix</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestLine</span><span class="params">(<span class="type">int</span>[][] mat)</span> &#123;</span><br><span class="line">    <span class="type">int</span> row=mat.length;</span><br><span class="line">    <span class="type">int</span> col=mat[<span class="number">0</span>].length;</span><br><span class="line">    <span class="type">int</span>[][][] dp=<span class="keyword">new</span> <span class="title class_">int</span>[row+<span class="number">1</span>][col+<span class="number">2</span>][<span class="number">4</span>];</span><br><span class="line">    <span class="type">int</span> max0=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> max1=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> max2=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> max3=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">//horizontal, vertical, diagonal, anti-diagonal</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(mat[i][j]==<span class="number">1</span>)&#123;</span><br><span class="line">                dp[i+<span class="number">1</span>][j+<span class="number">1</span>][<span class="number">0</span>]=dp[i+<span class="number">1</span>][j][<span class="number">0</span>]+<span class="number">1</span>;</span><br><span class="line">                max0=Math.max(max0,dp[i+<span class="number">1</span>][j+<span class="number">1</span>][<span class="number">0</span>]);</span><br><span class="line">                dp[i+<span class="number">1</span>][j+<span class="number">1</span>][<span class="number">1</span>]=dp[i][j+<span class="number">1</span>][<span class="number">1</span>]+<span class="number">1</span>;</span><br><span class="line">                max1=Math.max(max1,dp[i+<span class="number">1</span>][j+<span class="number">1</span>][<span class="number">1</span>]);</span><br><span class="line">                dp[i+<span class="number">1</span>][j+<span class="number">1</span>][<span class="number">2</span>]=dp[i][j][<span class="number">2</span>]+<span class="number">1</span>;</span><br><span class="line">                max2=Math.max(max2,dp[i+<span class="number">1</span>][j+<span class="number">1</span>][<span class="number">2</span>]);</span><br><span class="line">                dp[i+<span class="number">1</span>][j+<span class="number">1</span>][<span class="number">3</span>]=dp[i][j+<span class="number">2</span>][<span class="number">3</span>]+<span class="number">1</span>;</span><br><span class="line">                max3=Math.max(max3,dp[i+<span class="number">1</span>][j+<span class="number">1</span>][<span class="number">3</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    max0=Math.max(max0,max1);</span><br><span class="line">    max0=Math.max(max0,max2);</span><br><span class="line">    max0=Math.max(max0,max3);</span><br><span class="line">    <span class="keyword">return</span> max0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="624-Maximum-Distance-in-Arrays"><a href="#624-Maximum-Distance-in-Arrays" class="headerlink" title="624. Maximum Distance in Arrays"></a>624. Maximum Distance in Arrays</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxDistance</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; arrays)</span> &#123;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> min=arrays.get(<span class="number">0</span>).get(<span class="number">0</span>);</span><br><span class="line">    <span class="type">int</span> max=arrays.get(<span class="number">0</span>).get(arrays.get(<span class="number">0</span>).size()-<span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> n=arrays.size();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        List&lt;Integer&gt; arr=arrays.get(i);</span><br><span class="line">        res=Math.max(res,Math.abs(arr.get(arr.size()-<span class="number">1</span>)-min));</span><br><span class="line">        res=Math.max(res,Math.abs(arr.get(<span class="number">0</span>)-max));</span><br><span class="line">        min=Math.min(min,arr.get(<span class="number">0</span>));</span><br><span class="line">        max=Math.max(max,arr.get(arr.size()-<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="643-Maximum-Average-Subarray-I"><a href="#643-Maximum-Average-Subarray-I" class="headerlink" title="643. Maximum Average Subarray I"></a>643. Maximum Average Subarray I</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">double</span> <span class="title function_">findMaxAverage</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="type">double</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        sum+=nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">double</span> res=sum/k;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> k; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="comment">//[i-k+1,i]</span></span><br><span class="line">        sum+=nums[i];</span><br><span class="line">        sum-=nums[i-k];</span><br><span class="line">        res=Math.max(res,sum/k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="644-Maximum-Average-Subarray-II"><a href="#644-Maximum-Average-Subarray-II" class="headerlink" title="644. Maximum Average Subarray II"></a>644. Maximum Average Subarray II</h2><h3 id="法一：TLE"><a href="#法一：TLE" class="headerlink" title="法一：TLE"></a>法一：TLE</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">double</span> <span class="title function_">findMaxAverage</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="type">double</span> res=find(nums,k);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> k+<span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        res=Math.max(res,find(nums,i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">double</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="type">double</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        sum+=nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">double</span> res=sum/k;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> k; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="comment">//[i-k+1,i]</span></span><br><span class="line">        sum+=nums[i];</span><br><span class="line">        sum-=nums[i-k];</span><br><span class="line">        res=Math.max(res,sum/k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="法二：强行TLE"><a href="#法二：强行TLE" class="headerlink" title="法二：强行TLE"></a>法二：强行TLE</h3><p>活久见：<strong>77 &#x2F; 77</strong> test cases passed, but took too long.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">double</span> <span class="title function_">findMaxAverage</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="type">double</span>[] prefix=<span class="keyword">new</span> <span class="title class_">double</span>[n];<span class="comment">//[0,i]</span></span><br><span class="line">    prefix[<span class="number">0</span>]=nums[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        prefix[i]=prefix[i-<span class="number">1</span>]+nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">double</span> res=find(prefix,k);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> k+<span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        res=Math.max(res,find(prefix,i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">double</span> <span class="title function_">find</span><span class="params">(<span class="type">double</span>[] prefix, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="type">double</span> sum=prefix[k-<span class="number">1</span>];   <span class="comment">//[0,k-1]</span></span><br><span class="line">    <span class="type">int</span> n=prefix.length;</span><br><span class="line">    <span class="type">double</span> res=sum/k;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> k; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="comment">//[i-k+1,i]</span></span><br><span class="line">        sum=prefix[i]-prefix[i-k];</span><br><span class="line">        res=Math.max(res,sum/k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="法三：Binary-Search"><a href="#法三：Binary-Search" class="headerlink" title="法三：Binary Search"></a>法三：Binary Search</h3><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/maximum-average-subarray-ii/discuss/132164/Java-Clear-Code-using-Binary-Search-with-Detailed-Explanations">https://leetcode.com/problems/maximum-average-subarray-ii/discuss/132164/Java-Clear-Code-using-Binary-Search-with-Detailed-Explanations</a></p>
<p>可谓妙极</p>
<pre><code>public double findMaxAverage(int[] nums, int k) &#123;
    double l = -10001, r = 100001;
    while(l + 0.00001 &lt; r) &#123;
        double m = l + (r - l) / 2;
        if (canFindLargerAverage(nums, k, m)) &#123;
            l = m;
        &#125;
        else &#123;
            r = m;
        &#125;
    &#125;
    return l;
&#125;   

private boolean canFindLargerAverage(int[] nums, int k, double x) &#123;
    int n = nums.length;
    double[] a = new double[n];
    for (int i = 0; i &lt; n; i++) &#123;
        a[i] = nums[i] - x;
    &#125;
    double cur = 0, prev = 0;
    for (int i = 0; i &lt; k; i++) &#123;
        cur += a[i];
    &#125;
    if (cur &gt;= 0) &#123;
        return true;
    &#125;
    for (int i = k; i &lt; n; i++) &#123;
        cur += a[i];
        prev += a[i - k];
        if (prev &lt; 0) &#123;
            cur -= prev;
            prev = 0;
        &#125;
        if (cur &gt;= 0) &#123;
            return true;
        &#125;
    &#125;
    return false;
&#125;
</code></pre>
<h2 id="723-Candy-Crush"><a href="#723-Candy-Crush" class="headerlink" title="723. Candy Crush"></a>723. Candy Crush</h2><p>simulation好题</p>
<p>注意：</p>
<ol>
<li>negative标记将被removed的元素</li>
<li>将被removed的元素也能remove其他元素，需要以abs来判断是否为同一type</li>
<li>只需考虑down和right</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[][] candyCrush(<span class="type">int</span>[][] board) &#123;</span><br><span class="line">    <span class="type">int</span> row=board.length;</span><br><span class="line">    <span class="type">int</span> col=board[<span class="number">0</span>].length;</span><br><span class="line">    <span class="type">boolean</span> found=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">while</span>(found)&#123;</span><br><span class="line">        found=<span class="literal">false</span>;</span><br><span class="line">        <span class="comment">//crash (mark as negative)</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">                <span class="type">int</span> val=Math.abs(board[i][j]);</span><br><span class="line">                <span class="keyword">if</span>(val==<span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//down</span></span><br><span class="line">                <span class="keyword">if</span>(i+<span class="number">2</span>&lt;row &amp;&amp; val==Math.abs(board[i+<span class="number">1</span>][j]) &amp;&amp; val==Math.abs(board[i+<span class="number">2</span>][j]))&#123;</span><br><span class="line">                    found=<span class="literal">true</span>;</span><br><span class="line">                    <span class="type">int</span> idx=i;</span><br><span class="line">                    <span class="keyword">while</span>(idx&lt;row &amp;&amp; Math.abs(board[idx][j])==val)&#123;</span><br><span class="line">                        board[idx][j]=-val;</span><br><span class="line">                        idx++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//right</span></span><br><span class="line">                <span class="keyword">if</span>(j+<span class="number">2</span>&lt;col &amp;&amp; val==Math.abs(board[i][j+<span class="number">1</span>]) &amp;&amp; val==Math.abs(board[i][j+<span class="number">2</span>]))&#123;</span><br><span class="line">                    found=<span class="literal">true</span>;</span><br><span class="line">                    <span class="type">int</span> idx=j;</span><br><span class="line">                    <span class="keyword">while</span>(idx&lt;col &amp;&amp; Math.abs(board[i][idx])==val)&#123;</span><br><span class="line">                        board[i][idx]=-val;</span><br><span class="line">                        idx++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//gravity</span></span><br><span class="line">        <span class="keyword">if</span>(found)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">                <span class="type">int</span> idx=row-<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> row-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(board[i][j]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                        board[idx--][j]=board[i][j];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> idx; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">                    board[i][j]=<span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> board;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1198-Find-Smallest-Common-Element-in-All-Rows"><a href="#1198-Find-Smallest-Common-Element-in-All-Rows" class="headerlink" title="1198. Find Smallest Common Element in All Rows"></a>1198. Find Smallest Common Element in All Rows</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">smallestCommonElement</span><span class="params">(<span class="type">int</span>[][] mat)</span> &#123;</span><br><span class="line">    Map&lt;Integer,Integer&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> n=mat.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n-<span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="type">int</span>[] arr=mat[i];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : arr) &#123;</span><br><span class="line">            map.put(num,map.getOrDefault(num,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> num : mat[n - <span class="number">1</span>]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(num) &amp;&amp; map.get(num)==n-<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> num;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>还有多种解法</p>
<h2 id="1182-Shortest-Distance-to-Target-Color"><a href="#1182-Shortest-Distance-to-Target-Color" class="headerlink" title="1182. Shortest Distance to Target Color"></a>1182. Shortest Distance to Target Color</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">shortestDistanceColor</span><span class="params">(<span class="type">int</span>[] colors, <span class="type">int</span>[][] queries)</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> n=colors.length;</span><br><span class="line">    Map&lt;String,Integer&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span>[] query : queries) &#123;</span><br><span class="line">        <span class="type">int</span> i=query[<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> c=query[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span>(colors[i]==c)&#123;</span><br><span class="line">            res.add(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        String key=i+<span class="string">&quot;,&quot;</span>+c;</span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(key))&#123;</span><br><span class="line">            res.add(map.get(key));</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> left=i-<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> right=i+<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> len=Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">while</span>(left&gt;=<span class="number">0</span> &amp;&amp; colors[left]!=c)&#123;</span><br><span class="line">            left--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(left&gt;=<span class="number">0</span> &amp;&amp; colors[left]==c)&#123;</span><br><span class="line">            len=i-left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(right&lt;n &amp;&amp; colors[right]!=c)&#123;</span><br><span class="line">            right++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(right&lt;n &amp;&amp; colors[right]==c)&#123;</span><br><span class="line">            len=Math.min(len,right-i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(len==Integer.MAX_VALUE)&#123;</span><br><span class="line">            len=-<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        map.put(key,len);</span><br><span class="line">        res.add(len);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1196-How-Many-Apples-Can-You-Put-into-the-Basket"><a href="#1196-How-Many-Apples-Can-You-Put-into-the-Basket" class="headerlink" title="1196. How Many Apples Can You Put into the Basket"></a>1196. How Many Apples Can You Put into the Basket</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxNumberOfApples</span><span class="params">(<span class="type">int</span>[] weight)</span> &#123;</span><br><span class="line">    Arrays.sort(weight);</span><br><span class="line">    <span class="type">int</span> capacity=<span class="number">5000</span>;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> num : weight) &#123;</span><br><span class="line">        <span class="keyword">if</span>(capacity&gt;=num)&#123;</span><br><span class="line">            res++;</span><br><span class="line">            capacity-=num;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1167-Minimum-Cost-to-Connect-Sticks"><a href="#1167-Minimum-Cost-to-Connect-Sticks" class="headerlink" title="1167. Minimum Cost to Connect Sticks"></a>1167. Minimum Cost to Connect Sticks</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">connectSticks</span><span class="params">(<span class="type">int</span>[] sticks)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=sticks.length;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> sticks[<span class="number">0</span>]+sticks[<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    PriorityQueue&lt;Integer&gt; pq=<span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        pq.offer(sticks[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(pq.size()&gt;<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="type">int</span> c=pq.poll()+pq.poll();</span><br><span class="line">        res+=c;</span><br><span class="line">        pq.offer(c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1207-Unique-Number-of-Occurrences"><a href="#1207-Unique-Number-of-Occurrences" class="headerlink" title="1207. Unique Number of Occurrences"></a>1207. Unique Number of Occurrences</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">uniqueOccurrences</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">    Arrays.sort(arr);</span><br><span class="line">    <span class="type">int</span> cur=<span class="number">1</span>;</span><br><span class="line">    Set&lt;Integer&gt; set=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i]==arr[i-<span class="number">1</span>])&#123;</span><br><span class="line">            cur++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(set.contains(cur))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            set.add(cur);</span><br><span class="line">            cur=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(set.contains(cur))&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1402-Reducing-Dishes"><a href="#1402-Reducing-Dishes" class="headerlink" title="1402. Reducing Dishes"></a>1402. Reducing Dishes</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxSatisfaction</span><span class="params">(<span class="type">int</span>[] satisfaction)</span> &#123;</span><br><span class="line">    PriorityQueue&lt;Integer&gt; pos=<span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;();</span><br><span class="line">    PriorityQueue&lt;Integer&gt; npos=<span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((a,b)-&gt;(b-a));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i : satisfaction) &#123;</span><br><span class="line">        <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            pos.offer(i);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            npos.offer(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> t=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(!pos.isEmpty())&#123;</span><br><span class="line">        <span class="type">int</span> p=pos.poll();</span><br><span class="line">        sum+=p;</span><br><span class="line">        res+=p*(t++);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!npos.isEmpty() &amp;&amp; npos.peek()+sum+res&gt;res)&#123;</span><br><span class="line">        <span class="type">int</span> p=npos.poll();</span><br><span class="line">        res=res+sum+p;</span><br><span class="line">        sum+=p;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="945-Minimum-Increment-to-Make-Array-Unique"><a href="#945-Minimum-Increment-to-Make-Array-Unique" class="headerlink" title="945. Minimum Increment to Make Array Unique"></a>945. Minimum Increment to Make Array Unique</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minIncrementForUnique</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[i]&lt;=nums[i-<span class="number">1</span>])&#123;</span><br><span class="line">            res+=nums[i-<span class="number">1</span>]+<span class="number">1</span>-nums[i];</span><br><span class="line">            nums[i]=nums[i-<span class="number">1</span>]+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1918-Kth-Smallest-Subarray-Sum"><a href="#1918-Kth-Smallest-Subarray-Sum" class="headerlink" title="1918. Kth Smallest Subarray Sum"></a>1918. Kth Smallest Subarray Sum</h2><p>binary_search + sliding_window，好题！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">kthSmallestSubarraySum</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="comment">//return the kth smallest subarray sum</span></span><br><span class="line">    <span class="comment">//=&gt; return the smallest num satisfying that</span></span><br><span class="line">    <span class="comment">// k subarray sum &lt;= num</span></span><br><span class="line">    <span class="type">int</span> lo=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> hi= Arrays.stream(nums).sum();</span><br><span class="line">    <span class="keyword">while</span>(lo&lt;hi)&#123;</span><br><span class="line">        <span class="type">int</span> mid=(lo+hi)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(countLessThan(nums,mid)&lt;k)&#123;</span><br><span class="line">            <span class="comment">//if not valid</span></span><br><span class="line">            lo=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//if valid</span></span><br><span class="line">            hi=mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> lo;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">countLessThan</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span>&#123;</span><br><span class="line">    <span class="type">int</span> l=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> <span class="number">0</span>; r &lt; nums.length; r++) &#123;</span><br><span class="line">        sum+=nums[r];</span><br><span class="line">        <span class="comment">//[l,r]</span></span><br><span class="line">        <span class="keyword">while</span>(sum&gt;target)&#123;</span><br><span class="line">            sum-=nums[l++];</span><br><span class="line">        &#125;</span><br><span class="line">        count+=r-l+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2100-Find-Good-Days-to-Rob-the-Bank"><a href="#2100-Find-Good-Days-to-Rob-the-Bank" class="headerlink" title="2100. Find Good Days to Rob the Bank"></a>2100. Find Good Days to Rob the Bank</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">goodDaysToRobBank</span><span class="params">(<span class="type">int</span>[] security, <span class="type">int</span> time)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=security.length;</span><br><span class="line">    <span class="type">int</span>[] l=<span class="keyword">new</span> <span class="title class_">int</span>[n];<span class="comment">//longest non-increasing subarray end with i</span></span><br><span class="line">    <span class="type">int</span>[] r=<span class="keyword">new</span> <span class="title class_">int</span>[n];<span class="comment">//longest non-decreasing subarray start with i</span></span><br><span class="line">    l[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        l[i]=security[i]&lt;=security[i-<span class="number">1</span>] ? l[i-<span class="number">1</span>]+<span class="number">1</span> : <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    r[n-<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n-<span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        r[i]=security[i]&lt;=security[i+<span class="number">1</span>] ? r[i+<span class="number">1</span>]+<span class="number">1</span> : <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(l[i]&gt;time &amp;&amp; r[i]&gt;time)&#123;</span><br><span class="line">            res.add(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2294-Partition-Array-Such-That-Maximum-Difference-Is-K"><a href="#2294-Partition-Array-Such-That-Maximum-Difference-Is-K" class="headerlink" title="2294. Partition Array Such That Maximum Difference Is K"></a>2294. Partition Array Such That Maximum Difference Is K</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">partitionArray</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    <span class="type">int</span> res=<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="type">int</span> start=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[i]-nums[start]&gt;k)&#123;</span><br><span class="line">            res++;</span><br><span class="line">            start=i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2524-Maximum-Frequency-Score-of-a-Subarray"><a href="#2524-Maximum-Frequency-Score-of-a-Subarray" class="headerlink" title="2524. Maximum Frequency Score of a Subarray"></a>2524. Maximum Frequency Score of a Subarray</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxFrequencyScore</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="type">int</span> mod=(<span class="type">int</span>)<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line">    Map&lt;Integer, List&lt;Long&gt;&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    Map&lt;Integer,Integer&gt; cnt=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">        cnt.put(num,cnt.getOrDefault(num,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (Integer num : cnt.keySet()) &#123;</span><br><span class="line">        <span class="type">int</span> val=cnt.get(num);</span><br><span class="line">        <span class="type">long</span> pw=<span class="number">1</span>;</span><br><span class="line">        List&lt;Long&gt; list=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; val; i++) &#123;</span><br><span class="line">            pw=pw*num%mod;</span><br><span class="line">            list.add(pw);</span><br><span class="line">        &#125;</span><br><span class="line">        map.put(num,list);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> max=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> left=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> right=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="type">long</span> sum=<span class="number">0</span>;</span><br><span class="line">    cnt.clear();</span><br><span class="line">    <span class="keyword">while</span>(right&lt;n)&#123;</span><br><span class="line">        <span class="comment">//[left,right)</span></span><br><span class="line">        <span class="type">int</span> num=nums[right++];</span><br><span class="line">        <span class="keyword">if</span>(cnt.containsKey(num))&#123;</span><br><span class="line">            <span class="type">int</span> val=cnt.get(num);</span><br><span class="line">            <span class="comment">//注意：减法时可能产生负数，需要加上mod来避免</span></span><br><span class="line">            sum=(sum-map.get(num).get(val-<span class="number">1</span>)%mod+</span><br><span class="line">                    map.get(num).get(val)%mod+mod)%mod;</span><br><span class="line">            cnt.put(num,val+<span class="number">1</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            sum=(sum+map.get(num).get(<span class="number">0</span>)%mod)%mod;</span><br><span class="line">            cnt.put(num,<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(right-left&gt;k)&#123;</span><br><span class="line">            <span class="type">int</span> l=nums[left++];</span><br><span class="line">            <span class="type">int</span> val=cnt.get(l);</span><br><span class="line">            <span class="keyword">if</span>(val==<span class="number">1</span>)&#123;</span><br><span class="line">                sum=(sum-map.get(l).get(<span class="number">0</span>)%mod)%mod;</span><br><span class="line">                cnt.remove(l);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">//注意：减法时可能产生负数，需要加上mod来避免</span></span><br><span class="line">                sum=(sum-map.get(l).get(val-<span class="number">1</span>)%mod+</span><br><span class="line">                        map.get(l).get(val-<span class="number">2</span>)%mod+mod)%mod;</span><br><span class="line">                cnt.put(l,val-<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(right-left==k)&#123;</span><br><span class="line">            max=Math.max(max,(<span class="type">int</span>)sum);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2448-Minimum-Cost-to-Make-Array-Equal"><a href="#2448-Minimum-Cost-to-Make-Array-Equal" class="headerlink" title="2448. Minimum Cost to Make Array Equal"></a>2448. Minimum Cost to Make Array Equal</h2><p>prefix sum of cost</p>
<p><strong>still confusing</strong>: why Changing the elements into one of the numbers already existing in the array nums is optimal.    </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">minCost</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span>[] cost)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="type">int</span>[][] arr=<span class="keyword">new</span> <span class="title class_">int</span>[n][<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        arr[i][<span class="number">0</span>]=nums[i];</span><br><span class="line">        arr[i][<span class="number">1</span>]=cost[i];</span><br><span class="line">    &#125;</span><br><span class="line">    Arrays.sort(arr,(a,b)-&gt;(a[<span class="number">0</span>]-b[<span class="number">0</span>]));</span><br><span class="line">    <span class="type">long</span>[] prefix=<span class="keyword">new</span> <span class="title class_">long</span>[n+<span class="number">1</span>]; <span class="comment">//cost sum of first i items</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        prefix[i+<span class="number">1</span>]=prefix[i]+arr[i][<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">long</span> c=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        c+=<span class="number">1L</span>*(arr[i][<span class="number">0</span>]-arr[<span class="number">0</span>][<span class="number">0</span>])*arr[i][<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">long</span> res=c;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">long</span> diff=arr[i][<span class="number">0</span>]-arr[i-<span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">        <span class="comment">//[0,i-1]</span></span><br><span class="line">        c+=diff*prefix[i];</span><br><span class="line">        <span class="comment">//[i,n-1]</span></span><br><span class="line">        c-=diff*(prefix[n]-prefix[i]);</span><br><span class="line">        res=Math.min(res,c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2462-Total-Cost-to-Hire-K-Workers"><a href="#2462-Total-Cost-to-Hire-K-Workers" class="headerlink" title="2462. Total Cost to Hire K Workers"></a>2462. Total Cost to Hire K Workers</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">totalCost</span><span class="params">(<span class="type">int</span>[] costs, <span class="type">int</span> k, <span class="type">int</span> candidates)</span> &#123;</span><br><span class="line">    <span class="type">long</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> n=costs.length;</span><br><span class="line">    PriorityQueue&lt;Integer&gt; front=<span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;();</span><br><span class="line">    PriorityQueue&lt;Integer&gt; rear=<span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> l=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> r=n-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; candidates &amp;&amp; l&lt;=r; i++) &#123;</span><br><span class="line">        front.offer(costs[l++]);</span><br><span class="line">        <span class="keyword">if</span>(l&gt;r)&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        rear.offer(costs[r--]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(front.isEmpty())&#123;</span><br><span class="line">            res+=rear.poll();</span><br><span class="line">            <span class="keyword">if</span>(l&lt;=r)&#123;</span><br><span class="line">                rear.offer(costs[r--]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(rear.isEmpty())&#123;</span><br><span class="line">            res+=front.poll();</span><br><span class="line">            <span class="keyword">if</span>(l&lt;=r)&#123;</span><br><span class="line">                rear.offer(costs[l++]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(front.peek()&lt;=rear.peek())&#123;</span><br><span class="line">            res+=front.poll();</span><br><span class="line">            <span class="keyword">if</span>(l&lt;=r)&#123;</span><br><span class="line">                front.offer(costs[l++]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            res+=rear.poll();</span><br><span class="line">            <span class="keyword">if</span>(l&lt;=r)&#123;</span><br><span class="line">                rear.offer(costs[r--]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="918-Maximum-Sum-Circular-Subarray"><a href="#918-Maximum-Sum-Circular-Subarray" class="headerlink" title="918. Maximum Sum Circular Subarray"></a>918. Maximum Sum Circular Subarray</h2><p>Kadane’s algorithm</p>
<p>how to handle special case? </p>
<p>法一：kadane + prefix &amp; suffix sum</p>
<p>法二：kadane*2</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxSubarraySumCircular</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="type">int</span> pre1=<span class="number">0</span>;  <span class="comment">//greatest subarray ending in i</span></span><br><span class="line">    <span class="type">int</span> res=Integer.MIN_VALUE;</span><br><span class="line">    <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> pre2=<span class="number">0</span>; <span class="comment">//smallest subarray ending in i</span></span><br><span class="line">    <span class="type">int</span> min=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        sum+=nums[i];</span><br><span class="line">        pre1= pre1&gt;=<span class="number">0</span> ? pre1+nums[i] : nums[i];</span><br><span class="line">        pre2= pre2&gt;=<span class="number">0</span> ? nums[i] : pre2+nums[i];</span><br><span class="line">        res=Math.max(res,pre1);</span><br><span class="line">        min=Math.min(min,pre2);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//however, min cannot be [0,n-1]</span></span><br><span class="line">    <span class="keyword">if</span>(sum!=min)&#123;</span><br><span class="line">        res=Math.max(res,sum-min);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://invincible-nerd.github.io/2023/02/05/COEN233/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="invincible-nerd">
      <meta itemprop="description" content="For explorer everywhere">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IVN">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/05/COEN233/" class="post-title-link" itemprop="url">COEN233</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-06 15:59:13" itemprop="dateCreated datePublished" datetime="2023-02-06T15:59:13+08:00">2023-02-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-02-07 09:52:35" itemprop="dateModified" datetime="2023-02-07T09:52:35+08:00">2023-02-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS/" itemprop="url" rel="index"><span itemprop="name">CS</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>9.4k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>9 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="COEN-233-Computer-Network"><a href="#COEN-233-Computer-Network" class="headerlink" title="COEN 233    Computer Network"></a>COEN 233    Computer Network</h1><h2 id="Mid-term-review"><a href="#Mid-term-review" class="headerlink" title="Mid-term review"></a>Mid-term review</h2><ol>
<li>Besides bandwidth and latency, what other parameter is needed to give a good characterization<br>of the quality of service offered by a network used for (i) digitized voice traffic?<br>(ii) video traffic? (iii) financial transaction traffic?</li>
</ol>
<p>A <strong>uniform delivery time</strong> is needed for voice as well as video, so the amount<br>of <strong>jitter</strong> in the network is important. This could be expressed as the <strong>standard</strong><br><strong>deviation of the delivery time</strong>. Having short delay but large variability is actually<br>worse than a somewhat <strong>longer delay and low variability</strong>. </p>
<p>For financial<br>transaction traffic, <strong>reliability and security</strong> are very important.</p>
<p>–</p>
<ol start="2">
<li>A client-server system uses a satellite network, with the satellite at a height of 40,000<br>km. What is the best-case delay in response to a request?</li>
</ol>
<p>The request has to go up and down, and the response has to go up and down.<br>The total path length traversed is thus 160,000 km. The speed of light in air<br>and vacuum is 300,000 km&#x2F;sec, so the propagation delay alone is<br><strong>160,000&#x2F;300,000 sec</strong> or about 533 msec.</p>
<p>–</p>
<ol start="3">
<li>Match the layers—Link, Network, and Transport—with the guarantees that each layer<br>could provide to higher layers.</li>
</ol>
<p>Guarantee                     Layer</p>
<p>Best effort delivery             Network<br>Reliable Delivery             Transport<br>In-order Delivery             Transport<br>Byte-stream abstraction         Transport<br>Point-to-point link abstraction     Data link</p>
<p>–</p>
<ol start="4">
<li>Two networks each provide reliable connection-oriented service. One of them offers<br>a reliable byte stream and the other offers a reliable message stream. Are these identical?<br>If so, why is the distinction made? If not, give an example of how they differ.</li>
</ol>
<p>Message and byte streams are different. In a message stream, the network<br>keeps track of message boundaries. In a byte stream, it does not. For example,<br>suppose a process writes 1024 bytes to a connection and then a little<br>later writes another 1024 bytes. The receiver then does a read for 2048 bytes.<br>With a <strong>message stream</strong>, the receiver will <strong>get two messages, of 1024 bytes</strong><br><strong>each.</strong> </p>
<p>With a <strong>byte stream</strong>, the message boundaries do not count and the receiver<br>will <strong>get the full 2048 bytes as a single unit</strong>. The fact that there were<br>originally two distinct messages is lost.</p>
<p>–</p>
<ol start="5">
<li>What does ‘‘negotiation’’ mean when discussing network protocols? Give an example.</li>
</ol>
<p>Negotiation has to do with <strong>getting both sides to agree on some parameters or</strong><br><strong>values to be used</strong> during the communication. <strong>Maximum packet size</strong> is one<br>example, but there are many others.</p>
<p>__</p>
<ol start="6">
<li>What is the main difference between TCP and UDP?</li>
</ol>
<p>TCP is <strong>connection oriented</strong>, whereas UDP is a <strong>connectionless service</strong>.</p>
<p>__</p>
<ol start="7">
<li>Suppose the <strong>algorithms used to implement</strong> <strong>the operations at layer k</strong> is changed. How<br>does this impact operations at layers k − 1 and k + 1?</li>
</ol>
<p>This has <strong>no impact</strong> on the operations at layers k-1 or k+1.</p>
<hr>
<ol start="8">
<li>Suppose there is a change in <strong>the service (set of operations) provided by layer k</strong>. How<br>does this impact services at layers k-1 and k+1?</li>
</ol>
<p>There is no impact at layer k-1, but <strong>operations in k+1 have to be reimplemented</strong>.</p>
<hr>
<ol start="9">
<li>Provide a list of reasons for why the response time of a client may be larger than the<br>best-case delay.</li>
</ol>
<p>One reason is request or response <strong>messages may get corrupted or lost</strong> during<br>transmission. Another reason is the <strong>processing unit in the satellite may get</strong><br><strong>overloaded</strong> processing several requests from different clients.</p>
<hr>
<ol start="10">
<li>What are the disadvantages of using small, fixed-length cells in ATM?</li>
</ol>
<p>Small-sized cells result in <strong>large header-to-payload overhead</strong>. </p>
<p>Fixed-size cells result in <strong>wastage of unused bytes</strong> in the payload.</p>
<p>ATM cell : 5 byte header + 48 byte data</p>
<hr>
<ol start="11">
<li><p>Nyquist’s theorem<br>Maximum data rate &#x3D; <strong>2Blog2 V</strong>   bits&#x2F;sec, where B is the bandwidth and V is the number of discrete state</p>
<p>•Shannon’s formula for capacity of a noisy channel</p>
<p><em>*<em>B</em>log2 (1 + <em>S&#x2F;N</em>)<em>bits&#x2F;sec</em>*</em></p>
</li>
</ol>
<hr>
<ol start="12">
<li>Is the Nyquist theorem true for high-quality single-mode optical fiber or only for<br>copper wire?</li>
</ol>
<p>The Nyquist theorem is a property of mathematics and has nothing to do with<br>technology. It says that if you have a function whose Fourier spectrum does<br>not contain any sines or cosines above f, by sampling the function at a frequency<br>of 2f you capture all the information there is. Thus, <strong>the Nyquist</strong><br><strong>theorem is true for all media.</strong></p>
<hr>
<ol start="13">
<li>What is the difference, if any, between the demodulator part of a modem and the coder<br>part of a codec? (After all, both convert analog signals to digital ones.)</li>
</ol>
<p>A <strong>coder</strong> accepts an <strong>arbitrary analog signal</strong> and generates a digital signal from<br>it. A <strong>demodulator</strong> accepts a <strong>modulated sine wave only</strong> and generates a digital<br>signal.</p>
<hr>
<ol start="14">
<li>Three packet-switching networks each contain n nodes. The first network has a star<br>topology with a central switch, the second is a (bidirectional) ring, and the third is<br>fully interconnected, with a wire from every node to every other node. What are the<br>best-, average-, and worst-case transmission paths in hops?</li>
</ol>
<p>The three networks have the following properties:<br>Star: best case &#x3D; 2, average case &#x3D; 2, worst case &#x3D; 2.<br>Ring: best case &#x3D; 1, average case &#x3D; n&#x2F;4, worst case &#x3D; n&#x2F;2.<br>Full interconnect: best case &#x3D; 1, average case &#x3D; 1, worst case &#x3D; 1.</p>
<hr>
<ol start="15">
<li>A bit stream 10011101 is transmitted using the standard CRC method described in the<br>text. The generator polynomial is x 3 + 1. Show the actual bit string transmitted. Suppose<br>that the third bit from the left is inverted during transmission. Show that this<br>error is detected at the receiver’s end. Give an example of bit errors in the bit string<br>transmitted that will not be detected by the receiver.</li>
</ol>
<p>The frame is 10011101. The generator is 1001. The message after appending<br>three zeros is 10011101000. The remainder on dividing 10011101000 by<br>1001 is 100. So, the actual bit string transmitted is 10011101100. The received<br>bit stream with an error in the third bit from the left is 10111101100.<br>Dividing this by 1001 produces a remainder of 100, which is different from 0.<br>Thus, the receiver detects the error and can ask for a retransmission. If the<br>14 PROBLEM SOLUTIONS FOR CHAPTER 3<br>transmitted bit stream is converted to any multiple of 1001, the error will not<br>be detected. A trivial example is if all ones in the bit stream are inverted to<br>zeros.</p>
<p><a target="_blank" rel="noopener" href="https://www.gatevidyalay.com/cyclic-redundancy-check-crc-error-detection/">https://www.gatevidyalay.com/cyclic-redundancy-check-crc-error-detection/</a></p>
<hr>
<ol start="16">
<li>Give at least one reason why PPP uses byte stuffing instead of bit stuffing to prevent<br>accidental flag bytes within the payload from causing confusion.</li>
</ol>
<p>PPP was clearly <strong>designed to be implemented in software</strong>, not in hardware as<br>bit-stuffing protocols such as HDLC nearly always are. With a software implementation,<br>working entirely with bytes is <strong>much simpler</strong> than working with<br>individual bits. </p>
<p>In addition, PPP was <strong>designed to be used with modems</strong>, and<br>modems <strong>accept and transmit data in units of 1 byte, not 1 bit</strong>.</p>
<hr>
<ol start="17">
<li>Consider the delay of pure ALOHA versus slotted ALOHA at low load. Which one is<br>less? Explain your answer.</li>
</ol>
<p>With pure ALOHA, transmission can start instantly. <strong>At low load, no collisions</strong><br><strong>are expected</strong> so the transmission is likely to be successful. With slotted<br>ALOHA, it has to wait for the next slot. This introduces half a slot time of<br>delay.</p>
<hr>
<ol start="18">
<li>What is the <strong>baud rate</strong> of classic 10-Mbps Ethernet?</li>
</ol>
<p>Classic Ethernet uses Manchester encoding, which means it has <strong>two signal</strong><br><strong>periods per bit sent</strong>. The <strong>data rate</strong> is 10 Mbps, so the <strong>baud rate is twice that</strong>,<br>or <strong>20 megabaud</strong>.</p>
<p>Baud rate is <strong>the measure of the number of changes to the signal (per second) that propagate through a transmission medium</strong>.</p>
<p>IPG: 9.6 microsecond</p>
<p>Maximum throughput: 10,000,000 &#x2F; (96 + (8+64)*8) &#x3D; 10, 000, 000 &#x2F; 672</p>
<hr>
<ol start="19">
<li>Sketch the Manchester encoding on a classic Ethernet for the bit stream 0001110101.</li>
</ol>
<p>The signal is a square wave with two values, high (H) and low (L). The pattern<br>is LHLHLHHLHLHLLHHLLHHL.</p>
<p><strong>0: LH</strong></p>
<p><strong>1: HL</strong></p>
<hr>
<ol start="20">
<li>An IP packet to be transmitted by Ethernet is 60 bytes long, including all its headers.<br>If LLC is not in use, is padding needed in the Ethernet frame, and if so, how many<br>bytes?</li>
</ol>
<p>The minimum Ethernet frame is 64 bytes, including both addresses in the<br>Ethernet frame header, the type&#x2F;length field, and the checksum. Since the<br>header fields occupy 18 bytes and the packet is 60 bytes, the <strong>total frame size</strong><br><strong>is 78 bytes, which exceeds the 64-byte minimum</strong>. Therefore, no padding is<br>used.</p>
<hr>
<ol start="21">
<li>Some books quote the maximum size of an Ethernet frame as 1522 bytes instead of<br>1500 bytes. Are they wrong? Explain your answer.</li>
</ol>
<p>The payload is 1500 bytes, but when the destination address, source address,<br>type&#x2F;length, and checksum fields are counted, plus the <strong>VLAN header</strong>, the<br>total is indeed 1522. Prior to VLANs, the total was 1518.</p>
<p><strong>Maximum VLAN node: 4096-2 &#x3D; 4094</strong></p>
<hr>
<ol start="22">
<li>Name two networks that allow <strong>frames to be packed back-to-back</strong>. Why is this feature<br>worth having?</li>
</ol>
<p><strong>Gigabit Ethernet</strong> has it and so does 802.16 (<strong>IEEE 802.16</strong> is a series of wireless broadband standards).<br>It is useful for <strong>bandwidth efficiency (one preamble</strong>, etc.) but also when there is <strong>a lower limit on frame size</strong>.</p>
<hr>
<ol start="23">
<li>Give two reasons why networks might use an error-correcting code instead of error<br>detection and retransmission.</li>
</ol>
<p>One reason is the need for <strong>real-time quality of service</strong>. If an error is discovered,<br>there is no time for a retransmission. The show must go on. Forward<br>error correction can be used here. Another reason is that <strong>on very low-quality</strong><br><strong>lines (e.g., wireless channels)</strong>, the <strong>error rate can be so high</strong> that practically all<br>frames would have to be retransmitted, and the retransmissions would probably<br>damaged as well. To avoid this, forward error correction is used to <strong>increase</strong><br><strong>the fraction of frames that arrive correctly</strong>.</p>
<hr>
<ol start="24">
<li>List two ways in which WiMAX is similar to 802.11, and two ways in which it is different<br>from 802.11.</li>
</ol>
<p>Like 802.11, WiMAX <strong>wirelessly connects devices</strong>, including mobile devices<br>to the Internet at Mbps speeds. Also, like 802.11, WiMAX is based on<br><strong>OFDM and MIMO</strong> technologies. </p>
<p>However, unlike 802.11, WiMAX <strong>base stations</strong><br><strong>are much more powerful than 802.11 access points</strong>. Also, transmissions<br>in WiMAX are <strong>carefully scheduled by the base station</strong> for each subscriber<br>without any possibility of collisions unlike CSMA&#x2F;CA used in 802.11.</p>
<p>–</p>
<ol start="25">
<li>List some of the security concerns of an RFID system.</li>
</ol>
<p>One key security concern is <strong>unauthorized tracking of RFID tags</strong>. An adversary<br>with an appropriate RFID reader can track the locations of the items<br>tagged using RFID tags. This becomes quite serious if the item is sensitive in<br>nature, for example, a passport, and the tag can be used to retrieve further<br>information, for example, the nationality and other personal information of<br>the person holding the passport.</p>
<p>Another security concern is the ability of a<br>reader to <strong>change tag information</strong>. This can be used by an adversary to, for example,<br>change the price of a tagged item he plans to buy.</p>
<p>–</p>
<ol start="26">
<li>Store-and-forward switches have an advantage over cut-through switches with respect<br>to damaged frames. Explain what it is.</li>
</ol>
<p>Store-and-forward switches <strong>store entire frames before forwarding them</strong>.<br>After a frame comes in, the checksum can be verified. If the frame is damaged,<br>it is discarded immediately. With cut-through, damaged frames cannot<br>be discarded by the switch because <strong>by the time the error is detected, the frame</strong><br><strong>is already gone.</strong> Trying to deal with the problem is like locking the barn door<br>after the horse has escaped. </p>
<p><strong>forward corrupted frames</strong></p>
<hr>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://invincible-nerd.github.io/2023/02/05/Weekly-Contest/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="invincible-nerd">
      <meta itemprop="description" content="For explorer everywhere">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IVN">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/05/Weekly-Contest/" class="post-title-link" itemprop="url">Weekly_Contest</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-05 22:33:11" itemprop="dateCreated datePublished" datetime="2023-02-05T22:33:11+08:00">2023-02-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-09-19 08:32:27" itemprop="dateModified" datetime="2023-09-19T08:32:27+08:00">2023-09-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index"><span itemprop="name">LeetCode</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>22k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>20 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="周赛好题"><a href="#周赛好题" class="headerlink" title="周赛好题"></a>周赛好题</h1><h2 id="2561-Rearranging-Fruits"><a href="#2561-Rearranging-Fruits" class="headerlink" title="2561. Rearranging Fruits"></a>2561. Rearranging Fruits</h2><p>how should we swap to minimize the cost?</p>
<ul>
<li><p>swap directly, or</p>
</li>
<li><p>swap indirectly</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">minCost</span><span class="params">(<span class="type">int</span>[] basket1, <span class="type">int</span>[] basket2)</span> &#123;</span><br><span class="line">    Map&lt;Integer,Integer&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> num : basket1) &#123;</span><br><span class="line">        map.put(num,map.getOrDefault(num,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> num : basket2) &#123;</span><br><span class="line">        map.put(num,map.getOrDefault(num,<span class="number">0</span>)-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;Integer&gt; last=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (Integer key : map.keySet()) &#123;</span><br><span class="line">        <span class="type">int</span> val=map.get(key);</span><br><span class="line">        <span class="keyword">if</span>((val&amp;<span class="number">1</span>)==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; Math.abs(val) / <span class="number">2</span>; i++) &#123;</span><br><span class="line">            last.add(key);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> min=Math.min(Arrays.stream(basket1).min().getAsInt()</span><br><span class="line">            , Arrays.stream(basket2).min().getAsInt());</span><br><span class="line">    Collections.sort(last);</span><br><span class="line">    <span class="type">long</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; last.size()/<span class="number">2</span>; i++) &#123;</span><br><span class="line">        res+=Math.min(last.get(i),<span class="number">2</span>*min);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2563-Count-the-Number-of-Fair-Pairs"><a href="#2563-Count-the-Number-of-Fair-Pairs" class="headerlink" title="2563. Count the Number of Fair Pairs"></a>2563. Count the Number of Fair Pairs</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">countFairPairs</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> lower, <span class="type">int</span> upper)</span> &#123;</span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    <span class="keyword">return</span> count(nums,upper)-count(nums,lower-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="title function_">count</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> upper)</span>&#123;</span><br><span class="line">    <span class="comment">//count pairs &lt;= upper</span></span><br><span class="line">    <span class="type">long</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> left=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> right=nums.length-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="comment">//[left+1,right]</span></span><br><span class="line">        <span class="keyword">if</span>(nums[left]+nums[right]&lt;=upper)&#123;</span><br><span class="line">            count+=right-left;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2576-Find-the-Maximum-Number-of-Marked-Indices"><a href="#2576-Find-the-Maximum-Number-of-Marked-Indices" class="headerlink" title="2576. Find the Maximum Number of Marked Indices"></a>2576. Find the Maximum Number of Marked Indices</h2><p>ChatGPT?? 不如Contest 2100!</p>
<p>greedy:</p>
<ol>
<li>较小数从0开始，较大数从(n+1)&#x2F;2开始</li>
<li>原则：<ol>
<li>较小的较小数应该由较小的较大数来满足</li>
<li>越小的较小数越容易被满足，应该优先满足它</li>
</ol>
</li>
<li>algorithm: <ol>
<li>若当前较小数能被当前较大数满足，则left++,right++（因为该较大数不能再用了）</li>
<li>否则，right++,换更大的较大数来满足</li>
<li>return 被满足的较小数总数*2</li>
</ol>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxNumOfMarkedIndices</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    <span class="type">int</span> f=<span class="number">0</span>,s=(n+<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">while</span>(s&lt;n)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[f]*<span class="number">2</span>&lt;=nums[s])</span><br><span class="line">            f++;</span><br><span class="line">        s++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f*<span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxNumOfMarkedIndices</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    <span class="type">int</span> s=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> b=(n+<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">while</span>(b&lt;n)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[s]*<span class="number">2</span>&lt;=nums[b])&#123;</span><br><span class="line">            s++;</span><br><span class="line">        &#125;</span><br><span class="line">        b++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s*<span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2577-Minimum-Time-to-Visit-a-Cell-In-a-Grid"><a href="#2577-Minimum-Time-to-Visit-a-Cell-In-a-Grid" class="headerlink" title="2577. Minimum Time to Visit a Cell In a Grid"></a>2577. Minimum Time to Visit a Cell In a Grid</h2><p>注意：</p>
<ul>
<li>只要第一步能走出去，路就能走通！</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minimumTime</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">    <span class="type">int</span> row=grid.length;</span><br><span class="line">    <span class="type">int</span> col=grid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">if</span>(grid[<span class="number">0</span>][<span class="number">1</span>]&gt;<span class="number">1</span> &amp;&amp; grid[<span class="number">1</span>][<span class="number">0</span>]&gt;<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span>[] dx=<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,-<span class="number">1</span>&#125;;</span><br><span class="line">    <span class="type">int</span>[] dy=<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">1</span>,-<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">    PriorityQueue&lt;<span class="type">int</span>[]&gt; pq=<span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((a,b)-&gt;(a[<span class="number">2</span>]-b[<span class="number">2</span>]));</span><br><span class="line">    <span class="type">boolean</span>[][] visited=<span class="keyword">new</span> <span class="title class_">boolean</span>[row][col];</span><br><span class="line">    pq.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;);</span><br><span class="line">    visited[<span class="number">0</span>][<span class="number">0</span>]=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">while</span>(!pq.isEmpty())&#123;</span><br><span class="line">        <span class="type">int</span>[] cur=pq.poll();</span><br><span class="line">        <span class="type">int</span> i=cur[<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> j=cur[<span class="number">1</span>];</span><br><span class="line">        <span class="type">int</span> t=cur[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">if</span>(i==row-<span class="number">1</span> &amp;&amp; j==col-<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> t;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> x,y;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; <span class="number">4</span>; k++) &#123;</span><br><span class="line">            x=i+dx[k];</span><br><span class="line">            y=j+dy[k];</span><br><span class="line">            <span class="keyword">if</span>(x&lt;<span class="number">0</span> || x&gt;=row || y&lt;<span class="number">0</span> || y&gt;=col || visited[x][y])&#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//for every point, only consider first/fastest arrival</span></span><br><span class="line">            visited[x][y]=<span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(t+<span class="number">1</span>&gt;=grid[x][y])&#123;</span><br><span class="line">                pq.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;x,y,t+<span class="number">1</span>&#125;);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">//can always move back and forth to wait</span></span><br><span class="line">                <span class="type">int</span> diff=grid[x][y]-t;</span><br><span class="line">                <span class="keyword">if</span>(diff%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="comment">//need to add 1 more time, since (back and forth)s</span></span><br><span class="line">                    <span class="comment">//take 2n time, n&gt;=1</span></span><br><span class="line">                    pq.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;x,y,grid[x][y]+<span class="number">1</span>&#125;);</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    pq.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;x,y,grid[x][y]&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2589-Minimum-Time-to-Complete-All-Tasks"><a href="#2589-Minimum-Time-to-Complete-All-Tasks" class="headerlink" title="2589. Minimum Time to Complete All Tasks"></a>2589. Minimum Time to Complete All Tasks</h2><p>注意：</p>
<ol>
<li>It is always beneficial to run the task as late as possible so that later tasks can run simultaneously.</li>
<li>Since there are only up to 2000 time points to consider, you can check them one by one</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findMinimumTime</span><span class="params">(<span class="type">int</span>[][] tasks)</span> &#123;</span><br><span class="line">    Set&lt;Integer&gt; set=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    Arrays.sort(tasks,(a,b)-&gt;(a[<span class="number">1</span>]-b[<span class="number">1</span>]));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span>[] task : tasks) &#123;</span><br><span class="line">        <span class="type">int</span> start=task[<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> end=task[<span class="number">1</span>];</span><br><span class="line">        <span class="type">int</span> i=task[<span class="number">1</span>];</span><br><span class="line">        <span class="type">int</span> d=task[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=start; j&lt;=end; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(set.contains(j))&#123;</span><br><span class="line">                d--;</span><br><span class="line">                <span class="keyword">if</span>(d==<span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(d&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!set.contains(i))&#123;</span><br><span class="line">                set.add(i--);</span><br><span class="line">                d--;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                i--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> set.size();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2597-The-Number-of-Beautiful-Subsets"><a href="#2597-The-Number-of-Beautiful-Subsets" class="headerlink" title="2597. The Number of Beautiful Subsets"></a>2597. The Number of Beautiful Subsets</h2><p>注意：</p>
<ul>
<li>此思路有bug</li>
<li>若nums为 [1,1,1]，则remove后，unchoose开始时set为空，存在漏算情况！</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//wrong!</span></span><br><span class="line">Set&lt;Integer&gt; set=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line"><span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">beautifulSubsets</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    backtracking(nums,<span class="number">0</span>,k);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">backtracking</span><span class="params">(<span class="type">int</span>[] nums ,<span class="type">int</span> cur, <span class="type">int</span> k)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(cur==nums.length)&#123;</span><br><span class="line">        <span class="keyword">if</span>(set.size()&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            res++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//choose</span></span><br><span class="line">    <span class="keyword">if</span>(!set.contains(nums[cur]-k) &amp;&amp; !set.contains(nums[cur]+k))&#123;</span><br><span class="line">        set.add(nums[cur]);</span><br><span class="line">        backtracking(nums,cur+<span class="number">1</span>,k);</span><br><span class="line">        set.remove(nums[cur]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//unchoose</span></span><br><span class="line">    backtracking(nums,cur+<span class="number">1</span>,k);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li><p>不sort不行！反例：</p>
</li>
<li><p>**[18, 12, 10, 5, 6, 2, 18, 3] **</p>
</li>
<li><p><strong>8</strong></p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;Integer&gt; set=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">beautifulSubsets</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    <span class="keyword">return</span> backtracking(nums,<span class="number">0</span>,k);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">backtracking</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> cur, <span class="type">int</span> k)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(cur==nums.length)&#123;</span><br><span class="line">        <span class="keyword">return</span> set.size()&gt;<span class="number">0</span> ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> unchoose=backtracking(nums,cur+<span class="number">1</span>,k);</span><br><span class="line">    <span class="type">int</span> choose=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(!set.contains(nums[cur]-k))&#123;</span><br><span class="line">        set.add(nums[cur]);</span><br><span class="line">        choose=backtracking(nums,cur+<span class="number">1</span>,k);</span><br><span class="line">        set.remove(nums[cur]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> choose+unchoose;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>还有dp解法：</p>
<h2 id="2602-Minimum-Operations-to-Make-All-Array-Elements-Equal"><a href="#2602-Minimum-Operations-to-Make-All-Array-Elements-Equal" class="headerlink" title="2602. Minimum Operations to Make All Array Elements Equal"></a>2602. Minimum Operations to Make All Array Elements Equal</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Long&gt; <span class="title function_">minOperations</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span>[] queries)</span> &#123;</span><br><span class="line">    List&lt;Long&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    <span class="type">long</span>[] prefix=<span class="keyword">new</span> <span class="title class_">long</span>[n+<span class="number">1</span>]; <span class="comment">//sum of [0,i-1]</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        prefix[i]=prefix[i-<span class="number">1</span>]+nums[i-<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> query : queries) &#123;</span><br><span class="line">        <span class="type">int</span> i=leftSearch(nums,query);</span><br><span class="line">        <span class="comment">//[0,i-1]   i   prefix[i]</span></span><br><span class="line">        <span class="comment">//[i,n-1]   n-i     prefix[n] - prefix[i]</span></span><br><span class="line">        <span class="type">long</span> sum=(<span class="type">long</span>)query*i-prefix[i];</span><br><span class="line">        sum+=prefix[n]-prefix[i]-(<span class="type">long</span>)query*(n-i);</span><br><span class="line">        res.add(sum);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">leftSearch</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> query)</span>&#123;</span><br><span class="line">    <span class="comment">//find the smallest i where nums[i] &gt;=query</span></span><br><span class="line">    <span class="comment">//if to insert query, it will be placed at i</span></span><br><span class="line">    <span class="type">int</span> left=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> right=nums.length;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="comment">//[left,right)</span></span><br><span class="line">        <span class="type">int</span> mid=(left+right)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid]&lt;query)&#123;</span><br><span class="line">            left=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            right=mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2614-Prime-In-Diagonal"><a href="#2614-Prime-In-Diagonal" class="headerlink" title="2614. Prime In Diagonal"></a>2614. Prime In Diagonal</h2><p>送分题也会翻车啊！！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">diagonalPrime</span><span class="params">(<span class="type">int</span>[][] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="comment">//(i,i), (i,n-i-1)</span></span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(isPrime(nums[i][i]))&#123;</span><br><span class="line">            res=Math.max(res,nums[i][i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(isPrime(nums[i][n-i-<span class="number">1</span>]))&#123;</span><br><span class="line">            res=Math.max(res,nums[i][n-i-<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">isPrime</span><span class="params">(<span class="type">int</span> num)</span>&#123;</span><br><span class="line">   	<span class="comment">//再简单的edge case也不能忘记考虑</span></span><br><span class="line">    <span class="keyword">if</span>(num==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(num==<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>; i&lt;=Math.sqrt(num); i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(num%i==<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2615-Sum-of-Distances"><a href="#2615-Sum-of-Distances" class="headerlink" title="2615. Sum of Distances"></a>2615. Sum of Distances</h2><p>压哨绝杀失败！！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">long</span>[] distance(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="type">long</span>[] res=<span class="keyword">new</span> <span class="title class_">long</span>[n];</span><br><span class="line">    Map&lt;Integer,List&lt;Integer&gt;&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        map.putIfAbsent(nums[i],<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">        map.get(nums[i]).add(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//[0,2,3,5]</span></span><br><span class="line">    <span class="keyword">for</span> (Integer num : map.keySet()) &#123;</span><br><span class="line">        List&lt;Integer&gt; list=map.get(num);</span><br><span class="line">        <span class="type">int</span> len=list.size();</span><br><span class="line">        <span class="type">long</span>[] arr=<span class="keyword">new</span> <span class="title class_">long</span>[len+<span class="number">1</span>];<span class="comment">//sum of [0,i-1]</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= len; i++) &#123;</span><br><span class="line">            arr[i]=arr[i-<span class="number">1</span>]+list.get(i-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//[0,0,2,5,8]</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="type">int</span> idx=list.get(i);</span><br><span class="line">            <span class="comment">//[0,i-1]</span></span><br><span class="line">            <span class="comment">//[i+1,len-1]</span></span><br><span class="line">            <span class="type">long</span> a=i==<span class="number">0</span> ? <span class="number">0</span> : (<span class="type">long</span>)i*idx-arr[i];</span><br><span class="line">            <span class="type">long</span> b=i==len-<span class="number">1</span> ? <span class="number">0</span> : arr[len]-arr[i+<span class="number">1</span>]-(<span class="type">long</span>)(len-i-<span class="number">1</span>)*idx;</span><br><span class="line">            res[idx]=a+b;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2645-Minimum-Additions-to-Make-Valid-String"><a href="#2645-Minimum-Additions-to-Make-Valid-String" class="headerlink" title="2645. Minimum Additions to Make Valid String"></a>2645. Minimum Additions to Make Valid String</h2><p>在2个string上玩two pointer，好题！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">addMinimum</span><span class="params">(String word)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=word.length();</span><br><span class="line">    String s=<span class="string">&quot;abc&quot;</span>;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> idx=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">char</span> c=word.charAt(i);</span><br><span class="line">        <span class="keyword">while</span>(c!=s.charAt(idx))&#123;</span><br><span class="line">            res++;</span><br><span class="line">            idx=(idx+<span class="number">1</span>)%<span class="number">3</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        idx=(idx+<span class="number">1</span>)%<span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//0 : ok</span></span><br><span class="line">    <span class="comment">//1 : +2</span></span><br><span class="line">    <span class="comment">//2 : +1</span></span><br><span class="line">    <span class="keyword">if</span>(idx!=<span class="number">0</span>)&#123;</span><br><span class="line">        res+=<span class="number">3</span>-idx;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2653-Sliding-Subarray-Beauty"><a href="#2653-Sliding-Subarray-Beauty" class="headerlink" title="2653. Sliding Subarray Beauty"></a>2653. Sliding Subarray Beauty</h2><p>当直接法不好处理时，考虑换个角度</p>
<p>注意：<code>-50 &lt;= nums[i] &lt;= 50 </code></p>
<h3 id="法一：Simple-Counting"><a href="#法一：Simple-Counting" class="headerlink" title="法一：Simple Counting"></a>法一：Simple Counting</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] getSubarrayBeauty(<span class="type">int</span>[] nums, <span class="type">int</span> k, <span class="type">int</span> x) &#123;</span><br><span class="line">    <span class="type">int</span>[] count=<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">50</span>]; <span class="comment">//0: -50, 1:-49, .., 49:-1</span></span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="type">int</span>[] res=<span class="keyword">new</span> <span class="title class_">int</span>[n-k+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[i]&lt;<span class="number">0</span>)&#123;</span><br><span class="line">            count[nums[i]+<span class="number">50</span>]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//k-1,n-1</span></span><br><span class="line">        <span class="keyword">if</span>(i&lt;k-<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(i-k&gt;=<span class="number">0</span> &amp;&amp; nums[i-k]&lt;<span class="number">0</span>)&#123;</span><br><span class="line">            count[nums[i-k]+<span class="number">50</span>]--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//[i-k+1,i]</span></span><br><span class="line">        <span class="type">int</span> t=<span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> j=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (; j &lt; <span class="number">50</span>; j++) &#123;</span><br><span class="line">            t+=count[j];</span><br><span class="line">            <span class="keyword">if</span>(t&gt;=x)&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(t&gt;=x)&#123;</span><br><span class="line">            res[i-k+<span class="number">1</span>]=j-<span class="number">50</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="法二：TreeMap"><a href="#法二：TreeMap" class="headerlink" title="法二：TreeMap"></a>法二：TreeMap</h3><p>思路同上，但慢得多</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] getSubarrayBeauty(<span class="type">int</span>[] nums, <span class="type">int</span> k, <span class="type">int</span> x) &#123;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="type">int</span>[] res=<span class="keyword">new</span> <span class="title class_">int</span>[n-k+<span class="number">1</span>];</span><br><span class="line">    TreeMap&lt;Integer,Integer&gt; min=<span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[i]&lt;<span class="number">0</span>)&#123;</span><br><span class="line">            min.put(nums[i],min.getOrDefault(nums[i],<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//[i-k+1,i]</span></span><br><span class="line">        <span class="keyword">if</span>(i-k&gt;=<span class="number">0</span> &amp;&amp; nums[i-k]&lt;<span class="number">0</span>)&#123;</span><br><span class="line">            min.put(nums[i-k],min.get(nums[i-k])-<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span>(min.get(nums[i-k])==<span class="number">0</span>)&#123;</span><br><span class="line">                min.remove(nums[i-k]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(i-k+<span class="number">1</span>&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="type">int</span> t=<span class="number">0</span>;</span><br><span class="line">            <span class="type">int</span> v=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (Integer val : min.keySet()) &#123;</span><br><span class="line">                t+=min.get(val);</span><br><span class="line">                v=val;</span><br><span class="line">                <span class="keyword">if</span>(t&gt;=x)&#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(t&gt;=x)&#123;</span><br><span class="line">                res[i-k+<span class="number">1</span>]=v;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2654-Minimum-Number-of-Operations-to-Make-All-Array-Elements-Equal-to-1"><a href="#2654-Minimum-Number-of-Operations-to-Make-All-Array-Elements-Equal-to-1" class="headerlink" title="2654. Minimum Number of Operations to Make All Array Elements Equal to 1"></a>2654. Minimum Number of Operations to Make All Array Elements Equal to 1</h2><p>codeforce经典题库</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minOperations</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="type">int</span> res=Integer.MAX_VALUE;</span><br><span class="line">    <span class="type">int</span> ones=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> g=nums[i];</span><br><span class="line">        <span class="keyword">if</span>(g==<span class="number">1</span>)&#123;</span><br><span class="line">            ones++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i+<span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">            g=gcd(g,nums[j]);</span><br><span class="line">            <span class="keyword">if</span>(g==<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="comment">//j-i steps to get a 1</span></span><br><span class="line">                <span class="comment">//n-1 steps to make all others 1</span></span><br><span class="line">                res=Math.min(res,j-i+n-<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(ones&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        res=n-ones;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res==Integer.MAX_VALUE ? -<span class="number">1</span> : res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">gcd</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>&#123;</span><br><span class="line">    <span class="comment">//4 3</span></span><br><span class="line">    <span class="comment">//3 1</span></span><br><span class="line">    <span class="comment">//1 0</span></span><br><span class="line">    <span class="keyword">if</span>(a&lt;b)&#123;</span><br><span class="line">        <span class="keyword">return</span> gcd(b,a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(b!=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="type">int</span> temp=b;</span><br><span class="line">        b=a%b;</span><br><span class="line">        a=temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2662-Minimum-Cost-of-a-Path-With-Special-Roads"><a href="#2662-Minimum-Cost-of-a-Path-With-Special-Roads" class="headerlink" title="2662. Minimum Cost of a Path With Special Roads"></a>2662. Minimum Cost of a Path With Special Roads</h2><p>dijkstra</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minimumCost</span><span class="params">(<span class="type">int</span>[] start, <span class="type">int</span>[] target, <span class="type">int</span>[][] specialRoads)</span> &#123;</span><br><span class="line">    <span class="comment">//Memory Limit Exceeded</span></span><br><span class="line">           <span class="type">int</span>[][] dist=<span class="keyword">new</span> <span class="title class_">int</span>[target[<span class="number">0</span>]+<span class="number">1</span>][target[<span class="number">1</span>]+<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    PriorityQueue&lt;<span class="type">int</span>[]&gt; q=<span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((a,b)-&gt;(a[<span class="number">2</span>]-b[<span class="number">2</span>]));</span><br><span class="line"></span><br><span class="line">    q.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;start[<span class="number">0</span>],start[<span class="number">1</span>],<span class="number">0</span>&#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(!q.isEmpty())&#123;</span><br><span class="line">        <span class="type">int</span>[] cur=q.poll();</span><br><span class="line">        <span class="type">int</span> i=cur[<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> j=cur[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span>(i==target[<span class="number">0</span>] &amp;&amp; j==target[<span class="number">1</span>])&#123;</span><br><span class="line">            <span class="keyword">return</span> cur[<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        q.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;target[<span class="number">0</span>],target[<span class="number">1</span>],cur[<span class="number">2</span>]+target[<span class="number">0</span>]+target[<span class="number">1</span>]-i-j&#125;);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] arr : specialRoads) &#123;</span><br><span class="line">            <span class="type">int</span> x1=arr[<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> y1=arr[<span class="number">1</span>];</span><br><span class="line">            <span class="type">int</span> x2=arr[<span class="number">2</span>];</span><br><span class="line">            <span class="type">int</span> y2=arr[<span class="number">3</span>];</span><br><span class="line">            <span class="type">int</span> cost=cur[<span class="number">2</span>]+Math.abs(x1-i)+Math.abs(y1-j)+arr[<span class="number">4</span>];</span><br><span class="line">            <span class="keyword">if</span>(dist[x2][y2]==<span class="number">0</span> || dist[x2][y2]&gt;cost)&#123;</span><br><span class="line">                dist[x2][y2]=cost;</span><br><span class="line">                q.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;x2,y2,cost&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dist[target[<span class="number">0</span>]][target[<span class="number">1</span>]]; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>其实priority可以保证第一次到达某一点既是最短路径，无需额外的dist数组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minimumCost</span><span class="params">(<span class="type">int</span>[] start, <span class="type">int</span>[] target, <span class="type">int</span>[][] specialRoads)</span> &#123;</span><br><span class="line">    Map&lt;Integer, HashSet&lt;Integer&gt;&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    PriorityQueue&lt;<span class="type">int</span>[]&gt; pq=<span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((a,b)-&gt;(a[<span class="number">2</span>]-b[<span class="number">2</span>]));</span><br><span class="line">    pq.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;start[<span class="number">0</span>],start[<span class="number">1</span>],<span class="number">0</span>&#125;);</span><br><span class="line">    <span class="type">int</span> tx=target[<span class="number">0</span>];</span><br><span class="line">    <span class="type">int</span> ty=target[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">while</span>(!pq.isEmpty())&#123;</span><br><span class="line">        <span class="type">int</span>[] cur=pq.poll();</span><br><span class="line">        <span class="type">int</span> i=cur[<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> j=cur[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span>(i==tx &amp;&amp; j==ty)&#123;</span><br><span class="line">            <span class="keyword">return</span> cur[<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//already reach this point before (by shorter dist)</span></span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(i) &amp;&amp; map.get(i).contains(j))&#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        map.putIfAbsent(i,<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;());</span><br><span class="line">        map.get(i).add(j);</span><br><span class="line">        <span class="comment">//reach target directly</span></span><br><span class="line">        pq.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;tx,ty,cur[<span class="number">2</span>]+tx+ty-i-j&#125;);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] arr : specialRoads) &#123;</span><br><span class="line">            <span class="type">int</span> x1=arr[<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> y1=arr[<span class="number">1</span>];</span><br><span class="line">            <span class="type">int</span> x2=arr[<span class="number">2</span>];</span><br><span class="line">            <span class="type">int</span> y2=arr[<span class="number">3</span>];</span><br><span class="line">            <span class="comment">//try to use this specialRoad</span></span><br><span class="line">            <span class="comment">//if the end of this specialRoad has already been reached,</span></span><br><span class="line">            <span class="comment">//then a shorter path to the end has been found,</span></span><br><span class="line">            <span class="comment">//no need to consider</span></span><br><span class="line">            <span class="keyword">if</span>(map.containsKey(x2) &amp;&amp; map.get(x2).contains(y2))&#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> cost=cur[<span class="number">2</span>]+Math.abs(x1-i)+Math.abs(y1-j)+arr[<span class="number">4</span>];</span><br><span class="line">            pq.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;x2,y2,cost&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2712-Minimum-Cost-to-Make-All-Characters-Equal"><a href="#2712-Minimum-Cost-to-Make-All-Characters-Equal" class="headerlink" title="2712. Minimum Cost to Make All Characters Equal"></a>2712. Minimum Cost to Make All Characters Equal</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">minimumCost</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="type">long</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> n=s.length();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(s.charAt(i)!=s.charAt(i-<span class="number">1</span>))&#123;</span><br><span class="line">            <span class="comment">//i-1,i is different</span></span><br><span class="line">            <span class="comment">//either flip [0,i-1] or flip [i,n-1]</span></span><br><span class="line">            <span class="comment">// to make i-1, i the same</span></span><br><span class="line">            <span class="comment">//after flipping, won&#x27;t affect following or previous status</span></span><br><span class="line">            res+=Math.min(i,n-i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2713-Maximum-Strictly-Increasing-Cells-in-a-Matrix"><a href="#2713-Maximum-Strictly-Increasing-Cells-in-a-Matrix" class="headerlink" title="2713. Maximum Strictly Increasing Cells in a Matrix"></a>2713. Maximum Strictly Increasing Cells in a Matrix</h2><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/maximum-strictly-increasing-cells-in-a-matrix/discuss/3570203/Longest-Path-in-C%2B%2B-Java-and-Python">https://leetcode.com/problems/maximum-strictly-increasing-cells-in-a-matrix/discuss/3570203/Longest-Path-in-C%2B%2B-Java-and-Python</a></p>
<p>新题型：longest path</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxIncreasingCells</span><span class="params">(<span class="type">int</span>[][] mat)</span> &#123;</span><br><span class="line">    <span class="type">int</span> row=mat.length;</span><br><span class="line">    <span class="type">int</span> col=mat[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">//val -&gt; coordinates</span></span><br><span class="line">    TreeMap&lt;Integer, List&lt;<span class="type">int</span>[]&gt;&gt; map=<span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span>[] rows=<span class="keyword">new</span> <span class="title class_">int</span>[row];<span class="comment">//maximum existing path length ending with this row&#x27;s point</span></span><br><span class="line">    <span class="type">int</span>[] cols=<span class="keyword">new</span> <span class="title class_">int</span>[col];<span class="comment">//maximum existing path length ending with this col&#x27;s point</span></span><br><span class="line">    <span class="type">int</span>[][] temp=<span class="keyword">new</span> <span class="title class_">int</span>[row][col];<span class="comment">//maximum existing path ending with this point</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">            map.putIfAbsent(mat[i][j],<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">            map.get(mat[i][j]).add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;i,j&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (Integer val : map.keySet()) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] arr : map.get(val)) &#123;</span><br><span class="line">            temp[arr[<span class="number">0</span>]][arr[<span class="number">1</span>]]=Math.max(rows[arr[<span class="number">0</span>]],cols[arr[<span class="number">1</span>]])+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] arr : map.get(val)) &#123;</span><br><span class="line">            rows[arr[<span class="number">0</span>]]=Math.max(rows[arr[<span class="number">0</span>]],temp[arr[<span class="number">0</span>]][arr[<span class="number">1</span>]]);</span><br><span class="line">            cols[arr[<span class="number">1</span>]]=Math.max(cols[arr[<span class="number">1</span>]],temp[arr[<span class="number">0</span>]][arr[<span class="number">1</span>]]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i : rows) &#123;</span><br><span class="line">        res=Math.max(res,i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i : cols) &#123;</span><br><span class="line">        res=Math.max(res,i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2718-Sum-of-Matrix-After-Queries"><a href="#2718-Sum-of-Matrix-After-Queries" class="headerlink" title="2718. Sum of Matrix After Queries"></a>2718. Sum of Matrix After Queries</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">matrixSumQueries</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[][] queries)</span> &#123;</span><br><span class="line">    <span class="type">long</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="type">boolean</span>[] rows=<span class="keyword">new</span> <span class="title class_">boolean</span>[n];</span><br><span class="line">    <span class="type">boolean</span>[] cols=<span class="keyword">new</span> <span class="title class_">boolean</span>[n];</span><br><span class="line">    <span class="type">int</span> rowRemaining=n;</span><br><span class="line">    <span class="type">int</span> colRemaining=n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> queries.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">if</span>(queries[i][<span class="number">0</span>]==<span class="number">0</span> &amp;&amp; !rows[queries[i][<span class="number">1</span>]])&#123;</span><br><span class="line">            rows[queries[i][<span class="number">1</span>]]=<span class="literal">true</span>;</span><br><span class="line">            res+=colRemaining*queries[i][<span class="number">2</span>];</span><br><span class="line">            rowRemaining--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(queries[i][<span class="number">0</span>]==<span class="number">1</span> &amp;&amp; !cols[queries[i][<span class="number">1</span>]])&#123;</span><br><span class="line">            cols[queries[i][<span class="number">1</span>]]=<span class="literal">true</span>;</span><br><span class="line">            res+=rowRemaining*queries[i][<span class="number">2</span>];</span><br><span class="line">            colRemaining--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2749-Minimum-Operations-to-Make-the-Integer-Zero"><a href="#2749-Minimum-Operations-to-Make-the-Integer-Zero" class="headerlink" title="2749. Minimum Operations to Make the Integer Zero"></a>2749. Minimum Operations to Make the Integer Zero</h2><p>太难！</p>
<p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/minimum-operations-to-make-the-integer-zero/discuss/3679281/JavaC%2B%2BPython-Bit-count-4-lines">https://leetcode.com/problems/minimum-operations-to-make-the-integer-zero/discuss/3679281/JavaC%2B%2BPython-Bit-count-4-lines</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// num1 = ([] + num2) *k</span></span><br><span class="line"><span class="comment">//target(k) = num1 - k*num2, target be made of k powers of 2</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">makeTheIntegerZero</span><span class="params">(<span class="type">long</span> num1, <span class="type">long</span> num2)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">1</span>; k&lt;=<span class="number">60</span>; k++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(Long.bitCount(num1-k*num2)&lt;=k &amp;&amp; k&lt;=num1-k*num2)&#123;</span><br><span class="line">            <span class="keyword">return</span> k;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2763-Sum-of-Imbalance-Numbers-of-All-Subarrays"><a href="#2763-Sum-of-Imbalance-Numbers-of-All-Subarrays" class="headerlink" title="2763. Sum of Imbalance Numbers of All Subarrays"></a>2763. Sum of Imbalance Numbers of All Subarrays</h2><p>神之一手：</p>
<ul>
<li>Increment the imbalance value whenever a new number is not adjacent (+&#x2F;- 1) to other old numbers. <ul>
<li>For example, when you add 3 to [1, 5], or when you add 5 to [1, 3]. </li>
<li>new value is <ul>
<li>(i) largest, </li>
<li>(ii) smallest, </li>
<li>(iii) between two old numbers.</li>
</ul>
</li>
</ul>
</li>
<li>Decrement the imbalance value whenever a new number is adjacent (+&#x2F;- 1) to two old numbers.<ul>
<li>The imbalance value does not change in the case of one adjacent old number.</li>
<li>For example, when you add 3 to [2, 4].</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sumImbalanceNumbers</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="type">int</span> cur=<span class="number">0</span>;</span><br><span class="line">    Set&lt;Integer&gt; set=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        set.clear();</span><br><span class="line">        set.add(nums[i]);</span><br><span class="line">        cur=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i+<span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!set.contains(nums[j]) &amp;&amp; !set.contains(nums[j]-<span class="number">1</span>) &amp;&amp; !set.contains(nums[j]+<span class="number">1</span>))&#123;</span><br><span class="line">                cur++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(!set.contains(nums[j]) &amp;&amp; set.contains(nums[j]-<span class="number">1</span>) &amp;&amp; set.contains(nums[j]+<span class="number">1</span>))&#123;</span><br><span class="line">                cur--;</span><br><span class="line">            &#125;</span><br><span class="line">            res+=cur;</span><br><span class="line">            set.add(nums[j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h2 id="2781-Length-of-the-Longest-Valid-Substring"><a href="#2781-Length-of-the-Longest-Valid-Substring" class="headerlink" title="2781. Length of the Longest Valid Substring"></a>2781. Length of the Longest Valid Substring</h2><p>Amazon最新OA</p>
<p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/length-of-the-longest-valid-substring/discuss/3771333/Picture-Short-and-Concise-Approach-Easy-to-Understand-In-depth-Explanation">https://leetcode.com/problems/length-of-the-longest-valid-substring/discuss/3771333/Picture-Short-and-Concise-Approach-Easy-to-Understand-In-depth-Explanation</a></p>
<p>思路：</p>
<ul>
<li>依然是sliding window</li>
<li>从后向前slide，确定从当前index开始的longest valid substring</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestValidSubstring</span><span class="params">(String word, List&lt;String&gt; forbidden)</span> &#123;</span><br><span class="line">    Set&lt;String&gt; set=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(forbidden);</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> n=word.length();</span><br><span class="line">    <span class="type">int</span> right=n-<span class="number">1</span>;</span><br><span class="line">    <span class="comment">//[left,right]</span></span><br><span class="line">    <span class="comment">//the previous farthest right point cannot be</span></span><br><span class="line">    <span class="comment">// surpassed by current valid substring</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> n-<span class="number">1</span>; left &gt;= <span class="number">0</span>; left--) &#123;</span><br><span class="line">        <span class="comment">//sb + append + toString 表现不如 直接substring</span></span><br><span class="line">        StringBuilder sb=<span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=left; i&lt;Math.min(left+<span class="number">10</span>,n) &amp;&amp; i&lt;=right; i++)&#123;               </span><br><span class="line">            sb.append(word.charAt(i));</span><br><span class="line">            <span class="keyword">if</span>(set.contains(sb.toString()))&#123;</span><br><span class="line">                right=i-<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        res=Math.max(res,right-left+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2791-Count-Paths-That-Can-Form-a-Palindrome-in-a-Tree"><a href="#2791-Count-Paths-That-Can-Form-a-Palindrome-in-a-Tree" class="headerlink" title="2791. Count Paths That Can Form a Palindrome in a Tree"></a>2791. Count Paths That Can Form a Palindrome in a Tree</h2><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/count-paths-that-can-form-a-palindrome-in-a-tree/discuss/3803579/Java-Solution-using-Bitmask-with-Detailed-Explanation">https://leetcode.com/problems/count-paths-that-can-form-a-palindrome-in-a-tree/discuss/3803579/Java-Solution-using-Bitmask-with-Detailed-Explanation</a></p>
<p>可以用bitmask来判断if two paths can form a palindrome path:</p>
<ul>
<li>the same or differ by 1</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">List&lt;<span class="type">int</span>[]&gt;[] graph;</span><br><span class="line">Map&lt;Integer,Integer&gt; count;</span><br><span class="line"><span class="type">int</span>[] mask;</span><br><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">countPalindromePaths</span><span class="params">(List&lt;Integer&gt; parent, String s)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=parent.size();</span><br><span class="line">    graph=<span class="keyword">new</span> <span class="title class_">List</span>[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        graph[i]=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        graph[parent.get(i)].add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;i,s.charAt(i)-<span class="string">&#x27;a&#x27;</span>&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    mask=<span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    count=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    dfs(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="type">long</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="comment">//must have at least one edge, should not consider (cur,cur)</span></span><br><span class="line">        <span class="type">long</span> freq=count.get(mask[i])-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">26</span>; j++) &#123;</span><br><span class="line">            <span class="type">int</span> newMask=mask[i]^(<span class="number">1</span>&lt;&lt;j);</span><br><span class="line">            freq+=count.getOrDefault(newMask,<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        res+=freq;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//considered (u,v) and (v,u), should halve</span></span><br><span class="line">    res/=<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> cur, <span class="type">int</span> val)</span>&#123;</span><br><span class="line">    mask[cur]=val;</span><br><span class="line">    count.put(val,count.getOrDefault(val,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span>[] arr : graph[cur]) &#123;</span><br><span class="line">        <span class="type">int</span> nextIdx=arr[<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> nextBit=arr[<span class="number">1</span>];</span><br><span class="line">        dfs(nextIdx,val^(<span class="number">1</span>&lt;&lt;nextBit));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2800-Shortest-String-That-Contains-Three-Strings"><a href="#2800-Shortest-String-That-Contains-Three-Strings" class="headerlink" title="2800. Shortest String That Contains Three Strings"></a>2800. Shortest String That Contains Three Strings</h2><p>不必给自己增加难度，既然n&#x3D;3，只考虑n&#x3D;3的特殊情况就好</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">getMinString</span><span class="params">(string a, string b)</span> </span>&#123;    <span class="comment">//compare two string with min size or if equal then return lexicographically smaller string </span></span><br><span class="line">        <span class="keyword">return</span> (a.<span class="built_in">size</span>() &lt; b.<span class="built_in">size</span>() || (a.<span class="built_in">size</span>() == b.<span class="built_in">size</span>() &amp;&amp; a &lt; b) )?a : b;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function">string <span class="title">addTwoStrings</span><span class="params">(string &amp;a, string &amp;b)</span></span>&#123;    <span class="comment">//try to add b at the end of a with optimal way</span></span><br><span class="line">        <span class="keyword">if</span>(b.<span class="built_in">find</span>(a) != string::npos) <span class="keyword">return</span> b; </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; a.<span class="built_in">size</span>(); ++i)&#123;</span><br><span class="line">            string t1 = a.<span class="built_in">substr</span>(i), t2 = b.<span class="built_in">substr</span>(<span class="number">0</span>,  t1.<span class="built_in">size</span>());</span><br><span class="line">            <span class="keyword">if</span>(t1 == t2) <span class="keyword">return</span> a + b.<span class="built_in">substr</span>(t1.<span class="built_in">size</span>());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a+b;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function">string <span class="title">solve</span><span class="params">(string&amp; a, string&amp; b, string&amp; c)</span> </span>&#123;    <span class="comment">//merge a,b first and then merge with c in sequence</span></span><br><span class="line">        string t1 = <span class="built_in">addTwoStrings</span>(a, b), t2 = <span class="built_in">addTwoStrings</span>(b, a);</span><br><span class="line">        string res1 = <span class="built_in">getMinString</span>(<span class="built_in">addTwoStrings</span>(t1, c), <span class="built_in">addTwoStrings</span>(c, t1));</span><br><span class="line">        string res2 = <span class="built_in">getMinString</span>( <span class="built_in">addTwoStrings</span>(t2, c), <span class="built_in">addTwoStrings</span>(c, t2));</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">getMinString</span>(res1, res2);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function">string <span class="title">minimumString</span><span class="params">(string a, string b, string c)</span> </span>&#123; </span><br><span class="line">        string res = <span class="built_in">getMinString</span>( <span class="built_in">solve</span>(a, b, c), <span class="built_in">solve</span>(b, c, a));</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">getMinString</span>( res , <span class="built_in">solve</span>(c,a,b));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>





<h2 id="2813-Maximum-Elegance-of-a-K-Length-Subsequence"><a href="#2813-Maximum-Elegance-of-a-K-Length-Subsequence" class="headerlink" title="2813. Maximum Elegance of a K-Length Subsequence"></a>2813. Maximum Elegance of a K-Length Subsequence</h2><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/maximum-elegance-of-a-k-length-subsequence/discuss/3869920/JavaC%2B%2BPython-Sort-by-Profit">https://leetcode.com/problems/maximum-elegance-of-a-k-length-subsequence/discuss/3869920/JavaC%2B%2BPython-Sort-by-Profit</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">findMaximumElegance</span><span class="params">(<span class="type">int</span>[][] items, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=items.length;</span><br><span class="line">    Arrays.sort(items,(a,b)-&gt;(b[<span class="number">0</span>]-a[<span class="number">0</span>]));</span><br><span class="line">    <span class="type">long</span> sum=<span class="number">0</span>;</span><br><span class="line">    Set&lt;Integer&gt; set=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    LinkedList&lt;Integer&gt; dup=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">long</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(i&lt;k)&#123;</span><br><span class="line">            sum+=items[i][<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">if</span>(set.contains(items[i][<span class="number">1</span>]))&#123;</span><br><span class="line">                dup.add(items[i][<span class="number">0</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(!set.contains(items[i][<span class="number">1</span>]))&#123;</span><br><span class="line">            <span class="keyword">if</span>(dup.isEmpty())&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//always update sum when seeing a unique item</span></span><br><span class="line">            sum+=items[i][<span class="number">0</span>]-dup.removeLast();</span><br><span class="line">        &#125;</span><br><span class="line">        set.add(items[i][<span class="number">1</span>]);</span><br><span class="line">        res=Math.max(res,sum+<span class="number">1L</span>*set.size()*set.size());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2817-Minimum-Absolute-Difference-Between-Elements-With-Constraint"><a href="#2817-Minimum-Absolute-Difference-Between-Elements-With-Constraint" class="headerlink" title="2817. Minimum Absolute Difference Between Elements With Constraint"></a>2817. Minimum Absolute Difference Between Elements With Constraint</h2><p>reflection：</p>
<ul>
<li>in paring problems, should always try to use symmetry to avoid duplication<ul>
<li>if every i is considered with [0,i-x], then no need to consider i with [i+x,n-1]</li>
</ul>
</li>
<li>find the one key idea of a problem, stay in control of the coding<ul>
<li>if already try one way for 20 minutes and no AC, quit and try another one</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minAbsoluteDifference</span><span class="params">(List&lt;Integer&gt; nums, <span class="type">int</span> x)</span> &#123;</span><br><span class="line">    TreeSet&lt;Integer&gt; set=<span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> n=nums.size();</span><br><span class="line">    <span class="type">int</span> res=Integer.MAX_VALUE;</span><br><span class="line">    <span class="comment">//check [0,i-x] for i</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> x; i &lt; n; i++) &#123;</span><br><span class="line">        set.add(nums.get(i-x));</span><br><span class="line">        <span class="type">int</span> num=nums.get(i);</span><br><span class="line">        Integer floor=set.floor(num);</span><br><span class="line">        <span class="keyword">if</span>(floor!=<span class="literal">null</span>)&#123;</span><br><span class="line">            res=Math.min(res,num-floor);</span><br><span class="line">        &#125;</span><br><span class="line">        Integer ceil=set.ceiling(num);</span><br><span class="line">        <span class="keyword">if</span>(ceil!=<span class="literal">null</span>)&#123;</span><br><span class="line">            res=Math.min(res,ceil-num);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="2850-Minimum-Moves-to-Spread-Stones-Over-Grid"><a href="#2850-Minimum-Moves-to-Spread-Stones-Over-Grid" class="headerlink" title="2850. Minimum Moves to Spread Stones Over Grid"></a>2850. Minimum Moves to Spread Stones Over Grid</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//直接暴力backtracking就行，不必要为了dp而dp</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minimumMoves</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">    <span class="comment">//if no 0, finished</span></span><br><span class="line">    <span class="comment">//can always find a solution in finite time, no stack overflow</span></span><br><span class="line">    <span class="keyword">return</span> dfs(grid);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] grid)</span>&#123;</span><br><span class="line">    <span class="type">int</span> tx=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> ty=<span class="number">0</span>;</span><br><span class="line">    <span class="type">boolean</span> finished=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">3</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[i][j]==<span class="number">0</span>)&#123;</span><br><span class="line">                tx=i;</span><br><span class="line">                ty=j;</span><br><span class="line">                finished=<span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(finished)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res=Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">3</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[i][j]&gt;<span class="number">1</span>)&#123;</span><br><span class="line">                grid[tx][ty]++;</span><br><span class="line">                grid[i][j]--;</span><br><span class="line">                res=Math.min(res,dfs(grid)+Math.abs(i-tx)+Math.abs(j-ty));</span><br><span class="line">                grid[tx][ty]--;</span><br><span class="line">                grid[i][j]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//wrong answer!!! 609 / 611 test cases passed.</span></span><br><span class="line"><span class="comment">//[0,1,3]</span></span><br><span class="line"><span class="comment">//[3,1,0]</span></span><br><span class="line"><span class="comment">//[0,1,0]</span></span><br><span class="line">Map&lt;String,Integer&gt; dp=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">Map&lt;Integer,List&lt;Integer&gt;&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">Set&lt;String&gt; seen=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line"><span class="comment">//0 1 2</span></span><br><span class="line"><span class="comment">//3 4 5</span></span><br><span class="line"><span class="comment">//6 7 8</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minimumMoves</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;<span class="number">9</span>; i++)&#123;</span><br><span class="line">        map.put(i,<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">    &#125;</span><br><span class="line">    map.get(<span class="number">0</span>).add(<span class="number">1</span>);</span><br><span class="line">    map.get(<span class="number">0</span>).add(<span class="number">3</span>);</span><br><span class="line">    map.get(<span class="number">1</span>).add(<span class="number">0</span>);</span><br><span class="line">    map.get(<span class="number">1</span>).add(<span class="number">2</span>);</span><br><span class="line">    map.get(<span class="number">1</span>).add(<span class="number">4</span>);</span><br><span class="line">    map.get(<span class="number">2</span>).add(<span class="number">1</span>);</span><br><span class="line">    map.get(<span class="number">2</span>).add(<span class="number">5</span>);</span><br><span class="line">    map.get(<span class="number">3</span>).add(<span class="number">0</span>);</span><br><span class="line">    map.get(<span class="number">3</span>).add(<span class="number">4</span>);</span><br><span class="line">    map.get(<span class="number">3</span>).add(<span class="number">6</span>);</span><br><span class="line">    map.get(<span class="number">4</span>).add(<span class="number">1</span>);</span><br><span class="line">    map.get(<span class="number">4</span>).add(<span class="number">3</span>);</span><br><span class="line">    map.get(<span class="number">4</span>).add(<span class="number">5</span>);</span><br><span class="line">    map.get(<span class="number">4</span>).add(<span class="number">7</span>);</span><br><span class="line">    map.get(<span class="number">5</span>).add(<span class="number">2</span>);</span><br><span class="line">    map.get(<span class="number">5</span>).add(<span class="number">4</span>);</span><br><span class="line">    map.get(<span class="number">5</span>).add(<span class="number">8</span>);</span><br><span class="line">    map.get(<span class="number">6</span>).add(<span class="number">3</span>);</span><br><span class="line">    map.get(<span class="number">6</span>).add(<span class="number">7</span>);</span><br><span class="line">    map.get(<span class="number">7</span>).add(<span class="number">4</span>);</span><br><span class="line">    map.get(<span class="number">7</span>).add(<span class="number">6</span>);</span><br><span class="line">    map.get(<span class="number">7</span>).add(<span class="number">8</span>);</span><br><span class="line">    map.get(<span class="number">8</span>).add(<span class="number">5</span>);</span><br><span class="line">    map.get(<span class="number">8</span>).add(<span class="number">7</span>);</span><br><span class="line">    dp.put(<span class="string">&quot;111111111&quot;</span>,<span class="number">0</span>);</span><br><span class="line">    StringBuilder sb=<span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;<span class="number">3</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>; j&lt;<span class="number">3</span>; j++)&#123;</span><br><span class="line">            sb.append(grid[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp(sb.toString());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">dp</span><span class="params">(String cur)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(dp.containsKey(cur))&#123;</span><br><span class="line">        <span class="keyword">return</span> dp.get(cur);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(seen.contains(cur))&#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    seen.add(cur);</span><br><span class="line">    <span class="type">char</span>[] chars=cur.toCharArray();</span><br><span class="line">    <span class="type">int</span> res=Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;<span class="number">9</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(chars[i]!=<span class="string">&#x27;0&#x27;</span>)&#123;</span><br><span class="line">            <span class="comment">//try to move while possible</span></span><br><span class="line">            <span class="comment">//should not redo</span></span><br><span class="line">            <span class="keyword">for</span> (Integer j : map.get(i)) &#123;</span><br><span class="line"></span><br><span class="line">                chars[i]--;</span><br><span class="line">                chars[j]++;</span><br><span class="line">                String sub=<span class="keyword">new</span> <span class="title class_">String</span>(chars);</span><br><span class="line">                <span class="type">int</span> dfs=dp(sub);</span><br><span class="line">                    <span class="keyword">if</span>(dfs!=-<span class="number">1</span>)&#123;</span><br><span class="line">                        res=Math.min(res,<span class="number">1</span>+dfs);</span><br><span class="line">                    &#125;</span><br><span class="line">                chars[i]++;</span><br><span class="line">                chars[j]--;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(res==Integer.MAX_VALUE)&#123;</span><br><span class="line">        res=-<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    seen.remove(cur);</span><br><span class="line">    dp.put(cur,res);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://invincible-nerd.github.io/2023/01/30/%E9%87%8D%E5%88%B7%E7%BB%8F%E5%85%B8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="invincible-nerd">
      <meta itemprop="description" content="For explorer everywhere">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IVN">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/30/%E9%87%8D%E5%88%B7%E7%BB%8F%E5%85%B8/" class="post-title-link" itemprop="url">重刷经典</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-30 17:33:32" itemprop="dateCreated datePublished" datetime="2023-01-30T17:33:32+08:00">2023-01-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-08-25 13:02:05" itemprop="dateModified" datetime="2023-08-25T13:02:05+08:00">2023-08-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index"><span itemprop="name">LeetCode</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>16k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>14 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="重刷经典老题"><a href="#重刷经典老题" class="headerlink" title="重刷经典老题"></a>重刷经典老题</h1><h2 id="4-Median-of-Two-Sorted-Arrays"><a href="#4-Median-of-Two-Sorted-Arrays" class="headerlink" title="4. Median of Two Sorted Arrays"></a>4. Median of Two Sorted Arrays</h2><h3 id="MergeSort"><a href="#MergeSort" class="headerlink" title="MergeSort"></a>MergeSort</h3><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/median-of-two-sorted-arrays/solution/">https://leetcode.com/problems/median-of-two-sorted-arrays/solution/</a></p>
<p>思路：</p>
<ol>
<li>if m+n is odd, (m+n)&#x2F;2 th </li>
<li>if m+n is even, the average of (m+n)&#x2F;2 and (m+n)&#x2F;2-1</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> p1=<span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> p2=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">get</span><span class="params">(<span class="type">int</span>[] nums1, <span class="type">int</span>[] nums2)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(p1&lt;nums1.length &amp;&amp; p2&lt;nums2.length)&#123;</span><br><span class="line">        <span class="keyword">return</span> nums1[p1]&lt;=nums2[p2] ? nums1[p1++] : nums2[p2++];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(p1&lt;nums1.length)&#123;</span><br><span class="line">        <span class="keyword">return</span> nums1[p1++];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums2[p2++];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">double</span> <span class="title function_">findMedianSortedArrays</span><span class="params">(<span class="type">int</span>[] nums1, <span class="type">int</span>[] nums2)</span> &#123;</span><br><span class="line">    <span class="type">int</span> m=nums1.length;</span><br><span class="line">    <span class="type">int</span> n=nums2.length;</span><br><span class="line">    <span class="keyword">if</span>((m+n)%<span class="number">2</span>==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="comment">//(m+n)/2</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;=(m+n)/<span class="number">2</span>-<span class="number">1</span>; i++)&#123;</span><br><span class="line">            get(nums1,nums2);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> get(nums1,nums2);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">//average of (m+n)/2 and (m+n)/2-1</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;(m+n)/<span class="number">2</span>-<span class="number">1</span>; i++)&#123;</span><br><span class="line">            get(nums1,nums2);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (get(nums1,nums2)+get(nums1,nums2))/<span class="number">2.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="BinarySearch"><a href="#BinarySearch" class="headerlink" title="BinarySearch"></a>BinarySearch</h3><p>The overall run time complexity should be <code>O(log (m+n))</code></p>
<p>死记硬背吧！&lt;放一边，&gt;&#x3D;放另一边</p>
<p>思路：</p>
<ul>
<li>每次分4半，舍去不可能的那1半<ul>
<li>若target在较小的2半，则舍弃最大的那1半</li>
<li>若target在较大的2半，则舍弃最小的那1半</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">findMedianSortedArrays</span><span class="params">(<span class="type">int</span>[] A, <span class="type">int</span>[] B)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">na</span> <span class="operator">=</span> A.length, nb = B.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> na + nb;</span><br><span class="line">        <span class="keyword">return</span> (<span class="type">double</span>)(solve(A, B, n / <span class="number">2</span>, <span class="number">0</span>, na - <span class="number">1</span>, <span class="number">0</span>, nb - <span class="number">1</span>) + solve(A, B, (n -<span class="number">1</span>)/ <span class="number">2</span> , <span class="number">0</span>, na - <span class="number">1</span>, <span class="number">0</span>, nb - <span class="number">1</span>)) / <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">solve</span><span class="params">(<span class="type">int</span>[] A, <span class="type">int</span>[] B, <span class="type">int</span> k, <span class="type">int</span> aStart, <span class="type">int</span> aEnd, <span class="type">int</span> bStart, <span class="type">int</span> bEnd)</span> &#123;</span><br><span class="line">        <span class="comment">// If the segment of on array is empty, it means we have passed all</span></span><br><span class="line">        <span class="comment">// its element, just return the corresponding element in the other array.</span></span><br><span class="line">        <span class="keyword">if</span> (aEnd &lt; aStart) &#123;</span><br><span class="line">            <span class="keyword">return</span> B[k - aStart];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (bEnd &lt; bStart) &#123;</span><br><span class="line">            <span class="keyword">return</span> A[k - bStart];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Get the middle indexes and middle values of A and B.</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">aIndex</span> <span class="operator">=</span> (aStart + aEnd) / <span class="number">2</span>, bIndex = (bStart + bEnd) / <span class="number">2</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">aValue</span> <span class="operator">=</span> A[aIndex], bValue = B[bIndex];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// If k is in the right half of A + B, remove the smaller left half.</span></span><br><span class="line">        <span class="keyword">if</span> (aIndex + bIndex &lt; k) &#123; </span><br><span class="line">            <span class="keyword">if</span> (aValue &gt;= bValue) &#123;</span><br><span class="line">                <span class="keyword">return</span> solve(A, B, k, aStart, aEnd, bIndex + <span class="number">1</span>, bEnd);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> solve(A, B, k, aIndex + <span class="number">1</span>, aEnd, bStart, bEnd);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// Otherwise, k is in the left half of A+B, remove the larger right half.</span></span><br><span class="line">        <span class="comment">//注意edge case：必须把&gt;=放一起考虑，不可以把&lt;=放一起考虑</span></span><br><span class="line">        <span class="comment">//当idx1+idx2==k时, 切掉了较大的mid，</span></span><br><span class="line">        <span class="keyword">else</span> &#123; </span><br><span class="line">            <span class="keyword">if</span> (aValue &gt;= bValue) &#123;</span><br><span class="line">                <span class="keyword">return</span> solve(A, B, k, aStart, aIndex - <span class="number">1</span>, bStart, bEnd);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> solve(A, B, k, aStart, aEnd, bStart, bIndex - <span class="number">1</span>);       </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="5-Longest-Palindromic-Substring"><a href="#5-Longest-Palindromic-Substring" class="headerlink" title="5. Longest Palindromic Substring"></a>5. Longest Palindromic Substring</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">longestPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=s.length();</span><br><span class="line">    <span class="type">int</span> start=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> end=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> len1=expandFromMid(s,i,i);</span><br><span class="line">        <span class="type">int</span> len2=expandFromMid(s,i,i+<span class="number">1</span>);</span><br><span class="line">        <span class="type">int</span> len=Math.max(len1,len2);</span><br><span class="line">        <span class="keyword">if</span>(len&gt;end-start+<span class="number">1</span>)&#123;</span><br><span class="line">            start=i-(len-<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">            end=i+len/<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s.substring(start,end+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">expandFromMid</span><span class="params">(String s, <span class="type">int</span> left, <span class="type">int</span> right)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(left&gt;right)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(left&gt;=<span class="number">0</span> &amp;&amp; right&lt;s.length() &amp;&amp; s.charAt(left)==s.charAt(right))&#123;</span><br><span class="line">        left--;</span><br><span class="line">        right++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> right-left-<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="6-Zigzag-Conversion"><a href="#6-Zigzag-Conversion" class="headerlink" title="6. Zigzag Conversion"></a>6. Zigzag Conversion</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">convert</span><span class="params">(String s, <span class="type">int</span> numRows)</span> &#123;</span><br><span class="line">    StringBuilder[] sbs=<span class="keyword">new</span> <span class="title class_">StringBuilder</span>[numRows];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; numRows; i++) &#123;</span><br><span class="line">        sbs[i]=<span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> n=s.length();</span><br><span class="line">    <span class="type">int</span> idx=<span class="number">0</span>;</span><br><span class="line">    <span class="type">char</span>[] chars=s.toCharArray();</span><br><span class="line">    a:<span class="keyword">while</span>(idx&lt;n)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; numRows; i++) &#123;</span><br><span class="line">            sbs[i].append(chars[idx++]);</span><br><span class="line">            <span class="keyword">if</span>(idx&gt;=n)&#123;</span><br><span class="line">                <span class="keyword">break</span> a;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> numRows-<span class="number">2</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">            sbs[i].append(chars[idx++]);</span><br><span class="line">            <span class="keyword">if</span>(idx&gt;=n)&#123;</span><br><span class="line">                <span class="keyword">break</span> a;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    StringBuilder res=sbs[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; numRows; i++) &#123;</span><br><span class="line">        res.append(sbs[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="7-Reverse-Integer"><a href="#7-Reverse-Integer" class="headerlink" title="7. Reverse Integer"></a>7. Reverse Integer</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">reverse</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">            <span class="type">long</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(x!=<span class="number">0</span>)&#123;</span><br><span class="line">        res*=<span class="number">10</span>;</span><br><span class="line">        res+=x%<span class="number">10</span>;</span><br><span class="line">        x/=<span class="number">10</span>;</span><br><span class="line">        <span class="keyword">if</span>(res&gt;Integer.MAX_VALUE || res&lt;Integer.MIN_VALUE)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="type">int</span>)res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p><strong>Follow up: Assume the environment does not allow you to store 64-bit integers (signed or unsigned).</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">reverse</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">    <span class="comment">//[-2147483648,2147483647]</span></span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(x!=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="type">int</span> pop=x%<span class="number">10</span>;</span><br><span class="line">        x/=<span class="number">10</span>;</span><br><span class="line">        <span class="keyword">if</span>(res&gt;Integer.MAX_VALUE/<span class="number">10</span> || res==Integer.MAX_VALUE/<span class="number">10</span> &amp;&amp; pop&gt;<span class="number">7</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(res&lt;Integer.MIN_VALUE/<span class="number">10</span> || res==Integer.MIN_VALUE/<span class="number">10</span> &amp;&amp; pop&lt;-<span class="number">8</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        res*=<span class="number">10</span>;</span><br><span class="line">        res+=pop;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h2 id="8-String-to-Integer-atoi"><a href="#8-String-to-Integer-atoi" class="headerlink" title="8. String to Integer (atoi)"></a>8. String to Integer (atoi)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">myAtoi</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(s==<span class="literal">null</span> || s.length()==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">double</span> res=<span class="number">0</span>;   <span class="comment">//double 比 long 更大</span></span><br><span class="line">    s=s.trim();</span><br><span class="line">    <span class="type">int</span> n=s.length();</span><br><span class="line">    <span class="type">boolean</span> negative=<span class="literal">false</span>;</span><br><span class="line">    <span class="type">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(s.charAt(<span class="number">0</span>)==<span class="string">&#x27;+&#x27;</span> || s.charAt(<span class="number">0</span>)==<span class="string">&#x27;-&#x27;</span>)&#123;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(s.charAt(<span class="number">0</span>)==<span class="string">&#x27;-&#x27;</span>)&#123;</span><br><span class="line">        negative=<span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;n)&#123;</span><br><span class="line">        <span class="type">char</span> c=s.charAt(i++);</span><br><span class="line">        <span class="keyword">if</span>(c&lt;<span class="string">&#x27;0&#x27;</span> || c&gt;<span class="string">&#x27;9&#x27;</span>)&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        res*=<span class="number">10</span>;</span><br><span class="line">        res+=c-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(negative)&#123;</span><br><span class="line">        res=-res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(res&lt;Integer.MIN_VALUE)&#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.MIN_VALUE;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(res&gt;Integer.MAX_VALUE)&#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.MAX_VALUE;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="type">int</span>)res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="9-Palindrome-Number"><a href="#9-Palindrome-Number" class="headerlink" title="9. Palindrome Number"></a>9. Palindrome Number</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isPalindrome</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">    String s=String.valueOf(x);</span><br><span class="line">    <span class="keyword">if</span>(s.charAt(<span class="number">0</span>)==<span class="string">&#x27;-&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>,j=s.length()-<span class="number">1</span>;i&lt;j;i++,j--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s.charAt(i)!=s.charAt(j))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="10-Regular-Expression-Matching"><a href="#10-Regular-Expression-Matching" class="headerlink" title="10. Regular Expression Matching"></a>10. Regular Expression Matching</h2><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/regular-expression-matching/discuss/191830/Java-DP-solution-beats-100-with-explanation">https://leetcode.com/problems/regular-expression-matching/discuss/191830/Java-DP-solution-beats-100-with-explanation</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//abd</span></span><br><span class="line"><span class="comment">//ad*</span></span><br><span class="line"><span class="comment">//a.*</span></span><br><span class="line"><span class="comment">//ac*</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isMatch</span><span class="params">(String s, String p)</span> &#123;</span><br><span class="line">    <span class="type">boolean</span>[][] dp=<span class="keyword">new</span> <span class="title class_">boolean</span>[s.length()+<span class="number">1</span>][p.length()+<span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>]=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= p.length(); i++) &#123;</span><br><span class="line">        <span class="comment">//a*b*</span></span><br><span class="line">        dp[<span class="number">0</span>][i]=p.charAt(i-<span class="number">1</span>)==<span class="string">&#x27;*&#x27;</span> &amp;&amp; dp[<span class="number">0</span>][i-<span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= p.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= s.length(); j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(p.charAt(i-<span class="number">1</span>)==s.charAt(j-<span class="number">1</span>) || p.charAt(i-<span class="number">1</span>)==<span class="string">&#x27;.&#x27;</span>)&#123;</span><br><span class="line">                dp[j][i]=dp[j-<span class="number">1</span>][i-<span class="number">1</span>];</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(p.charAt(i-<span class="number">1</span>)==<span class="string">&#x27;*&#x27;</span>)&#123;</span><br><span class="line">                dp[j][i]=dp[j][i-<span class="number">2</span>] ||</span><br><span class="line">                        dp[j-<span class="number">1</span>][i]&amp;&amp;(p.charAt(i-<span class="number">2</span>)==s.charAt(j-<span class="number">1</span>) || p.charAt(i-<span class="number">2</span>)==<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[s.length()][p.length()];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="12-Integer-to-Roman"><a href="#12-Integer-to-Roman" class="headerlink" title="12. Integer to Roman"></a>12. Integer to Roman</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">intToRoman</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">    String[] M=<span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;&quot;</span>,<span class="string">&quot;M&quot;</span>,<span class="string">&quot;MM&quot;</span>,<span class="string">&quot;MMM&quot;</span>&#125;;</span><br><span class="line">    String[] C=<span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;CC&quot;</span>,<span class="string">&quot;CCC&quot;</span>,<span class="string">&quot;CD&quot;</span>,<span class="string">&quot;D&quot;</span>,<span class="string">&quot;DC&quot;</span>,</span><br><span class="line">            <span class="string">&quot;DCC&quot;</span>,<span class="string">&quot;DCCC&quot;</span>,<span class="string">&quot;CM&quot;</span>&#125;;</span><br><span class="line">    String[] X=<span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;&quot;</span>,<span class="string">&quot;X&quot;</span>,<span class="string">&quot;XX&quot;</span>,<span class="string">&quot;XXX&quot;</span>,<span class="string">&quot;XL&quot;</span>,<span class="string">&quot;L&quot;</span>,<span class="string">&quot;LX&quot;</span>,</span><br><span class="line">    <span class="string">&quot;LXX&quot;</span>,<span class="string">&quot;LXXX&quot;</span>,<span class="string">&quot;XC&quot;</span>&#125;;</span><br><span class="line">    String[] I=<span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;&quot;</span>,<span class="string">&quot;I&quot;</span>,<span class="string">&quot;II&quot;</span>,<span class="string">&quot;III&quot;</span>,<span class="string">&quot;IV&quot;</span>,<span class="string">&quot;V&quot;</span>,<span class="string">&quot;VI&quot;</span>,</span><br><span class="line">    <span class="string">&quot;VII&quot;</span>,<span class="string">&quot;VIII&quot;</span>,<span class="string">&quot;IX&quot;</span>&#125;;</span><br><span class="line">    <span class="keyword">return</span> M[num/<span class="number">1000</span>]+C[(num%<span class="number">1000</span>)/<span class="number">100</span>]+X[(num%<span class="number">100</span>)/<span class="number">10</span>]+I[num%<span class="number">10</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="13-Roman-to-Integer"><a href="#13-Roman-to-Integer" class="headerlink" title="13. Roman to Integer"></a>13. Roman to Integer</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">romanToInt</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    Map&lt;Character,Integer&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    map.put(<span class="string">&#x27;I&#x27;</span>,<span class="number">1</span>);</span><br><span class="line">    map.put(<span class="string">&#x27;V&#x27;</span>,<span class="number">5</span>);</span><br><span class="line">    map.put(<span class="string">&#x27;X&#x27;</span>,<span class="number">10</span>);</span><br><span class="line">    map.put(<span class="string">&#x27;L&#x27;</span>,<span class="number">50</span>);</span><br><span class="line">    map.put(<span class="string">&#x27;C&#x27;</span>,<span class="number">100</span>);</span><br><span class="line">    map.put(<span class="string">&#x27;D&#x27;</span>,<span class="number">500</span>);</span><br><span class="line">    map.put(<span class="string">&#x27;M&#x27;</span>,<span class="number">1000</span>);</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> n=s.length();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(i==<span class="number">0</span>)&#123;</span><br><span class="line">            res+=map.get(s.charAt(i));</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(map.get(s.charAt(i))&gt;map.get(s.charAt(i-<span class="number">1</span>)))&#123;</span><br><span class="line">            res=res+map.get(s.charAt(i))-<span class="number">2</span>*map.get(s.charAt(i-<span class="number">1</span>));</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            res+=map.get(s.charAt(i));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="14-Longest-Common-Prefix"><a href="#14-Longest-Common-Prefix" class="headerlink" title="14. Longest Common Prefix"></a>14. Longest Common Prefix</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">longestCommonPrefix</span><span class="params">(String[] strs)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=strs.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; strs[<span class="number">0</span>].length(); i++) &#123;</span><br><span class="line">        <span class="type">char</span> c=strs[<span class="number">0</span>].charAt(i);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i==strs[j].length() || strs[j].charAt(i)!=c)&#123;</span><br><span class="line">                <span class="keyword">return</span> strs[<span class="number">0</span>].substring(<span class="number">0</span>,i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> strs[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="17-Letter-Combinations-of-a-Phone-Number"><a href="#17-Letter-Combinations-of-a-Phone-Number" class="headerlink" title="17. Letter Combinations of a Phone Number"></a>17. Letter Combinations of a Phone Number</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">letterCombinations</span><span class="params">(String digits)</span> &#123;</span><br><span class="line">    List&lt;String&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> n=digits.length();</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    String[] list=<span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">10</span>];</span><br><span class="line">    list[<span class="number">2</span>]=<span class="string">&quot;abc&quot;</span>;</span><br><span class="line">    list[<span class="number">3</span>]=<span class="string">&quot;def&quot;</span>;</span><br><span class="line">    list[<span class="number">4</span>]=<span class="string">&quot;ghi&quot;</span>;</span><br><span class="line">    list[<span class="number">5</span>]=<span class="string">&quot;jkl&quot;</span>;</span><br><span class="line">    list[<span class="number">6</span>]=<span class="string">&quot;mno&quot;</span>;</span><br><span class="line">    list[<span class="number">7</span>]=<span class="string">&quot;pqrs&quot;</span>;</span><br><span class="line">    list[<span class="number">8</span>]=<span class="string">&quot;tuv&quot;</span>;</span><br><span class="line">    list[<span class="number">9</span>]=<span class="string">&quot;wxyz&quot;</span>;</span><br><span class="line">    res.add(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        res=combine(res,list[digits.charAt(i)-<span class="string">&#x27;0&#x27;</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">List&lt;String&gt; <span class="title function_">combine</span><span class="params">(List&lt;String&gt; res, String chars)</span>&#123;</span><br><span class="line">    List&lt;String&gt; newRes=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (String s : res) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; chars.length(); i++) &#123;</span><br><span class="line">            newRes.add(s+chars.charAt(i));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> newRes;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="68-Text-Justification"><a href="#68-Text-Justification" class="headerlink" title="68. Text Justification"></a>68. Text Justification</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">fullJustify</span><span class="params">(String[] words, <span class="type">int</span> maxWidth)</span> &#123;</span><br><span class="line">            List&lt;String&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> n= words.length;</span><br><span class="line">    <span class="type">int</span> index=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (index&lt;n)&#123;</span><br><span class="line">        <span class="type">int</span> totalChars=words[index].length();</span><br><span class="line">        <span class="type">int</span> last=index+<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (last&lt;n)&#123;<span class="comment">//本行[index,last-1]</span></span><br><span class="line">            <span class="comment">//装不下了，此时last已经指向下一行的首个word</span></span><br><span class="line">            <span class="keyword">if</span>(totalChars+words[last].length()+<span class="number">1</span>&gt;maxWidth)&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//能装下，考虑至少1个空格</span></span><br><span class="line">            totalChars+=<span class="number">1</span>+words[last].length();</span><br><span class="line">            last++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//本行共last-index个数，有last-index-1个gap, 此时每个gap已经有1个空格</span></span><br><span class="line">        <span class="type">int</span> gaps=last-<span class="number">1</span>-index;<span class="comment">//本行间隔数</span></span><br><span class="line">        StringBuilder sb=<span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(last==n || gaps==<span class="number">0</span>)&#123; <span class="comment">//最后一行或没有间隔</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=index; i&lt;last; i++)&#123;</span><br><span class="line">                sb.append(words[i]);</span><br><span class="line">                sb.append(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            sb.deleteCharAt(sb.length()-<span class="number">1</span>); <span class="comment">//去掉最后一个空格</span></span><br><span class="line">            <span class="keyword">while</span>(sb.length()&lt;maxWidth)&#123;</span><br><span class="line">                sb.append(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;<span class="comment">//本行不是最后一行，也不止一个单词</span></span><br><span class="line">            <span class="comment">//spaces: 本行每个gap还需要添加的空格</span></span><br><span class="line">            <span class="comment">//rest: 分剩下的空格，从前往后各匀一个</span></span><br><span class="line">            <span class="type">int</span> spaces=(maxWidth-totalChars)/gaps;</span><br><span class="line">            <span class="comment">//[index, index+rest-1] 各分1个</span></span><br><span class="line">            <span class="type">int</span> rest=(maxWidth-totalChars)%gaps;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=index;i&lt;last-<span class="number">1</span>;i++)&#123;</span><br><span class="line">                sb.append(words[i]);</span><br><span class="line">                sb.append(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;spaces+(i-index&lt;rest?<span class="number">1</span>:<span class="number">0</span>);j++)&#123;<span class="comment">//间隔不止一个空格</span></span><br><span class="line">                    sb.append(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            sb.append(words[last-<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        res.add(sb.toString());</span><br><span class="line">        index=last;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="79-Word-Search"><a href="#79-Word-Search" class="headerlink" title="79. Word Search"></a>79. Word Search</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> row;</span><br><span class="line"><span class="type">int</span> col;</span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">exist</span><span class="params">(<span class="type">char</span>[][] board, String word)</span> &#123;</span><br><span class="line">    row=board.length;</span><br><span class="line">    col=board[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(board[i][j]==word.charAt(<span class="number">0</span>))&#123;</span><br><span class="line">                <span class="keyword">if</span>(helper(board,word,i,j,<span class="number">0</span>,<span class="keyword">new</span> <span class="title class_">boolean</span>[row][col]))&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">helper</span><span class="params">(<span class="type">char</span>[][] board, String word, <span class="type">int</span> i, <span class="type">int</span> j, <span class="type">int</span> idx, <span class="type">boolean</span>[][] visited)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(idx==word.length())&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(i&lt;<span class="number">0</span> || i&gt;=row || j&lt;<span class="number">0</span> || j&gt;=col || visited[i][j])&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(board[i][j]!=word.charAt(idx))&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    visited[i][j]=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(helper(board,word,i+<span class="number">1</span>,j,idx+<span class="number">1</span>,visited)||</span><br><span class="line">            helper(board,word,i-<span class="number">1</span>,j,idx+<span class="number">1</span>,visited)||</span><br><span class="line">            helper(board,word,i,j+<span class="number">1</span>,idx+<span class="number">1</span>,visited)||</span><br><span class="line">            helper(board,word,i,j-<span class="number">1</span>,idx+<span class="number">1</span>,visited))&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    visited[i][j]=<span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="273-Integer-to-English-Words"><a href="#273-Integer-to-English-Words" class="headerlink" title="273. Integer to English Words"></a>273. Integer to English Words</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">String[] twenties=<span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;&quot;</span>,<span class="string">&quot;One&quot;</span>,<span class="string">&quot;Two&quot;</span>,<span class="string">&quot;Three&quot;</span>,<span class="string">&quot;Four&quot;</span>,<span class="string">&quot;Five&quot;</span>,<span class="string">&quot;Six&quot;</span>,<span class="string">&quot;Seven&quot;</span>,<span class="string">&quot;Eight&quot;</span>,<span class="string">&quot;Nine&quot;</span>,<span class="string">&quot;Ten&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Eleven&quot;</span>,<span class="string">&quot;Twelve&quot;</span>,<span class="string">&quot;Thirteen&quot;</span>,<span class="string">&quot;Fourteen&quot;</span>,<span class="string">&quot;Fifteen&quot;</span>,<span class="string">&quot;Sixteen&quot;</span>,<span class="string">&quot;Seventeen&quot;</span>,<span class="string">&quot;Eighteen&quot;</span>,<span class="string">&quot;Nineteen&quot;</span>&#125;;</span><br><span class="line">String[] tens=<span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;&quot;</span>,<span class="string">&quot;Ten&quot;</span>,<span class="string">&quot;Twenty&quot;</span>,<span class="string">&quot;Thirty&quot;</span>,<span class="string">&quot;Forty&quot;</span>,<span class="string">&quot;Fifty&quot;</span>,<span class="string">&quot;Sixty&quot;</span>,<span class="string">&quot;Seventy&quot;</span>,<span class="string">&quot;Eighty&quot;</span>,<span class="string">&quot;Ninety&quot;</span>&#125;;</span><br><span class="line">String[] thousands=<span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;&quot;</span>,<span class="string">&quot;Thousand&quot;</span>,<span class="string">&quot;Million&quot;</span>,<span class="string">&quot;Billion&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">numberToWords</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(num==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Zero&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    String word=<span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="type">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(num!=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(num%<span class="number">1000</span>!=<span class="number">0</span>)&#123;</span><br><span class="line">            word=helper(num%<span class="number">1000</span>)+thousands[i]+<span class="string">&quot; &quot;</span>+word;</span><br><span class="line">        &#125;</span><br><span class="line">        num/=<span class="number">1000</span>;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> word.trim();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">String <span class="title function_">helper</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">20</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> twenties[n]+<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">100</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> tens[n/<span class="number">10</span>]+<span class="string">&quot; &quot;</span>+helper(n%<span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> twenties[n/<span class="number">100</span>]+<span class="string">&quot; Hundred &quot;</span>+helper(n%<span class="number">100</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="772-Basic-Calculator-III"><a href="#772-Basic-Calculator-III" class="headerlink" title="772. Basic Calculator III"></a>772. Basic Calculator III</h2><p>通法：双栈operands+operators + comparePrecedence</p>
<ul>
<li>(     &lt;     +,-     &lt;     *,&#x2F;</li>
<li>遇到 ( 直接进栈</li>
<li>遇到 ) 则一直算到 (</li>
<li>遇到 其他运算符 则一直算到 栈顶 &lt; curOp<ul>
<li>不可接受：栈顶 &gt;&#x3D; curOp<ul>
<li>1*2+3</li>
<li>2*2&#x2F;3</li>
<li>2-2-1</li>
</ul>
</li>
<li>可以接受：1+2*3</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">	Map&lt;Character, Integer&gt; map;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">calculate</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        s = s.replace(<span class="string">&quot; &quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span> ((c == <span class="string">&#x27;+&#x27;</span> || c == <span class="string">&#x27;-&#x27;</span>) &amp;&amp; (i == <span class="number">0</span> || s.charAt(i - <span class="number">1</span>) == <span class="string">&#x27;(&#x27;</span>)) &#123;</span><br><span class="line">                sb.append(<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            sb.append(c);</span><br><span class="line">        &#125;</span><br><span class="line">        s = sb.toString();</span><br><span class="line">        Deque&lt;Integer&gt; operands = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">        Deque&lt;Character&gt; operators = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">        map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&#x27;(&#x27;</span>, -<span class="number">1</span>);</span><br><span class="line">        map.put(<span class="string">&#x27;+&#x27;</span>, <span class="number">0</span>);</span><br><span class="line">        map.put(<span class="string">&#x27;-&#x27;</span>, <span class="number">0</span>);</span><br><span class="line">        map.put(<span class="string">&#x27;*&#x27;</span>, <span class="number">1</span>);</span><br><span class="line">        map.put(<span class="string">&#x27;/&#x27;</span>, <span class="number">1</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (Character.isDigit(c)) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">val</span> <span class="operator">=</span> Character.getNumericValue(c);</span><br><span class="line">                <span class="keyword">while</span> (i + <span class="number">1</span> &lt; n &amp;&amp; Character.isDigit(s.charAt(i + <span class="number">1</span>))) &#123;</span><br><span class="line">                    val = val * <span class="number">10</span> + Character.getNumericValue(s.charAt(i + <span class="number">1</span>));</span><br><span class="line">                    i++;</span><br><span class="line">                &#125;</span><br><span class="line">                operands.push(val);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                operators.push(c);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">while</span> (operators.peek() != <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> operands.pop();</span><br><span class="line">                    <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> operands.pop();</span><br><span class="line">                    operands.push(operate(b, a, operators.pop()));</span><br><span class="line">                &#125;</span><br><span class="line">                operators.pop();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">while</span> (!operators.isEmpty() &amp;&amp; comparePrecedence(operators.peek(), c) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> operands.pop();</span><br><span class="line">                    <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> operands.pop();</span><br><span class="line">                    operands.push(operate(b, a, operators.pop()));</span><br><span class="line">                &#125;</span><br><span class="line">                operators.push(c);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (!operators.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> operands.pop();</span><br><span class="line">            <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> operands.pop();</span><br><span class="line">            operands.push(operate(b, a, operators.pop()));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> operands.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">operate</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b, <span class="type">char</span> c)</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span>(c) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span> :</span><br><span class="line">                <span class="keyword">return</span> a + b;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span> :</span><br><span class="line">                <span class="keyword">return</span> a - b;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span> :</span><br><span class="line">                <span class="keyword">return</span> a / b;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span> :</span><br><span class="line">                <span class="keyword">return</span> a * b;</span><br><span class="line">            <span class="keyword">default</span> :</span><br><span class="line">                <span class="keyword">return</span> a + b;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">comparePrecedence</span><span class="params">(<span class="type">char</span> a, <span class="type">char</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> map.get(a) - map.get(b);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1597-Build-Binary-Expression-Tree-From-Infix-Expression"><a href="#1597-Build-Binary-Expression-Tree-From-Infix-Expression" class="headerlink" title="1597. Build Binary Expression Tree From Infix Expression"></a>1597. Build Binary Expression Tree From Infix Expression</h2><p>与772异曲同工</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">  <span class="type">char</span> val;</span><br><span class="line">  Node left;</span><br><span class="line">  Node right;</span><br><span class="line">  Node() &#123;<span class="built_in">this</span>.val = <span class="string">&#x27; &#x27;</span>;&#125;</span><br><span class="line">  Node(<span class="type">char</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">  Node(<span class="type">char</span> val, Node left, Node right) &#123;</span><br><span class="line">      <span class="built_in">this</span>.val = val;</span><br><span class="line">      <span class="built_in">this</span>.left = left;</span><br><span class="line">      <span class="built_in">this</span>.right = right;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> Node <span class="title function_">expTree</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    Deque&lt;Node&gt; nodes = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    Deque&lt;Character&gt; operators = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        <span class="type">char</span> c=s.charAt(i);</span><br><span class="line">        <span class="keyword">if</span>(Character.isDigit(c))&#123;</span><br><span class="line">            nodes.push(<span class="keyword">new</span> <span class="title class_">Node</span>(c));</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(c==<span class="string">&#x27;(&#x27;</span>)&#123;</span><br><span class="line">            operators.push(c);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(c==<span class="string">&#x27;)&#x27;</span>)&#123;</span><br><span class="line">            <span class="keyword">while</span>(operators.peek()!=<span class="string">&#x27;(&#x27;</span>)&#123;</span><br><span class="line">                nodes.push(build(operators.pop(),nodes.pop(),nodes.pop()));</span><br><span class="line">            &#125;</span><br><span class="line">            operators.pop();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">while</span>(!operators.isEmpty() &amp;&amp; compare(operators.peek(),c))&#123;</span><br><span class="line">                nodes.push(build(operators.pop(),nodes.pop(),nodes.pop()));</span><br><span class="line">            &#125;</span><br><span class="line">            operators.push(c);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!operators.isEmpty())&#123;</span><br><span class="line">        nodes.push(build(operators.pop(),nodes.pop(),nodes.pop()));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nodes.peek();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> Node <span class="title function_">build</span><span class="params">(<span class="type">char</span> val, Node first, Node second)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Node</span>(val,second,first);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">compare</span><span class="params">(<span class="type">char</span> o1, <span class="type">char</span> o2)</span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(o1==<span class="string">&#x27;(&#x27;</span> || o1==<span class="string">&#x27;)&#x27;</span>)&#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> o1==<span class="string">&#x27;*&#x27;</span> || o1==<span class="string">&#x27;/&#x27;</span> || o2==<span class="string">&#x27;+&#x27;</span> || o2==<span class="string">&#x27;-&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="33-Search-in-Rotated-Sorted-Array"><a href="#33-Search-in-Rotated-Sorted-Array" class="headerlink" title="33. Search in Rotated Sorted Array"></a>33. Search in Rotated Sorted Array</h2><h2 id="81-Search-in-Rotated-Sorted-Array-II"><a href="#81-Search-in-Rotated-Sorted-Array-II" class="headerlink" title="81. Search in Rotated Sorted Array II"></a>81. Search in Rotated Sorted Array II</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://invincible-nerd.github.io/2023/01/24/Max-Consecutive-Ones/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="invincible-nerd">
      <meta itemprop="description" content="For explorer everywhere">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IVN">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/24/Max-Consecutive-Ones/" class="post-title-link" itemprop="url">Max_Consecutive_Ones</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-01-24 20:50:26" itemprop="dateCreated datePublished" datetime="2023-01-24T20:50:26+08:00">2023-01-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-01-25 13:01:37" itemprop="dateModified" datetime="2023-01-25T13:01:37+08:00">2023-01-25</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Max-Consecutive-Ones"><a href="#Max-Consecutive-Ones" class="headerlink" title="Max Consecutive Ones"></a>Max Consecutive Ones</h1><h2 id="485-Max-Consecutive-Ones"><a href="#485-Max-Consecutive-Ones" class="headerlink" title="485. Max Consecutive Ones"></a>485. Max Consecutive Ones</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findMaxConsecutiveOnes</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> cur=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[i]==<span class="number">1</span>)&#123;</span><br><span class="line">            cur++;</span><br><span class="line">            res=Math.max(res,cur);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            cur=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="487-Max-Consecutive-Ones-II"><a href="#487-Max-Consecutive-Ones-II" class="headerlink" title="487. Max Consecutive Ones II"></a>487. Max Consecutive Ones II</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findMaxConsecutiveOnes</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="type">boolean</span> firstZero=<span class="literal">true</span>;</span><br><span class="line">    <span class="type">int</span> pre=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> cur=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[i]==<span class="number">1</span>)&#123;</span><br><span class="line">            cur++;</span><br><span class="line">            firstZero=<span class="literal">true</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(firstZero)&#123;</span><br><span class="line">                res=Math.max(res,pre+cur+<span class="number">1</span>);</span><br><span class="line">                pre=cur;</span><br><span class="line">                cur=<span class="number">0</span>;</span><br><span class="line">                firstZero=<span class="literal">false</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">               pre=<span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    res=Math.max(res,pre+cur+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> res&gt;n ? n : res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="1004-Max-Consecutive-Ones-III"><a href="#1004-Max-Consecutive-Ones-III" class="headerlink" title="1004. Max Consecutive Ones III"></a>1004. Max Consecutive Ones III</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestOnes</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="type">int</span> left=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> right=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> curZero=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(right&lt;n)&#123;</span><br><span class="line">        <span class="comment">//[left,right)</span></span><br><span class="line">        <span class="type">int</span> cur=nums[right++];</span><br><span class="line">        <span class="keyword">if</span>(cur==<span class="number">0</span>)&#123;</span><br><span class="line">            curZero++;</span><br><span class="line">            <span class="keyword">while</span>(curZero&gt;k)&#123;</span><br><span class="line">                <span class="keyword">if</span>(nums[left]==<span class="number">0</span>)&#123;</span><br><span class="line">                    curZero--;</span><br><span class="line">                &#125;</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        res=Math.max(res,right-left);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/unusable-index/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/unusable-index/">1</a><span class="page-number current">2</span><a class="page-number" href="/unusable-index/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/unusable-index/page/9/">9</a><a class="extend next" rel="next" href="/unusable-index/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">invincible-nerd</p>
  <div class="site-description" itemprop="description">For explorer everywhere</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">86</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">35</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2022-04 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">invincible-nerd</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">1.1m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">17:08</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
